{"version":3,"sources":["utils/tagCanvas.js","materials/loading.gif","services/requests.js","services/request/data/getSensitiveWord.js","components/common/MultiFilter/criteria.js","components/common/DataContent/DataContent.jsx","services/request/data/getOverallData.js","components/common/AutofitWrap/AutofitWrap.js","components/common/Loading/Loading.js","components/Home/Home.jsx","components/common/MultiFilter/MultiFilter.jsx","components/common/DataList/DataList.jsx","services/request/data/getContentTag.js","redux/actions.js","components/Overall/Overall.jsx","services/request/programme/getProgrammes.js","services/request/programme/addProgramme.js","components/Programme/Sider/Sider.jsx","services/request/data/getProgrammeData.js","components/Programme/Specific/Specific.jsx","services/request/programme/getProgrammeOrigins.js","services/request/programme/delProgrammeOrigin.js","services/request/programme/addProgrammeOrigin.js","components/Programme/Origin/Origin.jsx","services/request/programme/modifyProgamme.js","services/request/programme/delProgramme.js","components/Programme/Config/Config.jsx","components/common/Echart/getRules/defaultPie.js","components/common/Echart/getRules/areaLine.js","components/common/Echart/getRules/doughnutPie.js","components/common/Echart/getRules/horizontalBar.js","components/common/Echart/getRules/chinaMap.js","components/common/Echart/getRules/defaultTree.js","components/common/Echart/getRules/circleTree.js","components/common/Echart/getRules/connGraph.js","components/common/Echart/getRules/stackLine.js","components/common/Echart/getRules/basicLine.js","components/common/Echart/Echart.jsx","services/request/data/getAmountTrend.js","services/request/data/getSensiLayout.js","services/request/data/getSourceLayout.js","services/request/data/getRegionLayout.js","services/request/data/getTraceTree.js","components/common/WordCloud/WordCloud.jsx","services/request/data/getKeywordsCloud.js","services/request/programme/getProgrammeSensiLayout.js","services/request/programme/getProgrammeSourceLayout.js","services/request/programme/getProgrammeAmountTrend.js","services/request/programme/getProgrammeRegionLayout.js","services/request/data/getEventTree.js","services/request/programme/getProgrammeSentimentLayout.js","services/request/programme/getProgrammeSentimentTrend.js","components/Programme/View/View.jsx","components/Programme/Alert/Alert.jsx","services/request/data/getWeiboUserData.js","components/Programme/Trace/Trace.jsx","components/Programme/Content/Content.jsx","components/Programme/Programme.jsx","components/Admin/OrgList/OrgList.jsx","components/Admin/UserList/UserList.jsx","services/request/data/getUsers.js","components/Admin/Admin.jsx","components/View/View.jsx","components/Entry/getRoutes.js","services/request/auth/login.js","components/Entry/Header/Header.jsx","components/Entry/Entry.jsx","components/Authority/Login/Login.js","services/request/auth/register.js","components/Authority/Register/Register.js","components/Authority/Authority.js","components/Entry/Guard/Guard.jsx","services/mocks/data/getOverallData.js","services/mocks/data/getProgrammeData.js","services/mocks/mocks.js","redux/reducer/user.js","redux/reducer/programme.js","redux/reducer/overall.js","redux/reducer.js","redux/store.js","components/App.js","index.js"],"names":["i","j","Oproto","Tproto","TCproto","Mproto","Vproto","TSproto","TCVproto","ocanvas","abs","Math","sin","cos","max","min","ceil","sqrt","pow","hexlookup3","hexlookup2","hexlookup1","0","1","2","3","4","5","6","7","8","9","a","A","b","B","c","C","d","D","e","E","f","F","doc","document","handlers","toString","toUpperCase","Defined","IsObject","o","Clamp","v","mn","mx","isNaN","Nop","TimeNow","Date","valueOf","Shuffle","t","p","length","random","Vector","x","y","z","this","Matrix","PointsOnSphere","n","xr","yr","zr","magic","r","phi","inc","pts","off","PI","parseFloat","push","Cylinder","k","l","Ring","PointsOnCylinderV","m","PointsOnCylinderH","PointsOnRingV","offset","PointsOnRingH","NewCanvas","w","h","window","G_vmlCanvasManager","createElement","width","height","SetGradient","g","gd","createLinearGradient","addColorStop","fillStyle","fillRect","FindGradientColour","tc","cv","gl","weightGradient","gCanvas","getContext","getImageData","data","TextSet","ctxt","font","colour","strings","padx","pady","shadowColour","shadowBlur","shadowOffsets","maxWidth","widths","align","xc","xo","yo","textBaseline","shadowColor","shadowOffsetX","shadowOffsetY","fillText","parseInt","RRect","s","beginPath","moveTo","arcTo","closePath","TextCanvas","stringWidths","valign","scale","ExpandImage","drawImage","ScaleImage","AddBackgroundToImage","othickness","ocolour","padding","radius","ofill","x1","y1","x2","y2","cc","rr","cw","ch","strokeStyle","lineWidth","globalCompositeOperation","image","FindTextBoundingBox","ht","idata","w1","h1","ex","FixFont","replace","AddHandler","addEventListener","attachEvent","AddImage","mscale","ic","bc","oc","iw","ih","imageScale","complete","txtOpt","zoomMax","txtScale","naturalWidth","naturalHeight","fimage","imageRadius","r1","indexOf","arc","fill","RoundImage","HasText","shadow","sc","sb","so","sw","sh","AddShadowToImage","shadowOffset","bgColour","bgOutlineThickness","GetProperty","bgOutline","textColour","outlineMethod","outline","bgRadius","oimage","outlineIncrease","Init","dv","defaultView","pc","charAt","getComputedStyle","getPropertyValue","currentStyle","FindWeight","wFrom","tHeight","getAttribute","EventToCanvasId","target","id","srcElement","parentNode","EventXY","xy","xmul","ymul","offsetX","offsetY","AbsPos","changedTouches","pageX","pageY","MouseOut","fromElement","TagCanvas","my","UnFreeze","EndDrag","MouseMove","tg","tttimer","clearTimeout","canvas","Drag","drawn","MouseDown","cb","button","BeginDrag","MouseUp","touchState","Clicked","TouchDown","touches","targetTouches","pinchZoom","BeginPinch","EndPinch","TouchUp","Draw","TouchMove","Pinch","MouseWheel","cancelBubble","returnValue","preventDefault","Wheel","wheelDelta","detail","Scroll","scrollTimer","Pause","setTimeout","Resume","scrollPause","DrawCanvas","DrawCanvasRAF","NextFrame","interval","getElementById","getBoundingClientRect","dd","documentElement","body","xs","pageXOffset","scrollLeft","ys","pageYOffset","scrollTop","clientLeft","clientTop","left","top","TextSplitter","br","line","text","original","innerText","textContent","Outline","ts","tag","pulse","pulsate","pulsateTo","outlineColour","adash","outlineDash","agap","outlineDashSpace","aspeed","outlineDashSpeed","DrawPulsate","DrawSimple","outlineRadius","SetMethod","Tag","col","bcol","bradius","boutline","bothickness","text_original","line_widths","title","position","textFont","alpha","weighted","weight","cid","lctr","opt","raf","cp","initElement","ie","navigator","appVersion","split","insertBefore","removeChild","options","z1","depth","z2","zoom","max_radius","max_weight","min_weight","textHeight","minBrightness","maxBrightness","lx","lock","ly","frozen","dx","dy","fixedAnim","fixedAlpha","source","repeatTags","minTags","GetTags","transform","Identity","startTime","time","centreImage","Image","onload","centreFunc","cx","cy","setTransform","globalAlpha","src","CentreImage","Animate","dragControl","AnimateDrag","AnimatePosition","animTiming","Smooth","shadowAlpha","strokeRect","ShadowAlphaBroken","Load","hideTags","loaded","HideTags","yaw","initial","maxSpeed","pitch","tooltip","ctitle","Tooltip","TooltipNative","TooltipDiv","ttdiv","className","tooltipClass","style","zIndex","display","appendChild","TooltipNone","noMouse","wheelZoom","started","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","NextFrameRAF","NextFrameTimeout","PinchDistance","t1","t2","tccall","prototype","dot","cross","angle","ac","acos","unit","Rotation","u","sina","cosa","mcos","mul","mmatrix","xform","SetImage","iwidth","iheight","ipos","ipad","iscale","ialign","ivalign","Align","size","space","pos","Create","offx","offy","ix","iy","shadowcv","shadowc","sox","soy","Empty","Lines","cn","cl","childNodes","nodeName","join","nodeType","nodeValue","SplitWidth","words","measureText","om","methods","block","classic","none","funcs","drawFunc","Update","outlineOffset","o2","Ants","ants","l1","l2","g1","g2","seq","setLineDash","DrawOutline","DrawSize","tw","th","oscale","DrawColour","DrawColourText","normal","DrawColourImage","ccanvas","fx","fy","fw","fh","clearRect","save","rect","clip","restore","DrawBlock","ga","useGa","outlineThickness","diff","pulsateTime","Active","PreDraw","PostDraw","LastDraw","Measure","SetShadowColour","SetShadowColourAlpha","SetShadowColourFixed","SetDraw","EqualTo","getElementsByTagName","href","DrawImageIE","DrawImage","DrawText","noSelect","CheckActive","MeasureText","wl","soff","twidth","theight","img","tcv","extents","textAlign","textVAlign","imagePosition","imagePadding","imageAlign","imageVAlign","SetFont","boc","SetWeight","modes","weightMode","Weight","wmin","wmax","wnum","nweight","weightSizeMin","weightSizeMax","weightSize","p1","p2","ae","toPrecision","substr","lastIndexOf","substring","SetAlpha","xoff","yoff","xl","im","Calc","pp","mnb","mxb","xformed","sx","sy","Project","stretchX","stretchY","UpdateActive","evt","createEvent","initMouseEvent","dispatchEvent","fireEvent","location","self","frames","err","open","SourceElements","querySelectorAll","el","etl","tl","Message","CreateTag","txt","imageMode","splitWidth","UpdateTag","valid","ll","weights","wfrom","weightFrom","shape","shapeArgs","rx","ry","rz","vl","taglist","tagmap","pfuncs","sphere","vcylinder","hcylinder","vring","hring","shuffleTags","radiusX","radiusY","radiusZ","shift","concat","apply","listLength","noTagsMessage","found","ol","nl","newlist","added","removed","splice","sort","pop","SetShadow","paused","active","fixed","max_sc","tdelta","aindex","frontsel","frontSelect","centreDrawn","AnimateFixed","SortList","alert","freezeActive","Freeze","fixedCallback","fixedCallbackTag","cursor","activeCursor","SetTTDiv","innerHTML","tooltipDelay","Transform","sp","ym","pm","fa","fadeIn","t0","axis","reverse","freezeDecel","Decel","rs","preFreeze","minSpeed","ay","ap","z0","decel","Zoom","clickToFront","TagToFront","zoomStep","zoomMin","down","dragThreshold","dragging","res","pinched","SetSpeed","FindTag","index","srch","tgt","RotateTag","lt","lg","callback","v1","v2","MakeVector","Start","Delete","Linear","Reload","speed","lat","lng","tt","removeEventListener","detachEvent","iv","0.33","0.66","module","exports","curDomain","requests","getTopics","url","method","getOverallData","getProgrammeData","getSensiLayout","getSourceLayout","getAmountTrend","getRegionLayout","register","getTraceTree","modifyProgramme","addProgramme","delProgramme","getProgrammes","login","logout","getUsers","getKeywordsCloud","getSensitiveWord","getContentTag","getProgrammeSensiLayout","getProgrammeSourceLayout","getProgrammeAmountTrend","getProgrammeRegionLayout","getProgrammeOrigins","addProgrammeOrigin","delProgrammeOrigin","getWeiboUserData","getEventTree","getProgrammeSentimentLayout","getProgrammeSentimentTrend","encodeURI","fetch","JSON","stringify","headers","response","status","json","result","criteria","name","label","defaultValue","value","DataContent","props","record","content","console","log","contentSlice","prevEnd","forEach","item","st","sensitive","slice","ed","setState","renderSource","Lodash","find","renderSensi","state","prevProps","prevState","snapshot","visible","handleModalCancel","addr","sensi","publishedDay","onCancel","wrapClassName","map","React","Component","keyword","startPublishedDay","endPublishedDay","timeOrder","pageSize","pageId","params","fromType","cflag","page","qs","rawResult","dataSize","hitNumber","dataContent","resource","webpageUrl","moment","add","format","AutofitWrap","handleResize","debounce","offsetHeight","event","minHeight","children","Loading","Home","handleSearch","getSensitiveInfo","getLatestInfo","sensitiveLoading","sensitiveInfo","latestLoading","latestInfo","handleRefresh","then","Promise","resolve","tags","error","handleTitleClick","curRecord","undefined","setInterval","loading","onClick","month","date","MultiFilter","handleSelect","type","onSelect","onSearch","handleDateChange","moments","onDateChange","current","initialKeyword","Search","enterButton","labelCol","span","wrapperCol","Group","onChange","option","key","RangePicker","DataList","renderMoment","color","renderTitle","renderTxt","handleTitleClicked","renderAddr","renderFooter","primary","icon","TagsOutlined","handleMaterial","HeartOutlined","handleCollect","handlePageTurned","pagination","onPageChange","rowSelection","selectedRowKeys","selectedRows","getCheckboxProps","columnsRender","dataIndex","render","LoadingOutlined","disableTag","disableSource","filter","rowKey","columns","dataSource","total","onShowSizeChange","onPageSizeChange","fontSize","connect","forwardRef","contents","textList","actionTypes","TEST","Symbol","ON_AUTH_CHANGE","ON_PROGRAMME_CHANGE","ON_OVERALL_PATH_CHANGE","actions","test","onAuthChange","onProgrammeChange","onOverallPathChange","Overall","path","tagResult","newData","startMoment","endMoment","newState","startOf","subtract","handlePageChange","handlePageSizeChange","handleKeywordChange","dateRange","pick","overallPath","SearchOutlined","mapDispatchToProps","withRouter","username","fid","programmeName","keywordMatch","matchType","regionKeywords","regionKeyword","eventKeywords","eventKeyword","roleKeywords","roleKeyword","regionMatch","regionKeywordMatch","eventMatch","eventKeywordMatch","roleMatch","roleKeywordMatch","enableAlert","rawData","userName","saveFangAn","Sider","programmes","curProgramme","handleProgrammeNew","newProgrammeVisible","newProgrammeName","handleProgrammeSelect","PlusOutlined","onOk","marginBottom","selectedKeys","mode","Item","Specific","delProgrammeOrigins","oid","user","remarks","Origin","getOrigins","delOrigin","delUrl","handleNewAddrChange","newAddr","handleNewNameChange","newName","handleNewOrigin","saveUrl","danger","placeholder","changeFangAn","delFangAn","Config","handleProgrammeConfig","resetProgrammeForm","form","setFieldsValue","layout","subLayout","radioLayout","ref","onFinish","info","onFinishFailed","rules","required","message","Button","TextArea","rows","htmlType","defaultPie","trigger","series","areaLine","xAxis","boundaryGap","yAxis","areaStyle","smooth","doughnutPie","legend","orient","avoidLabelOverlap","labelLine","show","horizontalBar","axisPointer","grid","right","bottom","containLabel","stack","barWidth","chinaMap","visualMap","inRange","calculable","mapType","roam","regions","defaultTree","formatter","author","triggerOn","symbolSize","verticalAlign","leaves","emphasis","focus","initialTreeDepth","expandAndCollapse","animationDuration","animationDurationUpdate","circleTree","symbol","connGraph","clusterNum","summary","fontWeight","stackLine","axisLabel","markPoint","basicLine","Echart","guid","Mock","Random","defaultWidth","defaultHeight","echarts","china","getRules","theme","sourceAmountTrend","timeRange","str","fromMoment","toMoment","Object","keys","totalAmountTrend","sensiLayout","cflag1","cflag0","sourceLayout","regionMap","Map","set","regionLayout","get","WordCloud","wordOption","backgroundColor","pointFormat","gridSize","sizeRange","rotationRange","textStyle","keywordNumber","Array","sentimentLayout","happy","angry","sad","fear","surprise","neutral","emotionTrendLayout","happyTrend","angryTrend","sadTrend","fearTrend","surpriseTrend","neutralTrend","View","formatEventTree","list","head","childList","changeTraceTreeFormat","traceTreeFormat","handleCarouselChange","keywordsCloud","emotionLayout","getEmotionLayout","emotionTrend","getEmotionTrend","eventTree","traceTree","withChildren","noChildren","formatedEventTree","carousel","goTo","mouseWheel","deltaY","next","prev","dotPosition","dots","afterChange","Alert","formatEmotionTrendLayout","raw","negData","Trace","handleInputChange","Content","handleTabPageSelect","curTabPage","defaultSelectedKeys","Programme","OrgList","UserList","field","users","credentials","userType","role","Layout","Admin","Menu","SubMenu","getOrgs","handleRoleSelect","curRole","orgs","UnorderedListOutlined","getRoutes","routes","link","component","password","withCredentials","history","createBrowserHistory","Header","handleLogout","localStorage","removeItem","handleClick","componentDidMount","pathname","routeLinks","includes","listen","RadarChartOutlined","LogoutOutlined","route","to","Entry","from","Footer","Login","handleSubmit","setItem","handleReject","tailLayout","validator","rule","maxLength","Password","valuePropName","email","phone","Register","getFieldValue","_","reject","Error","Authority","TabPane","tab","Guard","redirectPath","mock","integer","mockFetch","handleAuthChange","getItem","handleProgrammeChange","handleOverallPathChange","initialState","Store","createStore","App","store","ReactDOM"],"mappings":"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","file":"static/js/main.4bd7f039.chunk.js","sourcesContent":["/* eslint-disable */\n/**\n * Copyright (C) 2010-2015 Graham Breach\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n * \n * You should have received a copy of the GNU Lesser General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * TagCanvas 2.9\n * For more information, please contact <graham@goat1000.com>\n */\n(function(){\n\"use strict\";\nvar i, j, abs = Math.abs, sin = Math.sin, cos = Math.cos, max = Math.max,\n  min = Math.min, ceil = Math.ceil, sqrt = Math.sqrt, pow = Math.pow,\n  hexlookup3 = {}, hexlookup2 = {}, hexlookup1 = {\n  0:\"0,\",   1:\"17,\",  2:\"34,\",  3:\"51,\",  4:\"68,\",  5:\"85,\",\n  6:\"102,\", 7:\"119,\", 8:\"136,\", 9:\"153,\", a:\"170,\", A:\"170,\",\n  b:\"187,\", B:\"187,\", c:\"204,\", C:\"204,\", d:\"221,\", D:\"221,\",\n  e:\"238,\", E:\"238,\", f:\"255,\", F:\"255,\"  \n  }, Oproto, Tproto, TCproto, Mproto, Vproto, TSproto, TCVproto,\n  doc = document, ocanvas, handlers = {};\nfor(i = 0; i < 256; ++i) {\n  j = i.toString(16);\n  if(i < 16)\n    j = '0' + j;\n  hexlookup2[j] = hexlookup2[j.toUpperCase()] = i.toString() + ',';\n}\nfunction Defined(d) {\n  return typeof d != 'undefined';\n}\nfunction IsObject(o) {\n  return typeof o == 'object' && o != null;\n}\nfunction Clamp(v, mn, mx) {\n  return isNaN(v) ? mx : min(mx, max(mn, v));\n}\nfunction Nop() {\n  return false;\n}\nfunction TimeNow() {\n  return new Date().valueOf();\n}\nfunction SortList(l, f) {\n  var nl = [], tl = l.length, i;\n  for(i = 0; i < tl; ++i)\n    nl.push(l[i]);\n  nl.sort(f);\n  return nl;\n}\nfunction Shuffle(a) {\n  var i = a.length-1, t, p;\n  while(i) {\n    p = ~~(Math.random()*i);\n    t = a[i];\n    a[i] = a[p];\n    a[p] = t;\n    --i;\n  }\n}\nfunction Vector(x, y, z) {\n  this.x = x;\n  this.y = y;\n  this.z = z;\n}\nVproto = Vector.prototype;\nVproto.length = function() {\n  return sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n};\nVproto.dot = function(v) {\n  return this.x * v.x + this.y * v.y + this.z * v.z;\n};\nVproto.cross = function(v) {\n  var x = this.y * v.z - this.z * v.y,\n    y = this.z * v.x - this.x * v.z,\n    z = this.x * v.y - this.y * v.x;\n  return new Vector(x, y, z);\n};\nVproto.angle = function(v) {\n  var dot = this.dot(v), ac;\n  if(dot == 0)\n    return Math.PI / 2.0;\n  ac = dot / (this.length() * v.length());\n  if(ac >= 1)\n    return 0;\n  if(ac <= -1)\n    return Math.PI;\n  return Math.acos(ac);\n};\nVproto.unit = function() {\n  var l = this.length();\n  return new Vector(this.x / l, this.y / l, this.z / l);\n};\nfunction MakeVector(lg, lt) {\n  lt = lt * Math.PI / 180;\n  lg = lg * Math.PI / 180;\n  var x = sin(lg) * cos(lt), y = -sin(lt), z = -cos(lg) * cos(lt);\n  return new Vector(x, y, z);\n}\nfunction Matrix(a) {\n  this[1] = {1: a[0],  2: a[1],  3: a[2]};\n  this[2] = {1: a[3],  2: a[4],  3: a[5]};\n  this[3] = {1: a[6],  2: a[7],  3: a[8]};\n}\nMproto = Matrix.prototype;\nMatrix.Identity = function() {\n  return new Matrix([1,0,0, 0,1,0, 0,0,1]);\n};\nMatrix.Rotation = function(angle, u) {\n  var sina = sin(angle), cosa = cos(angle), mcos = 1 - cosa;\n  return new Matrix([\n    cosa + pow(u.x, 2) * mcos, u.x * u.y * mcos - u.z * sina, u.x * u.z * mcos + u.y * sina,\n    u.y * u.x * mcos + u.z * sina, cosa + pow(u.y, 2) * mcos, u.y * u.z * mcos - u.x * sina,\n    u.z * u.x * mcos - u.y * sina, u.z * u.y * mcos + u.x * sina, cosa + pow(u.z, 2) * mcos\n  ]);\n}\nMproto.mul = function(m) {\n  var a = [], i, j, mmatrix = (m.xform ? 1 : 0);\n  for(i = 1; i <= 3; ++i)\n    for(j = 1; j <= 3; ++j) {\n      if(mmatrix)\n        a.push(this[i][1] * m[1][j] +\n          this[i][2] * m[2][j] +\n          this[i][3] * m[3][j]);\n      else\n        a.push(this[i][j] * m);\n    }\n  return new Matrix(a);\n};\nMproto.xform = function(p) {\n  var a = {}, x = p.x, y = p.y, z = p.z;\n  a.x = x * this[1][1] + y * this[2][1] + z * this[3][1];\n  a.y = x * this[1][2] + y * this[2][2] + z * this[3][2];\n  a.z = x * this[1][3] + y * this[2][3] + z * this[3][3];\n  return a;\n};\nfunction PointsOnSphere(n,xr,yr,zr,magic) {\n  var i, y, r, phi, pts = [], off = 2/n, inc;\n  inc = Math.PI * (3 - sqrt(5) + (parseFloat(magic) ? parseFloat(magic) : 0));\n  for(i = 0; i < n; ++i) {\n    y = i * off - 1 + (off / 2);\n    r = sqrt(1 - y*y);\n    phi = i * inc;\n    pts.push([cos(phi) * r * xr, y * yr, sin(phi) * r * zr]);\n  }\n  return pts;\n}\nfunction Cylinder(n,o,xr,yr,zr,magic) {\n  var phi, pts = [], off = 2/n, inc, i, j, k, l;\n  inc = Math.PI * (3 - sqrt(5) + (parseFloat(magic) ? parseFloat(magic) : 0));\n  for(i = 0; i < n; ++i) {\n    j = i * off - 1 + (off / 2);\n    phi = i * inc;\n    k = cos(phi);\n    l = sin(phi);\n    pts.push(o ? [j * xr, k * yr, l * zr] : [k * xr, j * yr, l * zr]);\n  }\n  return pts;\n}\nfunction Ring(o, n, xr, yr, zr, j) {\n  var phi, pts = [], inc = Math.PI * 2 / n, i, k, l;\n  for(i = 0; i < n; ++i) {\n    phi = i * inc;\n    k = cos(phi);\n    l = sin(phi);\n    pts.push(o ? [j * xr, k * yr, l * zr] : [k * xr, j * yr, l * zr]);\n  }\n  return pts;\n}\nfunction PointsOnCylinderV(n,xr,yr,zr,m) { return Cylinder(n, 0, xr, yr, zr, m) }\nfunction PointsOnCylinderH(n,xr,yr,zr,m) { return Cylinder(n, 1, xr, yr, zr, m) }\nfunction PointsOnRingV(n, xr, yr, zr, offset) {\n  offset = isNaN(offset) ? 0 : offset * 1;\n  return Ring(0, n, xr, yr, zr, offset);\n}\nfunction PointsOnRingH(n, xr, yr, zr, offset) {\n  offset = isNaN(offset) ? 0 : offset * 1;\n  return Ring(1, n, xr, yr, zr, offset);\n}\nfunction CentreImage(t) {\n  var i = new Image;\n  i.onload = function() {\n    var dx = i.width / 2, dy = i.height / 2;\n    t.centreFunc = function(c, w, h, cx, cy) {\n      c.setTransform(1, 0, 0, 1, 0, 0);\n      c.globalAlpha = 1;\n      c.drawImage(i, cx - dx, cy - dy);\n    };\n  };\n  i.src = t.centreImage;\n}\nfunction SetAlpha(c,a) {\n  var d = c, p1, p2, ae = (a*1).toPrecision(3) + ')';\n  if(c[0] === '#') {\n    if(!hexlookup3[c])\n      if(c.length === 4)\n        hexlookup3[c] = 'rgba(' + hexlookup1[c[1]] + hexlookup1[c[2]] + hexlookup1[c[3]];\n      else\n        hexlookup3[c] = 'rgba(' + hexlookup2[c.substr(1,2)] + hexlookup2[c.substr(3,2)] + hexlookup2[c.substr(5,2)];\n    d = hexlookup3[c] + ae;\n  } else if(c.substr(0,4) === 'rgb(' || c.substr(0,4) === 'hsl(') {\n    d = (c.replace('(','a(').replace(')', ',' + ae));\n  } else if(c.substr(0,5) === 'rgba(' || c.substr(0,5) === 'hsla(') {\n    p1 = c.lastIndexOf(',') + 1, p2 = c.indexOf(')');\n    a *= parseFloat(c.substring(p1,p2));\n    d = c.substr(0,p1) + a.toPrecision(3) + ')';\n  }\n  return d;\n}\nfunction NewCanvas(w,h) {\n  // if using excanvas, give up now\n  if(window.G_vmlCanvasManager)\n    return null;\n  var c = doc.createElement('canvas');\n  c.width = w;\n  c.height = h;\n  return c;\n}\n// I think all browsers pass this test now...\nfunction ShadowAlphaBroken() {\n  var cv = NewCanvas(3,3), c, i;\n  if(!cv)\n    return false;\n  c = cv.getContext('2d');\n  c.strokeStyle = '#000';\n  c.shadowColor = '#fff';\n  c.shadowBlur = 3;\n  c.globalAlpha = 0;\n  c.strokeRect(2,2,2,2);\n  c.globalAlpha = 1;\n  i = c.getImageData(2,2,1,1);\n  cv = null;\n  return (i.data[0] > 0);\n}\nfunction SetGradient(c, l, o, g) {\n  var gd = c.createLinearGradient(0, 0, l, 0), i;\n  for(i in g)\n    gd.addColorStop(1 - i, g[i]);\n  c.fillStyle = gd;\n  c.fillRect(0, o, l, 1);\n}\nfunction FindGradientColour(tc, p, r) {\n  var l = 1024, h = 1, gl = tc.weightGradient, cv, c, i, d;\n  if(tc.gCanvas) {\n    c = tc.gCanvas.getContext('2d');\n    h = tc.gCanvas.height;\n  } else {\n    if(IsObject(gl[0]))\n      h = gl.length;\n    else\n      gl = [gl];\n    tc.gCanvas = cv = NewCanvas(l, h);\n    if(!cv)\n      return null;\n    c = cv.getContext('2d');\n    for(i = 0; i < h; ++i)\n      SetGradient(c, l, i, gl[i]);\n  }\n  r = max(min(r || 0, h - 1), 0);\n  d = c.getImageData(~~((l - 1) * p), r, 1, 1).data;\n  return 'rgba(' + d[0] + ',' + d[1] + ',' + d[2] + ',' + (d[3]/255) + ')';\n}\nfunction TextSet(ctxt, font, colour, strings, padx, pady, shadowColour,\n  shadowBlur, shadowOffsets, maxWidth, widths, align) {\n  var xo = padx + (shadowBlur || 0) + \n    (shadowOffsets.length && shadowOffsets[0] < 0 ? abs(shadowOffsets[0]) : 0),\n    yo = pady + (shadowBlur || 0) + \n    (shadowOffsets.length && shadowOffsets[1] < 0 ? abs(shadowOffsets[1]) : 0), i, xc;\n  ctxt.font = font;\n  ctxt.textBaseline = 'top';\n  ctxt.fillStyle = colour;\n  shadowColour && (ctxt.shadowColor = shadowColour);\n  shadowBlur && (ctxt.shadowBlur = shadowBlur);\n  shadowOffsets.length && (ctxt.shadowOffsetX = shadowOffsets[0],\n    ctxt.shadowOffsetY = shadowOffsets[1]);\n  for(i = 0; i < strings.length; ++i) {\n    xc = 0;\n    if(widths) {\n      if('right' == align) {\n        xc = maxWidth - widths[i];\n      } else if('centre' == align) {\n        xc = (maxWidth - widths[i]) / 2;\n      }\n    }\n    ctxt.fillText(strings[i], xo + xc, yo);\n    yo += parseInt(font);\n  }\n}\nfunction RRect(c, x, y, w, h, r, s) {\n  if(r) {\n    c.beginPath();\n    c.moveTo(x, y + h - r);\n    c.arcTo(x, y, x + r, y, r);\n    c.arcTo(x + w, y, x + w, y + r, r);\n    c.arcTo(x + w, y + h, x + w - r, y + h, r);\n    c.arcTo(x, y + h, x, y + h - r, r);\n    c.closePath();\n    c[s ? 'stroke' : 'fill']();\n  } else {\n    c[s ? 'strokeRect' : 'fillRect'](x, y, w, h);\n  }\n}\nfunction TextCanvas(strings, font, w, h, maxWidth, stringWidths, align, valign,\n  scale) {\n  this.strings = strings;\n  this.font = font;\n  this.width = w;\n  this.height = h;\n  this.maxWidth = maxWidth;\n  this.stringWidths = stringWidths;\n  this.align = align;\n  this.valign = valign;\n  this.scale = scale;\n}\nTCVproto = TextCanvas.prototype;\nTCVproto.SetImage = function(image, w, h, position, padding, align, valign,\n  scale) {\n  this.image = image;\n  this.iwidth = w * this.scale;\n  this.iheight = h * this.scale;\n  this.ipos = position;\n  this.ipad = padding * this.scale;\n  this.iscale = scale;\n  this.ialign = align;\n  this.ivalign = valign;\n};\nTCVproto.Align = function(size, space, a) {\n  var pos = 0;\n  if(a == 'right' || a == 'bottom')\n    pos = space - size;\n  else if(a != 'left' && a != 'top')\n    pos = (space - size) / 2;\n  return pos;\n};\nTCVproto.Create = function(colour, bgColour, bgOutline, bgOutlineThickness,\n  shadowColour, shadowBlur, shadowOffsets, padding, radius) {\n  var cv, cw, ch, c, x1, x2, y1, y2, offx, offy, ix, iy, iw, ih, rr,\n    sox = abs(shadowOffsets[0]), soy = abs(shadowOffsets[1]), shadowcv, shadowc;\n  padding = max(padding, sox + shadowBlur, soy + shadowBlur);\n  x1 = 2 * (padding + bgOutlineThickness);\n  y1 = 2 * (padding + bgOutlineThickness);\n  cw = this.width + x1;\n  ch = this.height + y1;\n  offx = offy = padding + bgOutlineThickness;\n\n  if(this.image) {\n    ix = iy = padding + bgOutlineThickness;\n    iw = this.iwidth;\n    ih = this.iheight;\n    if(this.ipos == 'top' || this.ipos == 'bottom') {\n      if(iw < this.width)\n        ix += this.Align(iw, this.width, this.ialign);\n      else\n        offx += this.Align(this.width, iw, this.align);\n      if(this.ipos == 'top')\n        offy += ih + this.ipad;\n      else\n        iy += this.height + this.ipad;\n      cw = max(cw, iw + x1);\n      ch += ih + this.ipad;\n    } else {\n      if(ih < this.height)\n        iy += this.Align(ih, this.height, this.ivalign);\n      else\n        offy += this.Align(this.height, ih, this.valign);\n      if(this.ipos == 'right')\n        ix += this.width + this.ipad;\n      else\n        offx += iw + this.ipad;\n      cw += iw + this.ipad;\n      ch = max(ch, ih + y1);\n    }\n  }\n\n  cv = NewCanvas(cw, ch);\n  if(!cv)\n    return null;\n  x1 = y1 = bgOutlineThickness / 2;\n  x2 = cw - bgOutlineThickness;\n  y2 = ch - bgOutlineThickness;\n  rr = min(radius, x2 / 2, y2 / 2);\n  c = cv.getContext('2d');\n  if(bgColour) {\n    c.fillStyle = bgColour;\n    RRect(c, x1, y1, x2, y2, rr);\n  }\n  if(bgOutlineThickness) {\n    c.strokeStyle = bgOutline;\n    c.lineWidth = bgOutlineThickness;\n    RRect(c, x1, y1, x2, y2, rr, true);\n  }\n  if(shadowBlur || sox || soy) {\n    // use a transparent canvas to draw on\n    shadowcv = NewCanvas(cw, ch);\n    if(shadowcv) {\n      shadowc = c;\n      c = shadowcv.getContext('2d');\n    }\n  }\n\n  // don't use TextSet shadow support because it adds space for shadow\n  TextSet(c, this.font, colour, this.strings, offx, offy, 0, 0, [],\n    this.maxWidth, this.stringWidths, this.align);\n      \n  if(this.image)\n    c.drawImage(this.image, ix, iy, iw, ih);\n\n  if(shadowc) {\n    // draw the text and image with the added shadow\n    c = shadowc;\n    shadowColour && (c.shadowColor = shadowColour);\n    shadowBlur && (c.shadowBlur = shadowBlur);\n    c.shadowOffsetX = shadowOffsets[0];\n    c.shadowOffsetY = shadowOffsets[1];\n    c.drawImage(shadowcv, 0, 0);\n  }\n  return cv;\n};\nfunction ExpandImage(i, w, h) {\n  var cv = NewCanvas(w, h), c;\n  if(!cv)\n    return null;\n  c = cv.getContext('2d');\n  c.drawImage(i, (w - i.width) / 2, (h - i.height) / 2);\n  return cv;\n}\nfunction ScaleImage(i, w, h) {\n  var cv = NewCanvas(w, h), c;\n  if(!cv)\n    return null;\n  c = cv.getContext('2d');\n  c.drawImage(i, 0, 0, w, h);\n  return cv;\n}\nfunction AddBackgroundToImage(i, w, h, scale, colour, othickness, ocolour,\n  padding, radius, ofill) {\n  var cw = w + ((2 * padding) + othickness) * scale,\n    ch = h + ((2 * padding) + othickness) * scale,\n    cv = NewCanvas(cw, ch), c, x1, y1, x2, y2, ocanvas, cc, rr;\n  if(!cv)\n    return null;\n  othickness *= scale;\n  radius *= scale;\n  x1 = y1 = othickness / 2;\n  x2 = cw - othickness;\n  y2 = ch - othickness;\n  padding = (padding * scale) + x1; // add space for outline\n  c = cv.getContext('2d');\n  rr = min(radius, x2 / 2, y2 / 2);\n  if(colour) {\n    c.fillStyle = colour;\n    RRect(c, x1, y1, x2, y2, rr);\n  }\n  if(othickness) {\n    c.strokeStyle = ocolour;\n    c.lineWidth = othickness;\n    RRect(c, x1, y1, x2, y2, rr, true);\n  }\n  \n  if(ofill) {\n    // use compositing to colour in the image and border\n    ocanvas = NewCanvas(cw, ch);\n    cc = ocanvas.getContext('2d');\n    cc.drawImage(i, padding, padding, w, h);\n    cc.globalCompositeOperation = 'source-in';\n    cc.fillStyle = ocolour;\n    cc.fillRect(0, 0, cw, ch);\n    cc.globalCompositeOperation = 'destination-over';\n    cc.drawImage(cv, 0, 0);\n    cc.globalCompositeOperation = 'source-over';\n    c.drawImage(ocanvas, 0, 0);\n  } else {\n    c.drawImage(i, padding, padding, i.width, i.height);\n  }\n  return {image: cv, width: cw / scale, height: ch / scale};\n}\n/**\n * Rounds off the corners of an image\n */\nfunction RoundImage(i, r, iw, ih, s) {\n  var cv, c, r1 = parseFloat(r), l = max(iw, ih);\n  cv = NewCanvas(iw, ih);\n  if(!cv)\n    return null;\n  if(r.indexOf('%') > 0)\n    r1 = l * r1 / 100;\n  else\n    r1 = r1 * s;\n  c = cv.getContext('2d');\n  c.globalCompositeOperation = 'source-over';\n  c.fillStyle = '#fff';\n  if(r1 >= l/2) {\n    r1 = min(iw,ih) / 2;\n    c.beginPath();\n    c.moveTo(iw/2,ih/2);\n    c.arc(iw/2,ih/2,r1,0,2*Math.PI,false);\n    c.fill();\n    c.closePath();\n  } else {\n    r1 = min(iw/2,ih/2,r1);\n    RRect(c, 0, 0, iw, ih, r1, true);\n    c.fill();\n  }\n  c.globalCompositeOperation = 'source-in';\n  c.drawImage(i, 0, 0, iw, ih);\n  return cv;\n}\n/**\n * Creates a new canvas containing the image and its shadow\n * Returns an object containing the image and its dimensions at z=0\n */\nfunction AddShadowToImage(i, w, h, scale, sc, sb, so) {\n  var sw = abs(so[0]), sh = abs(so[1]), \n    cw = w + (sw > sb ? sw + sb : sb * 2) * scale,\n    ch = h + (sh > sb ? sh + sb : sb * 2) * scale,\n    xo = scale * ((sb || 0) + (so[0] < 0 ? sw : 0)),\n    yo = scale * ((sb || 0) + (so[1] < 0 ? sh : 0)), cv, c;\n  cv = NewCanvas(cw, ch);\n  if(!cv)\n    return null;\n  c = cv.getContext('2d');\n  sc && (c.shadowColor = sc);\n  sb && (c.shadowBlur = sb * scale);\n  so && (c.shadowOffsetX = so[0] * scale, c.shadowOffsetY = so[1] * scale);\n  c.drawImage(i, xo, yo, w, h);\n  return {image: cv, width: cw / scale, height: ch / scale};\n}\nfunction FindTextBoundingBox(s,f,ht) {\n  var w = parseInt(s.toString().length * ht), h = parseInt(ht * 2 * s.length),\n    cv = NewCanvas(w,h), c, idata, w1, h1, x, y, i, ex;\n  if(!cv)\n    return null;\n  c = cv.getContext('2d');\n  c.fillStyle = '#000';\n  c.fillRect(0,0,w,h);\n  TextSet(c,ht + 'px ' + f,'#fff',s,0,0,0,0,[],'centre')\n\n  idata = c.getImageData(0,0,w,h);\n  w1 = idata.width; h1 = idata.height;\n  ex = {\n    min: { x: w1, y: h1 },\n    max: { x: -1, y: -1 }\n  };\n  for(y = 0; y < h1; ++y) {\n    for(x = 0; x < w1; ++x) {\n      i = (y * w1 + x) * 4;\n      if(idata.data[i+1] > 0) {\n        if(x < ex.min.x) ex.min.x = x;\n        if(x > ex.max.x) ex.max.x = x;\n        if(y < ex.min.y) ex.min.y = y;\n        if(y > ex.max.y) ex.max.y = y;\n      }\n    }\n  }\n  // device pixels might not be css pixels\n  if(w1 != w) {\n    ex.min.x *= (w / w1);\n    ex.max.x *= (w / w1);\n  }\n  if(h1 != h) {\n    ex.min.y *= (w / h1);\n    ex.max.y *= (w / h1);\n  }\n\n  cv = null;\n  return ex;\n}\nfunction FixFont(f) {\n  return \"'\" + f.replace(/(\\'|\\\")/g,'').replace(/\\s*,\\s*/g, \"', '\") + \"'\";\n}\nfunction AddHandler(h,f,e) {\n  e = e || doc;\n  if(e.addEventListener)\n    e.addEventListener(h,f,false);\n  else\n    e.attachEvent('on' + h, f);\n}\nfunction RemoveHandler(h,f,e) {\n  e = e || doc;\n  if(e.removeEventListener)\n    e.removeEventListener(h, f);\n  else\n    e.detachEvent('on' + h, f);\n}\nfunction AddImage(i, o, t, tc) {\n  var s = tc.imageScale, mscale, ic, bc, oc, iw, ih;\n  // image not loaded, wait for image onload\n  if(!o.complete)\n    return AddHandler('load',function() { AddImage(i,o,t,tc); }, o);\n  if(!i.complete)\n    return AddHandler('load',function() { AddImage(i,o,t,tc); }, i);\n\n  // Yes, this does look like nonsense, but it makes sure that both the\n  // width and height are actually set and not just calculated. This is\n  // required to keep proportional sizes when the images are hidden, so\n  // the images can be used again for another cloud.\n  o.width = o.width;\n  o.height = o.height;\n\n  if(s) {\n    i.width = o.width * s;\n    i.height = o.height * s;\n  }\n  // the standard width of the image, with imageScale applied\n  t.iw = i.width;\n  t.ih = i.height;\n  if(tc.txtOpt) {\n    ic = i;\n    mscale = tc.zoomMax * tc.txtScale;\n    iw = t.iw * mscale;\n    ih = t.ih * mscale;\n    if(iw < o.naturalWidth || ih < o.naturalHeight) {\n      ic = ScaleImage(i, iw, ih);\n      if(ic)\n        t.fimage = ic;\n    } else {\n      iw = t.iw;\n      ih = t.ih;\n      mscale = 1;\n    }\n    if(parseFloat(tc.imageRadius))\n      t.image = t.fimage = i = RoundImage(t.image, tc.imageRadius, iw, ih, mscale);\n    if(!t.HasText()) {\n      if(tc.shadow) {\n        ic = AddShadowToImage(t.image, iw, ih, mscale, tc.shadow, tc.shadowBlur,\n          tc.shadowOffset);\n        if(ic) {\n          t.fimage = ic.image;\n          t.w = ic.width;\n          t.h = ic.height;\n        }\n      }\n      if(tc.bgColour || tc.bgOutlineThickness) {\n        bc = tc.bgColour == 'tag' ? GetProperty(t.a, 'background-color') :\n          tc.bgColour;\n        oc = tc.bgOutline == 'tag' ? GetProperty(t.a, 'color') : \n          (tc.bgOutline || tc.textColour);\n        iw = t.fimage.width;\n        ih = t.fimage.height;\n        if(tc.outlineMethod == 'colour') {\n          // create the outline version first, using the current image state\n          ic = AddBackgroundToImage(t.fimage, iw, ih, mscale, bc,\n            tc.bgOutlineThickness, t.outline.colour, tc.padding, tc.bgRadius, 1);\n          if(ic)\n            t.oimage = ic.image;\n        }\n        ic = AddBackgroundToImage(t.fimage, iw, ih, mscale, bc, \n          tc.bgOutlineThickness, oc, tc.padding, tc.bgRadius);\n        if(ic) {\n          t.fimage = ic.image;\n          t.w = ic.width;\n          t.h = ic.height;\n        }\n      }\n      if(tc.outlineMethod == 'size') {\n        if(tc.outlineIncrease > 0) {\n          t.iw += 2 * tc.outlineIncrease;\n          t.ih += 2 * tc.outlineIncrease;\n          iw = mscale * t.iw;\n          ih = mscale * t.ih;\n          ic = ScaleImage(t.fimage, iw, ih);\n          t.oimage = ic;\n          t.fimage = ExpandImage(t.fimage, t.oimage.width, t.oimage.height);\n        } else {\n          iw = mscale * (t.iw + (2 * tc.outlineIncrease));\n          ih = mscale * (t.ih + (2 * tc.outlineIncrease));\n          ic = ScaleImage(t.fimage, iw, ih);\n          t.oimage = ExpandImage(ic, t.fimage.width, t.fimage.height);\n        }\n      }\n    }\n  }\n  t.Init();\n}\nfunction GetProperty(e,p) {\n  var dv = doc.defaultView, pc = p.replace(/\\-([a-z])/g,function(a){return a.charAt(1).toUpperCase()});\n  return (dv && dv.getComputedStyle && dv.getComputedStyle(e,null).getPropertyValue(p)) ||\n    (e.currentStyle && e.currentStyle[pc]);\n}\nfunction FindWeight(a, wFrom, tHeight) {\n  var w = 1, p;\n  if(wFrom) {\n    w = 1 * (a.getAttribute(wFrom) || tHeight);\n  } else if(p = GetProperty(a,'font-size')) {\n    w = (p.indexOf('px') > -1 && p.replace('px','') * 1) ||\n      (p.indexOf('pt') > -1 && p.replace('pt','') * 1.25) ||\n      p * 3.3;\n  }\n  return w;\n}\nfunction EventToCanvasId(e) {\n  return e.target && Defined(e.target.id) ? e.target.id :\n    e.srcElement.parentNode.id;\n}\nfunction EventXY(e, c) {\n  var xy, p, xmul = parseInt(GetProperty(c, 'width')) / c.width,\n    ymul = parseInt(GetProperty(c, 'height')) / c.height;\n  if(Defined(e.offsetX)) {\n    xy = {x: e.offsetX, y: e.offsetY};\n  } else {\n    p = AbsPos(c.id);\n    if(Defined(e.changedTouches))\n      e = e.changedTouches[0];\n    if(e.pageX)\n      xy = {x: e.pageX - p.x, y: e.pageY - p.y};\n  }\n  if(xy && xmul && ymul) {\n    xy.x /= xmul;\n    xy.y /= ymul;\n  }\n  return xy;\n}\nfunction MouseOut(e) {\n  var cv = e.target || e.fromElement.parentNode, tc = TagCanvas.tc[cv.id];\n  if(tc) {\n   tc.mx = tc.my = -1;\n   tc.UnFreeze();\n   tc.EndDrag();\n  }\n}\nfunction MouseMove(e) {\n  var i, t = TagCanvas, tc, p, tg = EventToCanvasId(e);\n  for(i in t.tc) {\n    tc = t.tc[i];\n    if(tc.tttimer) {\n      clearTimeout(tc.tttimer);\n      tc.tttimer = null;\n    }\n  }\n  if(tg && t.tc[tg]) {\n    tc = t.tc[tg];\n    if(p = EventXY(e, tc.canvas)) {\n      tc.mx = p.x;\n      tc.my = p.y;\n      tc.Drag(e, p);\n    }\n    tc.drawn = 0;\n  }\n}\nfunction MouseDown(e) {\n  var t = TagCanvas, cb = doc.addEventListener ? 0 : 1,\n    tg = EventToCanvasId(e);\n  if(tg && e.button == cb && t.tc[tg]) {\n    t.tc[tg].BeginDrag(e);\n  }\n}\nfunction MouseUp(e) {\n  var t = TagCanvas, cb = doc.addEventListener ? 0 : 1,\n    tg = EventToCanvasId(e), tc;\n  if(tg && e.button == cb && t.tc[tg]) {\n    tc = t.tc[tg];\n    MouseMove(e);\n    if(!tc.EndDrag() && !tc.touchState)\n      tc.Clicked(e);\n  }\n}\nfunction TouchDown(e) {\n  var tg = EventToCanvasId(e), tc = (tg && TagCanvas.tc[tg]), p;\n  if(tc && e.changedTouches) {\n    if(e.touches.length == 1 && tc.touchState == 0) {\n      tc.touchState = 1;\n      tc.BeginDrag(e);\n      if(p = EventXY(e, tc.canvas)) {\n        tc.mx = p.x;\n        tc.my = p.y;\n        tc.drawn = 0;\n      }\n    } else if(e.targetTouches.length == 2 && tc.pinchZoom) {\n      tc.touchState = 3;\n      tc.EndDrag();\n      tc.BeginPinch(e);\n    } else {\n      tc.EndDrag();\n      tc.EndPinch();\n      tc.touchState = 0;\n    }\n  }\n}\nfunction TouchUp(e) {\n  var tg = EventToCanvasId(e), tc = (tg && TagCanvas.tc[tg]);\n  if(tc && e.changedTouches) {\n    switch(tc.touchState) {\n    case 1:\n      tc.Draw();\n      tc.Clicked();\n      break;\n    case 2:\n      tc.EndDrag();\n      break;\n    case 3:\n      tc.EndPinch();\n    }\n    tc.touchState = 0;\n  }\n}\nfunction TouchMove(e) {\n  var i, t = TagCanvas, tc, p, tg = EventToCanvasId(e);\n  for(i in t.tc) {\n    tc = t.tc[i];\n    if(tc.tttimer) {\n      clearTimeout(tc.tttimer);\n      tc.tttimer = null;\n    }\n  }\n  tc = (tg && t.tc[tg]);\n  if(tc && e.changedTouches && tc.touchState) {\n    switch(tc.touchState) {\n    case 1:\n    case 2:\n      if(p = EventXY(e, tc.canvas)) {\n        tc.mx = p.x;\n        tc.my = p.y;\n        if(tc.Drag(e, p))\n          tc.touchState = 2;\n      }\n      break;\n    case 3:\n      tc.Pinch(e);\n    }\n    tc.drawn = 0;\n  }\n}\nfunction MouseWheel(e) {\n  var t = TagCanvas, tg = EventToCanvasId(e);\n  if(tg && t.tc[tg]) {\n    e.cancelBubble = true;\n    e.returnValue = false;\n    e.preventDefault && e.preventDefault();\n    t.tc[tg].Wheel((e.wheelDelta || e.detail) > 0);\n  }\n}\nfunction Scroll(e) {\n  var i, t = TagCanvas;\n  clearTimeout(t.scrollTimer);\n  for(i in t.tc) {\n    t.tc[i].Pause();\n  }\n  t.scrollTimer = setTimeout(function() {\n    var i, t = TagCanvas;\n    for(i in t.tc) {\n      t.tc[i].Resume();\n    }\n  }, t.scrollPause);\n}\nfunction DrawCanvas() {\n  DrawCanvasRAF(TimeNow());\n}\nfunction DrawCanvasRAF(t) {\n  var tc = TagCanvas.tc, i;\n  TagCanvas.NextFrame(TagCanvas.interval);\n  t = t || TimeNow();\n  for(i in tc)\n    tc[i].Draw(t);\n}\nfunction AbsPos(id) {\n  var e = doc.getElementById(id), r = e.getBoundingClientRect(),\n    dd = doc.documentElement, b = doc.body, w = window,\n    xs = w.pageXOffset || dd.scrollLeft,\n    ys = w.pageYOffset || dd.scrollTop,\n    xo = dd.clientLeft || b.clientLeft,\n    yo = dd.clientTop || b.clientTop;\n  return { x: r.left + xs - xo, y: r.top + ys - yo };\n}\nfunction Project(tc,p1,sx,sy) {\n  var m = tc.radius * tc.z1 / (tc.z1 + tc.z2 + p1.z);\n  return {\n    x: p1.x * m * sx,\n    y: p1.y * m * sy,\n    z: p1.z,\n    w: (tc.z1 - p1.z) / tc.z2\n  };\n}\n/**\n * @constructor\n * for recursively splitting tag contents on <br> tags\n */\nfunction TextSplitter(e) {\n  this.e = e;\n  this.br = 0;\n  this.line = [];\n  this.text = [];\n  this.original = e.innerText || e.textContent;\n}\nTSproto = TextSplitter.prototype;\nTSproto.Empty = function() {\n  for(var i = 0; i < this.text.length; ++i)\n    if(this.text[i].length)\n      return false;\n  return true;\n};\nTSproto.Lines = function(e) {\n  var r = e ? 1 : 0, cn, cl, i;\n  e = e || this.e;\n  cn = e.childNodes;\n  cl = cn.length;\n\n  for(i = 0; i < cl; ++i) {\n    if(cn[i].nodeName == 'BR') {\n      this.text.push(this.line.join(' '));\n      this.br = 1;\n    } else if(cn[i].nodeType == 3) {\n      if(this.br) {\n        this.line = [cn[i].nodeValue];\n        this.br = 0;\n      } else {\n        this.line.push(cn[i].nodeValue);\n      }\n    } else {\n      this.Lines(cn[i]);\n    }\n  }\n  r || this.br || this.text.push(this.line.join(' '));\n  return this.text;\n};\nTSproto.SplitWidth = function(w, c, f, h) {\n  var i, j, words, text = [];\n  c.font = h + 'px ' + f;\n  for(i = 0; i < this.text.length; ++i) {\n    words = this.text[i].split(/\\s+/);\n    this.line = [words[0]];\n    for(j = 1; j < words.length; ++j) {\n      if(c.measureText(this.line.join(' ') + ' ' + words[j]).width > w) {\n        text.push(this.line.join(' '));\n        this.line = [words[j]];\n      } else {\n        this.line.push(words[j]);\n      }\n    }\n    text.push(this.line.join(' '));\n  }\n  return this.text = text;\n};\n/**\n * @constructor\n */\nfunction Outline(tc,t) {\n  this.ts = null;\n  this.tc = tc;\n  this.tag = t;\n  this.x = this.y = this.w = this.h = this.sc = 1;\n  this.z = 0;\n  this.pulse = 1;\n  this.pulsate = tc.pulsateTo < 1;\n  this.colour = tc.outlineColour;\n  this.adash = ~~tc.outlineDash;\n  this.agap = ~~tc.outlineDashSpace || this.adash;\n  this.aspeed = tc.outlineDashSpeed * 1;\n  if(this.colour == 'tag')\n    this.colour = GetProperty(t.a, 'color');\n  else if(this.colour == 'tagbg')\n    this.colour = GetProperty(t.a, 'background-color');\n  this.Draw = this.pulsate ? this.DrawPulsate : this.DrawSimple;\n  this.radius = tc.outlineRadius | 0;\n  this.SetMethod(tc.outlineMethod);\n}\nOproto = Outline.prototype;\nOproto.SetMethod = function(om) {\n  var methods = {\n    block: ['PreDraw','DrawBlock'],\n    colour: ['PreDraw','DrawColour'],\n    outline: ['PostDraw','DrawOutline'],\n    classic: ['LastDraw','DrawOutline'],\n    size: ['PreDraw','DrawSize'],\n    none: ['LastDraw']\n  }, funcs = methods[om] || methods.outline;\n  if(om == 'none') {\n    this.Draw = function() { return 1; }\n  } else {\n    this.drawFunc = this[funcs[1]];\n  }\n  this[funcs[0]] = this.Draw;\n};\nOproto.Update = function(x,y,w,h,sc,z,xo,yo) {\n  var o = this.tc.outlineOffset, o2 = 2 * o;\n  this.x = sc * x + xo - o;\n  this.y = sc * y + yo - o;\n  this.w = sc * w + o2;\n  this.h = sc * h + o2;\n  this.sc = sc; // used to determine frontmost\n  this.z = z;\n};\nOproto.Ants = function(c) {\n  if(!this.adash)\n    return;\n  var l = this.adash, g = this.agap, s = this.aspeed, length = l + g,\n    l1 = 0, l2 = l, g1 = g, g2 = 0, seq = 0, ants;\n  if(s) {\n    seq = abs(s) * (TimeNow() - this.ts) / 50;\n    if(s < 0)\n      seq = 8.64e6 - seq;\n    s = ~~seq % length;\n  }\n  if(s) {\n    if(l >= s) {\n      l1 = l - s;\n      l2 = s;\n    } else {\n      g1 = length - s;\n      g2 = g - g1;\n    }\n    ants = [l1, g1, l2, g2];\n  } else {\n    ants = [l,g];\n  }\n  c.setLineDash(ants);\n}\nOproto.DrawOutline = function(c,x,y,w,h,colour) {\n  var r = min(this.radius, h/2, w/2);\n  c.strokeStyle = colour;\n  this.Ants(c);\n  RRect(c, x, y, w, h, r, true);\n};\nOproto.DrawSize = function(c,x,y,w,h,colour,tag,x1,y1) {\n  var tw = tag.w, th = tag.h, m, i, sc;\n  if(this.pulsate) {\n    if(tag.image)\n      sc = (tag.image.height + this.tc.outlineIncrease) / tag.image.height;\n    else\n      sc = tag.oscale;\n    i = tag.fimage || tag.image;\n    m = 1 + ((sc - 1) * (1-this.pulse));\n    tag.h *= m;\n    tag.w *= m;\n  } else {\n    i = tag.oimage;\n  }\n  tag.alpha = 1;\n  tag.Draw(c, x1, y1, i);\n  tag.h = th;\n  tag.w = tw;\n  return 1;\n};\nOproto.DrawColour = function(c,x,y,w,h,colour,tag,x1,y1) {\n  if(tag.oimage) {\n    if(this.pulse < 1) {\n      tag.alpha = 1 - pow(this.pulse, 2);\n      tag.Draw(c, x1, y1, tag.fimage);\n      tag.alpha = this.pulse;\n    } else {\n      tag.alpha = 1;\n    }\n    tag.Draw(c, x1, y1, tag.oimage);\n    return 1;\n  }\n  return this[tag.image ? 'DrawColourImage' : 'DrawColourText'](c,x,y,w,h,colour,tag,x1,y1);\n};\nOproto.DrawColourText = function(c,x,y,w,h,colour,tag,x1,y1) {\n  var normal = tag.colour;\n  tag.colour = colour;\n  tag.alpha = 1;\n  tag.Draw(c,x1,y1);\n  tag.colour = normal;\n  return 1;\n};\nOproto.DrawColourImage = function(c,x,y,w,h,colour,tag,x1,y1) {\n  var ccanvas = c.canvas, fx = ~~max(x,0), fy = ~~max(y,0), \n    fw = min(ccanvas.width - fx, w) + .5|0, fh = min(ccanvas.height - fy,h) + .5|0, cc;\n  if(ocanvas)\n    ocanvas.width = fw, ocanvas.height = fh;\n  else\n    ocanvas = NewCanvas(fw, fh);\n  if(!ocanvas)\n    return this.SetMethod('outline'); // if using IE and images, give up!\n  cc = ocanvas.getContext('2d');\n\n  cc.drawImage(ccanvas,fx,fy,fw,fh,0,0,fw,fh);\n  c.clearRect(fx,fy,fw,fh);\n  if(this.pulsate) {\n    tag.alpha = 1 - pow(this.pulse, 2);\n  } else {\n    tag.alpha = 1;\n  }\n  tag.Draw(c,x1,y1);\n  c.setTransform(1,0,0,1,0,0);\n  c.save();\n  c.beginPath();\n  c.rect(fx,fy,fw,fh);\n  c.clip();\n  c.globalCompositeOperation = 'source-in';\n  c.fillStyle = colour;\n  c.fillRect(fx,fy,fw,fh);\n  c.restore();\n  c.globalAlpha = 1;\n  c.globalCompositeOperation = 'destination-over';\n  c.drawImage(ocanvas,0,0,fw,fh,fx,fy,fw,fh);\n  c.globalCompositeOperation = 'source-over';\n  return 1;\n};\nOproto.DrawBlock = function(c,x,y,w,h,colour) {\n  var r = min(this.radius, h/2, w/2);\n  c.fillStyle = colour;\n  RRect(c, x, y, w, h, r);\n};\nOproto.DrawSimple = function(c, tag, x1, y1, ga, useGa) {\n  var t = this.tc;\n  c.setTransform(1,0,0,1,0,0);\n  c.strokeStyle = this.colour;\n  c.lineWidth = t.outlineThickness;\n  c.shadowBlur = c.shadowOffsetX = c.shadowOffsetY = 0;\n  c.globalAlpha = useGa ? ga : 1;\n  return this.drawFunc(c,this.x,this.y,this.w,this.h,this.colour,tag,x1,y1);\n};\nOproto.DrawPulsate = function(c, tag, x1, y1) {\n  var diff = TimeNow() - this.ts, t = this.tc,\n    ga = t.pulsateTo + ((1 - t.pulsateTo) * \n    (0.5 + (cos(2 * Math.PI * diff / (1000 * t.pulsateTime)) / 2)));\n  this.pulse = ga = TagCanvas.Smooth(1,ga);\n  return this.DrawSimple(c, tag, x1, y1, ga, 1);\n};\nOproto.Active = function(c,x,y) {\n  var a = (x >= this.x && y >= this.y &&\n    x <= this.x + this.w && y <= this.y + this.h);\n  if(a) {\n    this.ts = this.ts || TimeNow();\n  } else {\n    this.ts = null;\n  }\n  return a;\n};\nOproto.PreDraw = Oproto.PostDraw = Oproto.LastDraw = Nop;\n/**\n * @constructor\n */\nfunction Tag(tc, text, a, v, w, h, col, bcol, bradius, boutline, bothickness,\n  font, padding, original) {\n  this.tc = tc;\n  this.image = null;\n  this.text = text;\n  this.text_original = original;\n  this.line_widths = [];\n  this.title = a.title || null;\n  this.a = a;\n  this.position = new Vector(v[0], v[1], v[2]);\n  this.x = this.y = this.z = 0;\n  this.w = w;\n  this.h = h;\n  this.colour = col || tc.textColour;\n  this.bgColour = bcol || tc.bgColour;\n  this.bgRadius = bradius | 0;\n  this.bgOutline = boutline || this.colour;\n  this.bgOutlineThickness = bothickness | 0;\n  this.textFont = font || tc.textFont;\n  this.padding = padding | 0;\n  this.sc = this.alpha = 1;\n  this.weighted = !tc.weight;\n  this.outline = new Outline(tc,this);\n}\nTproto = Tag.prototype;\nTproto.Init = function(e) {\n  var tc = this.tc;\n  this.textHeight = tc.textHeight;\n  if(this.HasText()) {\n    this.Measure(tc.ctxt,tc);\n  } else {\n    this.w = this.iw;\n    this.h = this.ih;\n  }\n\n  this.SetShadowColour = tc.shadowAlpha ? this.SetShadowColourAlpha : this.SetShadowColourFixed;\n  this.SetDraw(tc);\n};\nTproto.Draw = Nop;\nTproto.HasText = function() {\n  return this.text && this.text[0].length > 0;\n};\nTproto.EqualTo = function(e) {\n  var i = e.getElementsByTagName('img');\n  if(this.a.href != e.href)\n    return 0;\n  if(i.length)\n    return this.image.src == i[0].src;\n  return (e.innerText || e.textContent) == this.text_original;\n};\nTproto.SetImage = function(i) {\n  this.image = this.fimage = i;\n};\nTproto.SetDraw = function(t) {\n  this.Draw = this.fimage ? (t.ie > 7 ? this.DrawImageIE : this.DrawImage) : this.DrawText;\n  t.noSelect && (this.CheckActive = Nop);\n};\nTproto.MeasureText = function(c) {\n  var i, l = this.text.length, w = 0, wl;\n  for(i = 0; i < l; ++i) {\n    this.line_widths[i] = wl = c.measureText(this.text[i]).width;\n    w = max(w, wl);\n  }\n  return w;\n};\nTproto.Measure = function(c,t) {\n  var extents = FindTextBoundingBox(this.text, this.textFont, this.textHeight),\n    s, th, f, soff, cw, twidth, theight, img, tcv;\n  // add the gap at the top to the height to make equal gap at bottom\n  theight = extents ? extents.max.y + extents.min.y : this.textHeight;\n  c.font = this.font = this.textHeight + 'px ' + this.textFont;\n  twidth = this.MeasureText(c);\n  if(t.txtOpt) {\n    s = t.txtScale;\n    th = s * this.textHeight;\n    f = th + 'px ' + this.textFont;\n    soff = [s * t.shadowOffset[0], s * t.shadowOffset[1]];\n    c.font = f;\n    cw = this.MeasureText(c);\n    tcv = new TextCanvas(this.text, f, cw + s, (s * theight) + s, cw,\n      this.line_widths, t.textAlign, t.textVAlign, s);\n\n    if(this.image)\n      tcv.SetImage(this.image, this.iw, this.ih, t.imagePosition, t.imagePadding,\n        t.imageAlign, t.imageVAlign, t.imageScale);\n\n    img = tcv.Create(this.colour, this.bgColour, this.bgOutline,\n      s * this.bgOutlineThickness, t.shadow, s * t.shadowBlur, soff,\n      s * this.padding, s * this.bgRadius);\n\n    // add outline image using highlight colour\n    if(t.outlineMethod == 'colour') {\n      this.oimage = tcv.Create(this.outline.colour, this.bgColour, this.outline.colour,\n        s * this.bgOutlineThickness, t.shadow, s * t.shadowBlur, soff,\n        s * this.padding, s * this.bgRadius);\n\n    } else if(t.outlineMethod == 'size') {\n      extents = FindTextBoundingBox(this.text, this.textFont,\n        this.textHeight + t.outlineIncrease);\n      th = extents.max.y + extents.min.y;\n      f = (s * (this.textHeight + t.outlineIncrease)) + 'px ' + this.textFont;\n      c.font = f;\n      cw = this.MeasureText(c);\n\n      tcv = new TextCanvas(this.text, f, cw + s, (s * th) + s, cw,\n        this.line_widths, t.textAlign, t.textVAlign, s);\n      if(this.image)\n        tcv.SetImage(this.image, this.iw + t.outlineIncrease,\n          this.ih + t.outlineIncrease, t.imagePosition, t.imagePadding,\n          t.imageAlign, t.imageVAlign, t.imageScale);\n          \n      this.oimage = tcv.Create(this.colour, this.bgColour, this.bgOutline,\n        s * this.bgOutlineThickness, t.shadow, s * t.shadowBlur, soff,\n        s * this.padding, s * this.bgRadius);\n\n      this.oscale = this.oimage.width / img.width;\n      if(t.outlineIncrease > 0)\n        img = ExpandImage(img, this.oimage.width, this.oimage.height);\n      else\n        this.oimage = ExpandImage(this.oimage, img.width, img.height);\n    }\n    if(img) {\n      this.fimage = img;\n      twidth = this.fimage.width / s;\n      theight = this.fimage.height / s;\n    }\n    this.SetDraw(t);\n    t.txtOpt = !!this.fimage;\n  }\n  this.h = theight;\n  this.w = twidth;\n};\nTproto.SetFont = function(f, c, bc, boc) {\n  this.textFont = f;\n  this.colour = c;\n  this.bgColour = bc;\n  this.bgOutline = boc;\n  this.Measure(this.tc.ctxt, this.tc);\n};\nTproto.SetWeight = function(w) {\n  var tc = this.tc, modes = tc.weightMode.split(/[, ]/), m, s, wl = w.length;\n  if(!this.HasText())\n    return;\n  this.weighted = true;\n  for(s = 0; s < wl; ++s) {\n    m = modes[s] || 'size';\n    if('both' == m) {\n      this.Weight(w[s], tc.ctxt, tc, 'size', tc.min_weight[s], \n        tc.max_weight[s], s);\n      this.Weight(w[s], tc.ctxt, tc, 'colour', tc.min_weight[s],\n        tc.max_weight[s], s);\n    } else {\n      this.Weight(w[s], tc.ctxt, tc, m, tc.min_weight[s], tc.max_weight[s], s);\n    }\n  }\n  this.Measure(tc.ctxt, tc);\n};\nTproto.Weight = function(w, c, t, m, wmin, wmax, wnum) {\n  w = isNaN(w) ? 1 : w;\n  var nweight = (w - wmin) / (wmax - wmin);\n  if('colour' == m)\n    this.colour = FindGradientColour(t, nweight, wnum);\n  else if('bgcolour' == m)\n    this.bgColour = FindGradientColour(t, nweight, wnum);\n  else if('bgoutline' == m)\n    this.bgOutline = FindGradientColour(t, nweight, wnum);\n  else if('outline' == m)\n    this.outline.colour = FindGradientColour(t, nweight, wnum);\n  else if('size' == m) {\n    if(t.weightSizeMin > 0 && t.weightSizeMax > t.weightSizeMin) {\n      this.textHeight = t.weightSize * \n        (t.weightSizeMin + (t.weightSizeMax - t.weightSizeMin) * nweight);\n    } else {\n      // min textHeight of 1\n      this.textHeight = max(1, w * t.weightSize);\n    }\n  }\n};\nTproto.SetShadowColourFixed = function(c,s,a) {\n  c.shadowColor = s;\n};\nTproto.SetShadowColourAlpha = function(c,s,a) {\n  c.shadowColor = SetAlpha(s, a);\n};\nTproto.DrawText = function(c,xoff,yoff) {\n  var t = this.tc, x = this.x, y = this.y, s = this.sc, i, xl;\n  c.globalAlpha = this.alpha;\n  c.fillStyle = this.colour;\n  t.shadow && this.SetShadowColour(c,t.shadow,this.alpha);\n  c.font = this.font;\n  x += xoff / s;\n  y += (yoff / s) - (this.h / 2);\n  for(i = 0; i < this.text.length; ++i) {\n    xl = x;\n    if('right' == t.textAlign) {\n      xl += this.w / 2 - this.line_widths[i];\n    } else if('centre' == t.textAlign) {\n      xl -= this.line_widths[i] / 2;\n    } else {\n      xl -= this.w / 2;\n    }\n    c.setTransform(s, 0, 0, s, s * xl, s * y);\n    c.fillText(this.text[i], 0, 0);\n    y += this.textHeight;\n  }\n};\nTproto.DrawImage = function(c,xoff,yoff,im) {\n  var x = this.x, y = this.y, s = this.sc,\n    i = im || this.fimage, w = this.w, h = this.h, a = this.alpha,\n    shadow = this.shadow;\n  c.globalAlpha = a;\n  shadow && this.SetShadowColour(c,shadow,a);\n  x += (xoff / s) - (w / 2);\n  y += (yoff / s) - (h / 2);\n  c.setTransform(s, 0, 0, s, s * x, s * y);\n  c.drawImage(i, 0, 0, w, h);\n};\nTproto.DrawImageIE = function(c,xoff,yoff) {\n  var i = this.fimage, s = this.sc,\n    w = i.width = this.w*s, h = i.height = this.h * s,\n    x = (this.x*s) + xoff - (w/2), y = (this.y*s) + yoff - (h/2);\n  c.setTransform(1,0,0,1,0,0);\n  c.globalAlpha = this.alpha;\n  c.drawImage(i, x, y);\n};\nTproto.Calc = function(m,a) {\n  var pp, t = this.tc, mnb = t.minBrightness,\n    mxb = t.maxBrightness, r = t.max_radius;\n  pp = m.xform(this.position);\n  this.xformed = pp;\n  pp = Project(t, pp, t.stretchX, t.stretchY);\n  this.x = pp.x;\n  this.y = pp.y;\n  this.z = pp.z;\n  this.sc = pp.w;\n  this.alpha = a * Clamp(mnb + (mxb - mnb) * (r - this.z) / (2 * r), 0, 1);\n  return this.xformed;\n};\nTproto.UpdateActive = function(c, xoff, yoff) {\n  var o = this.outline, w = this.w, h = this.h,\n    x = this.x - w/2, y = this.y - h/2;\n  o.Update(x, y, w, h, this.sc, this.z, xoff, yoff);\n  return o;\n};\nTproto.CheckActive = function(c,xoff,yoff) {\n  var t = this.tc, o = this.UpdateActive(c, xoff, yoff);\n  return o.Active(c, t.mx, t.my) ? o : null;\n};\nTproto.Clicked = function(e) {\n  var a = this.a, t = a.target, h = a.href, evt;\n  if(t != '' && t != '_self') {\n    if(self.frames[t]) {\n      self.frames[t].document.location = h;\n    } else{\n      try {\n        if(top.frames[t]) {\n          top.frames[t].document.location = h;\n          return;\n        }\n      } catch(err) {\n        // different domain/port/protocol?\n      }\n      window.open(h, t);\n    }\n    return;\n  }\n  if(doc.createEvent) {\n    evt = doc.createEvent('MouseEvents');\n    evt.initMouseEvent('click', 1, 1, window, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, null);\n    if(!a.dispatchEvent(evt))\n      return;\n  } else if(a.fireEvent) {\n    if(!a.fireEvent('onclick'))\n      return;\n  }\n  doc.location = h;\n};\n/**\n * @constructor\n */\nfunction TagCanvas(cid,lctr,opt) {\n  var i, p, c = doc.getElementById(cid), cp = ['id','class','innerHTML'], raf;\n\n  if(!c) throw 0;\n  if(Defined(window.G_vmlCanvasManager)) {\n    c = window.G_vmlCanvasManager.initElement(c);\n    this.ie = parseFloat(navigator.appVersion.split('MSIE')[1]);\n  }\n  if(c && (!c.getContext || !c.getContext('2d').fillText)) {\n    p = doc.createElement('DIV');\n    for(i = 0; i < cp.length; ++i)\n      p[cp[i]] = c[cp[i]];\n    c.parentNode.insertBefore(p,c);\n    c.parentNode.removeChild(c);\n    throw 0;\n  }\n  for(i in TagCanvas.options)\n    this[i] = opt && Defined(opt[i]) ? opt[i] : \n      (Defined(TagCanvas[i]) ? TagCanvas[i] : TagCanvas.options[i]);\n\n  this.canvas = c;\n  this.ctxt = c.getContext('2d');\n  this.z1 = 250 / max(this.depth, 0.001);\n  this.z2 = this.z1 / this.zoom;\n  this.radius = min(c.height, c.width) * 0.0075; // fits radius of 100 in canvas\n  this.max_radius = 100;\n  this.max_weight = [];\n  this.min_weight = [];\n  this.textFont = this.textFont && FixFont(this.textFont);\n  this.textHeight *= 1;\n  this.imageRadius = this.imageRadius.toString();\n  this.pulsateTo = Clamp(this.pulsateTo, 0, 1);\n  this.minBrightness = Clamp(this.minBrightness, 0, 1);\n  this.maxBrightness = Clamp(this.maxBrightness, this.minBrightness, 1);\n  this.ctxt.textBaseline = 'top';\n  this.lx = (this.lock + '').indexOf('x') + 1;\n  this.ly = (this.lock + '').indexOf('y') + 1;\n  this.frozen = this.dx = this.dy = this.fixedAnim = this.touchState = 0;\n  this.fixedAlpha = 1;\n  this.source = lctr || cid;\n  this.repeatTags = min(64, ~~this.repeatTags);\n  this.minTags = min(200, ~~this.minTags);\n  if(~~this.scrollPause > 0)\n    TagCanvas.scrollPause = ~~this.scrollPause;\n  else\n    this.scrollPause = 0;\n  if(this.minTags > 0 && this.repeatTags < 1 && (i = this.GetTags().length))\n    this.repeatTags = ceil(this.minTags / i) - 1;\n  this.transform = Matrix.Identity();\n  this.startTime = this.time = TimeNow();\n  this.mx = this.my = -1;\n  this.centreImage && CentreImage(this);\n  this.Animate = this.dragControl ? this.AnimateDrag : this.AnimatePosition;\n  this.animTiming = (typeof TagCanvas[this.animTiming] == 'function' ?\n    TagCanvas[this.animTiming] : TagCanvas.Smooth);\n  if(this.shadowBlur || this.shadowOffset[0] || this.shadowOffset[1]) {\n    // let the browser translate \"red\" into \"#ff0000\"\n    this.ctxt.shadowColor = this.shadow;\n    this.shadow = this.ctxt.shadowColor;\n    this.shadowAlpha = ShadowAlphaBroken();\n  } else {\n    delete this.shadow;\n  }\n  this.Load();\n  if(lctr && this.hideTags) {\n    (function(t) {\n    if(TagCanvas.loaded)\n      t.HideTags();\n    else\n      AddHandler('load', function() { t.HideTags(); }, window);\n    })(this);\n  }\n\n  this.yaw = this.initial ? this.initial[0] * this.maxSpeed : 0;\n  this.pitch = this.initial ? this.initial[1] * this.maxSpeed : 0;\n  if(this.tooltip) {\n    this.ctitle = c.title;\n    c.title = '';\n    if(this.tooltip == 'native') {\n      this.Tooltip = this.TooltipNative;\n    } else {\n      this.Tooltip = this.TooltipDiv;\n      if(!this.ttdiv) {\n        this.ttdiv = doc.createElement('div');\n        this.ttdiv.className = this.tooltipClass;\n        this.ttdiv.style.position = 'absolute';\n        this.ttdiv.style.zIndex = c.style.zIndex + 1;\n        AddHandler('mouseover',function(e){e.target.style.display='none';},this.ttdiv);\n        doc.body.appendChild(this.ttdiv);\n      }\n    }\n  } else {\n    this.Tooltip = this.TooltipNone;\n  }\n  if(!this.noMouse && !handlers[cid]) {\n    handlers[cid] = [\n      ['mousemove', MouseMove],\n      ['mouseout', MouseOut],\n      ['mouseup', MouseUp],\n      ['touchstart', TouchDown],\n      ['touchend', TouchUp],\n      ['touchcancel', TouchUp],\n      ['touchmove', TouchMove]\n    ];\n    if(this.dragControl) {\n      handlers[cid].push(['mousedown', MouseDown]);\n      handlers[cid].push(['selectstart', Nop]);\n    }\n    if(this.wheelZoom) {\n      handlers[cid].push(['mousewheel', MouseWheel]);\n      handlers[cid].push(['DOMMouseScroll', MouseWheel]);\n    }\n    if(this.scrollPause) {\n      handlers[cid].push(['scroll', Scroll, window]);\n    }\n    for(i = 0; i < handlers[cid].length; ++i) {\n      p = handlers[cid][i];\n      AddHandler(p[0], p[1], p[2] ? p[2] : c);\n    }\n  }\n  if(!TagCanvas.started) {\n    raf = window.requestAnimationFrame = window.requestAnimationFrame ||\n      window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame ||\n      window.msRequestAnimationFrame;\n    TagCanvas.NextFrame = raf ? TagCanvas.NextFrameRAF :\n      TagCanvas.NextFrameTimeout;\n    TagCanvas.interval = this.interval;\n    TagCanvas.NextFrame(this.interval);\n    TagCanvas.started = 1;\n  }\n}\nTCproto = TagCanvas.prototype;\nTCproto.SourceElements = function() {\n  if(doc.querySelectorAll)\n    return doc.querySelectorAll('#' + this.source);\n  return [doc.getElementById(this.source)];\n};\nTCproto.HideTags = function() {\n  var el = this.SourceElements(), i;\n  for(i = 0; i < el.length; ++i)\n    el[i].style.display = 'none';\n};\nTCproto.GetTags = function() {\n  var el = this.SourceElements(), etl, tl = [], i, j, k;\n  for(k = 0; k <= this.repeatTags; ++k) {\n    for(i = 0; i < el.length; ++i) {\n      etl = el[i].getElementsByTagName('a');\n      for(j = 0; j < etl.length; ++j) {\n        tl.push(etl[j]);\n      }\n    }\n  }\n  return tl;\n};\nTCproto.Message = function(text) {\n  var tl = [], i, p, tc = text.split(''), a, t, x, z;\n  for(i = 0; i < tc.length; ++i) {\n    if(tc[i] != ' ') {\n      p = i - tc.length / 2;\n      a = doc.createElement('A');\n      a.href = '#';\n      a.innerText = tc[i];\n      x = 100 * sin(p / 9);\n      z = -100 * cos(p / 9);\n      t = new Tag(this, tc[i], a, [x,0,z], 2, 18, '#000', '#fff', 0, 0, 0,\n        'monospace', 2, tc[i]);\n      t.Init();\n      tl.push(t);\n    }\n  }\n  return tl;\n};\nTCproto.CreateTag = function(e) {\n  var im, i, t, txt, ts, font, bc, boc, p = [0, 0, 0];\n  if('text' != this.imageMode) {\n    im = e.getElementsByTagName('img');\n    if(im.length) {\n      i = new Image;\n      i.src = im[0].src;\n\n      if(!this.imageMode) {\n        t = new Tag(this, \"\", e, p, 0, 0);\n        t.SetImage(i);\n        //t.Init();\n        AddImage(i, im[0], t, this);\n        return t;\n      }\n    }\n  }\n  if('image' != this.imageMode) {\n    ts = new TextSplitter(e);\n    txt = ts.Lines();\n    if(!ts.Empty()) {\n      font = this.textFont || FixFont(GetProperty(e,'font-family'));\n      if(this.splitWidth)\n        txt = ts.SplitWidth(this.splitWidth, this.ctxt, font, this.textHeight);\n\n      bc = this.bgColour == 'tag' ? GetProperty(e, 'background-color') :\n        this.bgColour;\n      boc = this.bgOutline == 'tag' ? GetProperty(e, 'color') : this.bgOutline;\n    } else {\n      ts = null;\n    }\n  }\n  if(ts || i) {\n    t = new Tag(this, txt, e, p, 2, this.textHeight + 2,\n      this.textColour || GetProperty(e,'color'), bc, this.bgRadius,\n      boc, this.bgOutlineThickness, font, this.padding, ts && ts.original);\n    if(i) {\n      t.SetImage(i);\n      AddImage(i, im[0], t, this);\n    } else {\n      t.Init();\n    }\n    return t;\n  }\n};\nTCproto.UpdateTag = function(t, a) {\n  var colour = this.textColour || GetProperty(a, 'color'),\n    font = this.textFont || FixFont(GetProperty(a, 'font-family')),\n    bc = this.bgColour == 'tag' ? GetProperty(a, 'background-color') :\n      this.bgColour, boc = this.bgOutline == 'tag' ? GetProperty(a, 'color') :\n      this.bgOutline;\n  t.a = a;\n  t.title = a.title;\n  if(t.colour != colour || t.textFont != font || t.bgColour != bc ||\n    t.bgOutline != boc)\n    t.SetFont(font, colour, bc, boc);\n};\nTCproto.Weight = function(tl) {\n  var ll = tl.length, w, i, s, weights = [], valid,\n    wfrom = this.weightFrom ? this.weightFrom.split(/[, ]/) : [null],\n    wl = wfrom.length;\n  for(i = 0; i < ll; ++i) {\n    weights[i] = [];\n    for(s = 0; s < wl; ++s) {\n      w = FindWeight(tl[i].a, wfrom[s], this.textHeight);\n      if(!this.max_weight[s] || w > this.max_weight[s])\n        this.max_weight[s] = w;\n      if(!this.min_weight[s] || w < this.min_weight[s])\n        this.min_weight[s] = w;\n      weights[i][s] = w;\n    }\n  }\n  for(s = 0; s < wl; ++s) {\n    if(this.max_weight[s] > this.min_weight[s])\n      valid = 1;\n  }\n  if(valid) {\n    for(i = 0; i < ll; ++i) {\n      tl[i].SetWeight(weights[i]);\n    }\n  }\n};\nTCproto.Load = function() {\n  var tl = this.GetTags(), taglist = [], shape, t,\n    shapeArgs, rx, ry, rz, vl, i, tagmap = [], pfuncs = {\n      sphere: PointsOnSphere,\n      vcylinder: PointsOnCylinderV,\n      hcylinder: PointsOnCylinderH,\n      vring: PointsOnRingV,\n      hring: PointsOnRingH\n    };\n\n  if(tl.length) {\n    tagmap.length = tl.length;\n    for(i = 0; i < tl.length; ++i)\n      tagmap[i] = i;\n    this.shuffleTags && Shuffle(tagmap);\n    rx = 100 * this.radiusX;\n    ry = 100 * this.radiusY;\n    rz = 100 * this.radiusZ;\n    this.max_radius = max(rx, max(ry, rz));\n\n    for(i = 0; i < tl.length; ++i) {\n      t = this.CreateTag(tl[tagmap[i]]);\n      if(t)\n        taglist.push(t);\n    }\n    this.weight && this.Weight(taglist, true);\n  \n    if(this.shapeArgs) {\n      this.shapeArgs[0] = taglist.length;\n    } else {\n      shapeArgs = this.shape.toString().split(/[(),]/);\n      shape = shapeArgs.shift();\n      if(typeof window[shape] === 'function')\n        this.shape = window[shape];\n      else\n        this.shape = pfuncs[shape] || pfuncs.sphere;\n      this.shapeArgs = [taglist.length, rx, ry, rz].concat(shapeArgs);\n    }\n    vl = this.shape.apply(this, this.shapeArgs);\n    this.listLength = taglist.length;\n    for(i = 0; i < taglist.length; ++i)\n      taglist[i].position = new Vector(vl[i][0], vl[i][1], vl[i][2]);\n  }\n  if(this.noTagsMessage && !taglist.length) {\n    i = (this.imageMode && this.imageMode != 'both' ? this.imageMode + ' ': '');\n    taglist = this.Message('No ' + i + 'tags');\n  }\n  this.taglist = taglist;\n};\nTCproto.Update = function() {\n  var tl = this.GetTags(), newlist = [],\n    taglist = this.taglist, found,\n    added = [], removed = [], vl, ol, nl, i, j;\n\n  if(!this.shapeArgs)\n    return this.Load();\n\n  if(tl.length) {\n    nl = this.listLength = tl.length;\n    ol = taglist.length;\n\n    // copy existing list, populate \"removed\"\n    for(i = 0; i < ol; ++i) {\n      newlist.push(taglist[i]);\n      removed.push(i);\n    }\n\n    // find added and removed tags\n    for(i = 0; i < nl; ++i) {\n      for(j = 0, found = 0; j < ol; ++j) {\n        if(taglist[j].EqualTo(tl[i])) {\n          this.UpdateTag(newlist[j], tl[i]);\n          found = removed[j] = -1;\n        }\n      }\n      if(!found)\n        added.push(i);\n    }\n\n    // clean out found tags from removed list\n    for(i = 0, j = 0; i < ol; ++i) {\n      if(removed[j] == -1)\n        removed.splice(j,1);\n      else\n        ++j;\n    }\n\n    // insert new tags in gaps where old tags removed\n    if(removed.length) {\n      Shuffle(removed);\n      while(removed.length && added.length) {\n        i = removed.shift();\n        j = added.shift();\n        newlist[i] = this.CreateTag(tl[j]);\n      }\n\n      // remove any more (in reverse order)\n      removed.sort(function(a,b) {return a-b});\n      while(removed.length) {\n        newlist.splice(removed.pop(), 1);\n      }\n    }\n\n    // add any extra tags\n    j = newlist.length / (added.length + 1);\n    i = 0;\n    while(added.length) {\n      newlist.splice(ceil(++i * j), 0, this.CreateTag(tl[added.shift()]));\n    }\n\n    // assign correct positions to tags\n    this.shapeArgs[0] = nl = newlist.length;\n    vl = this.shape.apply(this, this.shapeArgs);\n    for(i = 0; i < nl; ++i)\n      newlist[i].position = new Vector(vl[i][0], vl[i][1], vl[i][2]);\n\n    // reweight tags\n    this.weight && this.Weight(newlist);\n  }\n  this.taglist = newlist;\n};\nTCproto.SetShadow = function(c) {\n  c.shadowBlur = this.shadowBlur;\n  c.shadowOffsetX = this.shadowOffset[0];\n  c.shadowOffsetY = this.shadowOffset[1];\n};\nTCproto.Draw = function(t) {\n  if(this.paused)\n    return;\n  var cv = this.canvas, cw = cv.width, ch = cv.height, max_sc = 0,\n    tdelta = (t - this.time) * TagCanvas.interval / 1000,\n    x = cw / 2 + this.offsetX, y = ch / 2 + this.offsetY, c = this.ctxt,\n    active, a, i, aindex = -1, tl = this.taglist, l = tl.length,\n    frontsel = this.frontSelect, centreDrawn = (this.centreFunc == Nop), fixed;\n  this.time = t;\n  if(this.frozen && this.drawn)\n    return this.Animate(cw,ch,tdelta);\n  fixed = this.AnimateFixed();\n  c.setTransform(1,0,0,1,0,0);\n  for(i = 0; i < l; ++i)\n    tl[i].Calc(this.transform, this.fixedAlpha);\n  tl = SortList(tl, function(a,b) {return b.z-a.z});\n  \n  if(fixed && this.fixedAnim.active) {\n    active = this.fixedAnim.tag.UpdateActive(c, x, y);\n  } else {\n    this.active = null;\n    for(i = 0; i < l; ++i) {\n      a = this.mx >= 0 && this.my >= 0 && this.taglist[i].CheckActive(c, x, y);\n      if(a && a.sc > max_sc && (!frontsel || a.z <= 0)) {\n        active = a;\n        aindex = i;\n        active.tag = this.taglist[i];\n        max_sc = a.sc;\n      }\n    }\n    this.active = active;\n  }\n\n  this.txtOpt || (this.shadow && this.SetShadow(c));\n  c.clearRect(0,0,cw,ch);\n  for(i = 0; i < l; ++i) {\n    if(!centreDrawn && tl[i].z <= 0) {\n      // run the centreFunc if the next tag is at the front\n      try { this.centreFunc(c, cw, ch, x, y); }\n      catch(e) {\n        alert(e);\n        // don't run it again\n        this.centreFunc = Nop;\n      }\n      centreDrawn = true;\n    }\n\n    if(!(active && active.tag == tl[i] && active.PreDraw(c, tl[i], x, y)))\n      tl[i].Draw(c, x, y);\n    active && active.tag == tl[i] && active.PostDraw(c);\n  }\n  if(this.freezeActive && active) {\n    this.Freeze();\n  } else {\n    this.UnFreeze();\n    this.drawn = (l == this.listLength);\n  }\n  if(this.fixedCallback) {\n    this.fixedCallback(this,this.fixedCallbackTag);\n    this.fixedCallback = null;\n  }\n  fixed || this.Animate(cw, ch, tdelta);\n  active && active.LastDraw(c);\n  cv.style.cursor = active ? this.activeCursor : '';\n  this.Tooltip(active,this.taglist[aindex]);\n};\nTCproto.TooltipNone = function() { };\nTCproto.TooltipNative = function(active,tag) {\n  if(active)\n    this.canvas.title = tag && tag.title ? tag.title : '';\n  else\n    this.canvas.title = this.ctitle;\n};\nTCproto.SetTTDiv = function(title, tag) {\n  var tc = this, s = tc.ttdiv.style;\n  if(title != tc.ttdiv.innerHTML)\n    s.display = 'none';\n  tc.ttdiv.innerHTML = title;\n  tag && (tag.title = tc.ttdiv.innerHTML);\n  if(s.display == 'none' && ! tc.tttimer) {\n    tc.tttimer = setTimeout(function() {\n      var p = AbsPos(tc.canvas.id);\n      s.display = 'block';\n      s.left = p.x + tc.mx + 'px';\n      s.top = p.y + tc.my + 24 + 'px';\n      tc.tttimer = null;\n    }, tc.tooltipDelay);\n  }\n};\nTCproto.TooltipDiv = function(active,tag) {\n  if(active && tag && tag.title) {\n    this.SetTTDiv(tag.title, tag);\n  } else if(!active && this.mx != -1 && this.my != -1 && this.ctitle.length) {\n    this.SetTTDiv(this.ctitle);\n  } else {\n    this.ttdiv.style.display = 'none';\n  }\n};\nTCproto.Transform = function(tc, p, y) {\n  if(p || y) {\n    var sp = sin(p), cp = cos(p), sy = sin(y), cy = cos(y),\n      ym = new Matrix([cy,0,sy, 0,1,0, -sy,0,cy]),\n      pm = new Matrix([1,0,0, 0,cp,-sp, 0,sp,cp]);\n    tc.transform = tc.transform.mul(ym.mul(pm));\n  }\n};\nTCproto.AnimateFixed = function() {\n  var fa, t1, angle, m, d;\n  if(this.fadeIn) {\n    t1 = TimeNow() - this.startTime;\n    if(t1 >= this.fadeIn) {\n      this.fadeIn = 0;\n      this.fixedAlpha = 1;\n    } else {\n      this.fixedAlpha = t1 / this.fadeIn;\n    }\n  }\n  if(this.fixedAnim) {\n    if(!this.fixedAnim.transform)\n      this.fixedAnim.transform = this.transform;\n    fa = this.fixedAnim, t1 = TimeNow() - fa.t0, angle = fa.angle,\n      m, d = this.animTiming(fa.t, t1);\n    this.transform = fa.transform;\n    if(t1 >= fa.t) {\n      this.fixedCallbackTag = fa.tag;\n      this.fixedCallback = fa.cb;\n      this.fixedAnim = this.yaw = this.pitch = 0;\n    } else {\n      angle *= d;\n    }\n    m = Matrix.Rotation(angle, fa.axis);\n    this.transform = this.transform.mul(m);\n    return (this.fixedAnim != 0);\n  }\n  return false;\n};\nTCproto.AnimatePosition = function(w, h, t) {\n  var tc = this, x = tc.mx, y = tc.my, s, r;\n  if(!tc.frozen && x >= 0 && y >= 0 && x < w && y < h) {\n    s = tc.maxSpeed, r = tc.reverse ? -1 : 1;\n    tc.lx || (tc.yaw = ((x * 2 * s / w) - s) * r * t);\n    tc.ly || (tc.pitch = ((y * 2 * s / h) - s) * -r * t);\n    tc.initial = null;\n  } else if(!tc.initial) {\n    if(tc.frozen && !tc.freezeDecel)\n      tc.yaw = tc.pitch = 0;\n    else\n      tc.Decel(tc);\n  }\n  this.Transform(tc, tc.pitch, tc.yaw);\n};\nTCproto.AnimateDrag = function(w, h, t) {\n  var tc = this, rs = 100 * t * tc.maxSpeed / tc.max_radius / tc.zoom;\n  if(tc.dx || tc.dy) {\n    tc.lx || (tc.yaw = tc.dx * rs / tc.stretchX);\n    tc.ly || (tc.pitch = tc.dy * -rs / tc.stretchY);\n    tc.dx = tc.dy = 0;\n    tc.initial = null;\n  } else if(!tc.initial) {\n    tc.Decel(tc);\n  }\n  this.Transform(tc, tc.pitch, tc.yaw);\n};\nTCproto.Freeze = function() {\n  if(!this.frozen) {\n    this.preFreeze = [this.yaw, this.pitch];\n    this.frozen = 1;\n    this.drawn = 0;\n  }\n};\nTCproto.UnFreeze = function() {\n  if(this.frozen) {\n    this.yaw = this.preFreeze[0];\n    this.pitch = this.preFreeze[1];\n    this.frozen = 0;\n  }\n};\nTCproto.Decel = function(tc) {\n  var s = tc.minSpeed, ay = abs(tc.yaw), ap = abs(tc.pitch);\n  if(!tc.lx && ay > s)\n    tc.yaw = ay > tc.z0 ? tc.yaw * tc.decel : 0;\n  if(!tc.ly && ap > s)\n    tc.pitch = ap > tc.z0 ? tc.pitch * tc.decel : 0;\n};\nTCproto.Zoom = function(r) {\n  this.z2 = this.z1 * (1/r);\n  this.drawn = 0;\n};\nTCproto.Clicked = function(e) {\n  var a = this.active;\n  try {\n    if(a && a.tag)\n      if(this.clickToFront === false || this.clickToFront === null)\n        a.tag.Clicked(e);\n      else\n        this.TagToFront(a.tag, this.clickToFront, function() {\n          a.tag.Clicked(e);\n        }, true);\n  } catch(ex) {\n  }\n};\nTCproto.Wheel = function(i) {\n  var z = this.zoom + this.zoomStep * (i ? 1 : -1);\n  this.zoom = min(this.zoomMax,max(this.zoomMin,z));\n  this.Zoom(this.zoom);\n};\nTCproto.BeginDrag = function(e) {\n  this.down = EventXY(e, this.canvas);\n  e.cancelBubble = true;\n  e.returnValue = false;\n  e.preventDefault && e.preventDefault();\n};\nTCproto.Drag = function(e, p) {\n  if(this.dragControl && this.down) {\n    var t2 = this.dragThreshold * this.dragThreshold,\n      dx = p.x - this.down.x, dy = p.y - this.down.y;\n    if(this.dragging || dx * dx + dy * dy > t2) {\n      this.dx = dx;\n      this.dy = dy;\n      this.dragging = 1;\n      this.down = p;\n    }\n  }\n  return this.dragging;\n};\nTCproto.EndDrag = function() {\n  var res = this.dragging;\n  this.dragging = this.down = null;\n  return res;\n};\nfunction PinchDistance(e) {\n  var t1 = e.targetTouches[0], t2 = e.targetTouches[1];\n  return sqrt(pow(t2.pageX - t1.pageX, 2) + pow(t2.pageY - t1.pageY, 2));\n}\nTCproto.BeginPinch = function(e) {\n  this.pinched = [PinchDistance(e), this.zoom];\n  e.preventDefault && e.preventDefault();\n};\nTCproto.Pinch = function(e) {\n  var z, d, p = this.pinched;\n  if(!p)\n    return;\n  d = PinchDistance(e);\n  z = p[1] * d / p[0];\n  this.zoom = min(this.zoomMax,max(this.zoomMin,z));\n  this.Zoom(this.zoom);\n};\nTCproto.EndPinch = function(e) {\n  this.pinched = null;\n};\nTCproto.Pause = function() { this.paused = true; };\nTCproto.Resume = function() { this.paused = false; };\nTCproto.SetSpeed = function(i) {\n  this.initial = i;\n  this.yaw = i[0] * this.maxSpeed;\n  this.pitch = i[1] * this.maxSpeed;\n};\nTCproto.FindTag = function(t) {\n  if(!Defined(t))\n    return null;\n  Defined(t.index) && (t = t.index);\n  if(!IsObject(t))\n    return this.taglist[t];\n  var srch, tgt, i;\n  if(Defined(t.id))\n    srch = 'id', tgt = t.id;\n  else if(Defined(t.text))\n    srch = 'innerText', tgt = t.text;\n\n  for(i = 0; i < this.taglist.length; ++i)\n    if(this.taglist[i].a[srch] == tgt)\n      return this.taglist[i];\n};\nTCproto.RotateTag = function(tag, lt, lg, time, callback, active) {\n  var t = tag.Calc(this.transform, 1), v1 = new Vector(t.x, t.y, t.z),\n    v2 = MakeVector(lg, lt), angle = v1.angle(v2), u = v1.cross(v2).unit();\n  if(angle == 0) {\n    this.fixedCallbackTag = tag;\n    this.fixedCallback = callback;\n  } else {\n    this.fixedAnim = {\n      angle: -angle,\n      axis: u,\n      t: time,\n      t0: TimeNow(),\n      cb: callback,\n      tag: tag,\n      active: active\n    };\n  }\n};\nTCproto.TagToFront = function(tag, time, callback, active) {\n  this.RotateTag(tag, 0, 0, time, callback, active);\n};\nTagCanvas.Start = function(id,l,o) {\n  TagCanvas.Delete(id);\n  TagCanvas.tc[id] = new TagCanvas(id,l,o);\n};\nfunction tccall(f,id) {\n  TagCanvas.tc[id] && TagCanvas.tc[id][f]();\n}\nTagCanvas.Linear = function(t, t0) { return t0 / t; }\nTagCanvas.Smooth = function(t, t0) { return 0.5 - cos(t0 * Math.PI / t) / 2; }\nTagCanvas.Pause = function(id) { tccall('Pause',id); };\nTagCanvas.Resume = function(id) { tccall('Resume',id); };\nTagCanvas.Reload = function(id) { tccall('Load',id); };\nTagCanvas.Update = function(id) { tccall('Update',id); };\nTagCanvas.SetSpeed = function(id, speed) {\n  if(IsObject(speed) && TagCanvas.tc[id] &&\n    !isNaN(speed[0]) && !isNaN(speed[1])) {\n    TagCanvas.tc[id].SetSpeed(speed);\n    return true;\n  }\n  return false;\n};\nTagCanvas.TagToFront = function(id, options) {\n  if(!IsObject(options))\n    return false;\n  options.lat = options.lng = 0;\n  return TagCanvas.RotateTag(id, options);\n};\nTagCanvas.RotateTag = function(id, options) {\n  if(IsObject(options) && TagCanvas.tc[id]) {\n    if(isNaN(options.time))\n      options.time = 500;\n    var tt = TagCanvas.tc[id].FindTag(options);\n    if(tt) {\n      TagCanvas.tc[id].RotateTag(tt, options.lat, options.lng,\n        options.time, options.callback, options.active);\n      return true;\n    }\n  }\n  return false;\n};\nTagCanvas.Delete = function(id) {\n  var i, c;\n  if(handlers[id]) {\n    c = doc.getElementById(id);\n    if(c) {\n      for(i = 0; i < handlers[id].length; ++i)\n        RemoveHandler(handlers[id][i][0], handlers[id][i][1], c);\n    }\n  }\n  delete handlers[id];\n  delete TagCanvas.tc[id];\n};\nTagCanvas.NextFrameRAF = function() {\n  requestAnimationFrame(DrawCanvasRAF);\n};\nTagCanvas.NextFrameTimeout = function(iv) {\n  setTimeout(DrawCanvas, iv);\n};\nTagCanvas.tc = {};\nTagCanvas.options = {\nz1: 20000,\nz2: 20000,\nz0: 0.0002,\nfreezeActive: false,\nfreezeDecel: false,\nactiveCursor: 'pointer',\npulsateTo: 1,\npulsateTime: 3,\nreverse: false,\ndepth: 0.5,\nmaxSpeed: 0.05,\nminSpeed: 0,\ndecel: 0.95,\ninterval: 20,\nminBrightness: 0.1,\nmaxBrightness: 1,\noutlineColour: '#ffff99',\noutlineThickness: 2,\noutlineOffset: 5,\noutlineMethod: 'outline',\noutlineRadius: 0,\ntextColour: '#ff99ff',\ntextHeight: 15,\ntextFont: 'Helvetica, Arial, sans-serif',\nshadow: '#000',\nshadowBlur: 0,\nshadowOffset: [0,0],\ninitial: null,\nhideTags: true,\nzoom: 1,\nweight: false,\nweightMode: 'size',\nweightFrom: null,\nweightSize: 1,\nweightSizeMin: null,\nweightSizeMax: null,\nweightGradient: {0:'#f00', 0.33:'#ff0', 0.66:'#0f0', 1:'#00f'},\ntxtOpt: true,\ntxtScale: 2,\nfrontSelect: false,\nwheelZoom: true,\nzoomMin: 0.3,\nzoomMax: 3,\nzoomStep: 0.05,\nshape: 'sphere',\nlock: null,\ntooltip: null,\ntooltipDelay: 300,\ntooltipClass: 'tctooltip',\nradiusX: 1,\nradiusY: 1,\nradiusZ: 1,\nstretchX: 1,\nstretchY: 1,\noffsetX: 0,\noffsetY: 0,\nshuffleTags: false,\nnoSelect: false,\nnoMouse: false,\nimageScale: 1,\npaused: false,\ndragControl: false,\ndragThreshold: 4,\ncentreFunc: Nop,\nsplitWidth: 0,\nanimTiming: 'Smooth',\nclickToFront: false,\nfadeIn: 0,\npadding: 0,\nbgColour: null,\nbgRadius: 0,\nbgOutline: null,\nbgOutlineThickness: 0,\noutlineIncrease: 4,\ntextAlign: 'centre',\ntextVAlign: 'middle',\nimageMode: null,\nimagePosition: null,\nimagePadding: 2,\nimageAlign: 'centre',\nimageVAlign: 'middle',\nnoTagsMessage: true,\ncentreImage: null,\npinchZoom: false,\nrepeatTags: 0,\nminTags: 0,\nimageRadius: 0,\nscrollPause: false,\noutlineDash: 0,\noutlineDashSpace: 0,\noutlineDashSpeed: 1\n};\nfor(i in TagCanvas.options) TagCanvas[i] = TagCanvas.options[i];\nwindow.TagCanvas = TagCanvas;\n// set a flag for when the window has loaded\nAddHandler('load',function(){TagCanvas.loaded=1},window);\n})();","module.exports = \"data:image/gif;base64,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\"","const domain1 = 'http://192.168.0.19:8082';\r\nconst domain2 = 'http://localhost:3000/api';\r\nconst domain3 = 'http://localhost:8082';\r\nconst domain4 = 'http://202.120.40.69:28082';\r\nconst curDomain = domain4;\r\n\r\nconst requests = {\r\n  getTopics: { url: `${curDomain}/data/getTags`, method: 'GET' },\r\n  getOverallData: { url: `${curDomain}/data/globalSearch/dataSearch`, method: 'GET' },\r\n  getProgrammeData: { url: `${curDomain}/data/singleSearch/findByFangAn2`, method: 'GET' },\r\n  getSensiLayout: { url: `${curDomain}/data/globalSearch/cflagCount`, method: 'GET' },\r\n  getSourceLayout: { url: `${curDomain}/data/globalSearch/resourceCount`, method: 'GET' },\r\n  getAmountTrend: { url: `${curDomain}/data/globalSearch/amountTrendCount`, method: 'GET' },\r\n  getRegionLayout: { url: `${curDomain}/data/globalSearch/areaCount`, method: 'GET' },\r\n  register: { url: `${curDomain}/User/register`, method: 'POST' },\r\n  getTraceTree: { url: `${curDomain}/data/weiboTrack`, method: 'GET' },\r\n  modifyProgramme: { url: `${curDomain}/User/changeFangAn`, method: 'POST' },\r\n  addProgramme: { url: `${curDomain}/User/saveFangAn`, method: 'POST' },\r\n  delProgramme: { url: `${curDomain}/User/delFangAn`, method: 'GET' },\r\n  getProgrammes: { url: `${curDomain}/User/findFangAn`, method: 'GET' },\r\n  login: { url: `${curDomain}/User/login`, method: 'POST' },\r\n  logout: { url: `${curDomain}/User/logout`, method: 'POST' },\r\n  getUsers: { url: `${curDomain}/User/allUsers`, method: 'GET' },\r\n  getKeywordsCloud: { url: `${curDomain}/data/keywordExtraction`, method: 'GET' },\r\n  getSensitiveWord: { url: `${curDomain}/data/sensitiveWord`, method: 'POST' },\r\n  getContentTag: { url: `${curDomain}/data/textClass2`, method: 'POST' },\r\n  getProgrammeSensiLayout: { url: `${curDomain}/data/globalSearch/cflagCount2`, method: 'GET' },\r\n  getProgrammeSourceLayout: { url: `${curDomain}/data/globalSearch/resourceCount2`, method: 'GET' },\r\n  getProgrammeAmountTrend: { url: `${curDomain}/data/globalSearch/amountTrendCount2`, method: 'GET' },\r\n  getProgrammeRegionLayout: { url: `${curDomain}/data/globalSearch/areaCount2`, method: 'GET' },\r\n  getProgrammeOrigins: { url: `${curDomain}/User/findAllUrl`, method: 'GET' },\r\n  addProgrammeOrigin: { url: `${curDomain}/User/addUrl`, method: 'POST' },\r\n  delProgrammeOrigin: { url: `${curDomain}/User/delUrl`, method: 'GET' },\r\n  getWeiboUserData: { url: `${domain3}/data/globalSearch/searchByUser`, method: 'GET' },\r\n  getEventTree: { url: `${curDomain}/data/getEventTree`, method: 'GET' },\r\n  getProgrammeSentimentLayout: { url: `${curDomain}/data/sentimentCount`, method: 'GET' },\r\n  getProgrammeSentimentTrend: { url: `${curDomain}/data/sentimentTrendCount`, method: 'GET' }\r\n};\r\n\r\nexport default requests;\r\n","import requests from '../../requests';\r\n\r\nconst getSensitiveWord = async (text) => {\r\n  const url = encodeURI(`${requests.getSensitiveWord.url}`);\r\n  const response = await fetch(url, {\r\n    method: requests.getSensitiveWord.method,\r\n    body: JSON.stringify({ text }),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n  const result = response.status === 200 ? await response.json() : {};\r\n\r\n  return result;\r\n};\r\n\r\nexport default getSensitiveWord;\r\n","const criteria = [\r\n  {\r\n    name: 'sensi',\r\n    label: '敏感度',\r\n    defaultValue: null,\r\n    options: [\r\n      { label: '不限', value: null },\r\n      { label: '敏感', value: '1' },\r\n      { label: '非敏感', value: '0' },\r\n    ],\r\n  },\r\n  {\r\n    name: 'timeOrder',\r\n    label: '时间排序',\r\n    defaultValue: 0,\r\n    options: [\r\n      { label: '时间顺序', value: 0 },\r\n      { label: '时间逆序', value: 1 },\r\n    ],\r\n  },\r\n  {\r\n    name: 'source',\r\n    label: '来源',\r\n    defaultValue: null,\r\n    options: [\r\n      { label: '不限', value: null },\r\n      { label: '网站', value: '1' },\r\n      { label: '论坛', value: '2' },\r\n      { label: '微博', value: '3' },\r\n      { label: '微信', value: '4' },\r\n      { label: '博客', value: '5' },\r\n      { label: '外媒', value: '6' },\r\n      { label: '新闻', value: '7' },\r\n    ],\r\n  },\r\n  {\r\n    name: 'dateRange',\r\n    label: '时间范围',\r\n    defaultValue: null,\r\n    options: [\r\n      { label: '不限', value: null },\r\n      { label: '今日', value: 0 },\r\n      { label: '三日', value: 3 },\r\n      { label: '一周', value: 7 },\r\n      { label: '十日', value: 10 },\r\n      { label: '一月', value: 30 },\r\n      { label: '自定义', value: -1 },\r\n    ],\r\n  },\r\n\r\n];\r\n\r\nexport default criteria;\r\n","import React from 'react';\r\nimport { Modal } from 'antd';\r\nimport './DataContent.scss';\r\nimport { Divider } from 'antd/es';\r\nimport Lodash from 'lodash';\r\nimport getSensitiveWord from '../../../services/request/data/getSensitiveWord';\r\nimport criteria from '../MultiFilter/criteria';\r\n\r\nclass DataContent extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      contentSlice: [],\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (prevProps.record !== this.props.record) this.getSensitiveWord();\r\n  }\r\n\r\n  getSensitiveWord = async () => {\r\n    const { content } = this.props.record || {};\r\n    const result = await getSensitiveWord(content);\r\n    console.log(result);\r\n    const contentSlice = [];\r\n    let prevEnd = 0;\r\n    result.forEach(item => {\r\n      if (item.st !== prevEnd) {\r\n        contentSlice.push({\r\n          sensitive: false,\r\n          slice: content.slice(prevEnd, item.st),\r\n        });\r\n      }\r\n      prevEnd = item.ed;\r\n      contentSlice.push({\r\n        sensitive: true,\r\n        slice: content.slice(item.st, item.ed),\r\n      });\r\n    });\r\n    contentSlice.push({\r\n      sensitive: false,\r\n      slice: content.slice(prevEnd),\r\n    });\r\n    this.setState({ contentSlice });\r\n  };\r\n\r\n  renderSource = (text) => {\r\n    const options = Lodash.find(criteria, { name: 'source' })?.options || [];\r\n    return Lodash.find(options, { value: text })?.label || '';\r\n  };\r\n\r\n  renderSensi = (text) => {\r\n    if (text === '1') return '敏感';\r\n    return \"非敏感\"\r\n  };\r\n\r\n  render() {\r\n    const { record, visible, handleModalCancel } = this.props;\r\n    const { title, content, url, addr, source, sensi, publishedDay } = record || {};\r\n    const { contentSlice } = this.state;\r\n    return (\r\n      <Modal\r\n        title={title}\r\n        visible={visible}\r\n        onCancel={handleModalCancel}\r\n        wrapClassName=\"mts-data-list\"\r\n        className=\"mts-content-modal\"\r\n      >\r\n        <div className=\"attr\">\r\n          <span className=\"title\">地址： </span>\r\n          <span className=\"value\">{url}</span>\r\n        </div>\r\n        <div className=\"attr\">\r\n          <span className=\"title\">来源： </span>\r\n          <span className=\"value\">{this.renderSource(source)} {addr}</span>\r\n        </div>\r\n        <div className=\"attr\">\r\n          <span className=\"title\">敏感度： </span>\r\n          <span className=\"value\">{this.renderSensi(sensi)}</span>\r\n        </div>\r\n        <div className=\"attr\">\r\n          <span className=\"title\">发布时间： </span>\r\n          <span className=\"value\">{publishedDay}</span>\r\n        </div>\r\n        <Divider />\r\n        <div className=\"content\">\r\n          {\r\n          contentSlice.map((item) => (item.sensitive ?\r\n            <span className=\"sensitive\">{item.slice}</span> :\r\n            <span>{item.slice}</span>))\r\n        }\r\n        </div>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DataContent;\r\n","import moment from 'moment';\r\nimport requests from '../../requests';\r\nimport qs from 'qs';\r\n\r\nconst DATE_FORMAT = 'YYYY-MM-DD HH:mm:ss';\r\n\r\nconst getOverallData = async (keyword, source, startPublishedDay, endPublishedDay, sensi, timeOrder, pageSize, pageId) => {\r\n  const params = {\r\n    keyword,\r\n    timeOrder,\r\n    pageSize,\r\n    fromType: source,\r\n    cflag: sensi,\r\n    page: pageId,\r\n  };\r\n  const url = encodeURI(`${requests.getOverallData.url}?${qs.stringify(params)}&startPublishedDay=${startPublishedDay}&endPublishedDay=${endPublishedDay}`);\r\n  const response = await fetch(url, { method: requests.getOverallData.method });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  const result = {\r\n    dataSize: rawResult.hitNumber,\r\n    data: rawResult.dataContent ? rawResult.dataContent.map((item) => ({\r\n      source: item.fromType,\r\n      addr: item.resource,\r\n      url: item.webpageUrl,\r\n      sensi: item.cflag,\r\n      publishedDay: moment(item.publishedDay).add(8, 'hours').format(DATE_FORMAT),\r\n      ...item,\r\n    })) : [],\r\n  };\r\n  return result;\r\n};\r\n\r\nexport default getOverallData;\r\n","import React from \"react\";\r\nimport Lodash from 'lodash';\r\n\r\nclass AutofitWrap extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      height: 0,\r\n    };\r\n  }\r\n\r\n  handleResize = Lodash.debounce(() => {\r\n    // console.log('window resize');\r\n    // console.log(document.body.offsetHeight);\r\n    this.setState({\r\n      height: document.body.offsetHeight - this.props.padding,\r\n    });\r\n  }, 500);\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      height: document.body.offsetHeight - this.props.padding,\r\n    });\r\n    this.event = window.addEventListener('resize', () => {\r\n      this.handleResize();\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.event);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={this.props.className}\r\n        style={{ height: `${this.state.height}px`, minHeight: `${this.props.minHeight}px` }}\r\n      >\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AutofitWrap;","import React from 'react';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\nimport LoadingImg from '../../../materials/loading.gif';\r\nimport './loading.scss';\r\n\r\nclass Loading extends React.Component {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"caseVerteClaire\">\r\n        <div id=\"load\">\r\n          <p>加载中</p>\r\n        </div>\r\n        <div id=\"transform\">\r\n          <div id=\"transform1\" />\r\n          <div id=\"transform2\" />\r\n          <div id=\"transform3\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loading;\r\n","import React from 'react';\r\nimport '../../utils/tagCanvas';\r\nimport './Home.scss';\r\nimport { Carousel, Card, Table } from 'antd';\r\nimport requests from '../../services/requests';\r\nimport constant from '../../config/constant';\r\nimport DataContent from '../common/DataContent/DataContent';\r\nimport getOverallData from '../../services/request/data/getOverallData';\r\nimport moment from \"moment\";\r\nimport AutofitWrap from \"../common/AutofitWrap/AutofitWrap\";\r\nimport Loading from \"../common/Loading/Loading\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\nimport Lodash from \"lodash\";\r\nimport criteria from \"../common/MultiFilter/criteria\";\r\n\r\nconst contentStyle = {\r\n  height: '160px',\r\n  color: '#fff',\r\n  lineHeight: '160px',\r\n  textAlign: 'center',\r\n  background: '#364d79',\r\n};\r\n\r\nclass Home extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      curRecord: undefined,\r\n      visible: false,\r\n      tags: [],\r\n      sensitiveInfo: undefined,\r\n      latestInfo: undefined,\r\n      sensitiveLoading: false,\r\n      latestLoading: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // this.handleRefresh();\r\n    this.handleSearch();\r\n    this.event = setInterval(this.handleSearch, 20000);\r\n  }\r\n\r\n  handleSearch = () => {\r\n    this.getSensitiveInfo();\r\n    this.getLatestInfo();\r\n  };\r\n\r\n  getSensitiveInfo = async () => {\r\n    this.setState({ sensitiveLoading: true })\r\n    const PAGE_SIZE = 10;\r\n    const DATE_FORMAT = 'YYYY-MM-DD HH:mm:ss';\r\n    const params = [\r\n      '', // keyword\r\n      null, // source\r\n      '', // startPublishDay\r\n      '', // endPublishDay\r\n      1, // sensitiveFlag\r\n      1, // timeOrder\r\n      PAGE_SIZE, // pageSize\r\n      0, // pageId\r\n    ];\r\n    const result = await getOverallData(...params);\r\n    this.setState({\r\n      sensitiveInfo: result.data,\r\n      sensitiveLoading: false,\r\n    });\r\n  };\r\n\r\n  getLatestInfo = async () => {\r\n    this.setState({ latestLoading: true })\r\n    const PAGE_SIZE = 10;\r\n    const DATE_FORMAT = 'YYYY-MM-DD HH:mm:ss';\r\n    const params = [\r\n      '', // keyword\r\n      null, // source\r\n      '', // startPublishDay\r\n      '', // endPublishDay\r\n      null, // sensitiveFlag\r\n      1, // timeOrder\r\n      PAGE_SIZE, // pageSize\r\n      0, // pageId\r\n    ];\r\n    const result = await getOverallData(...params);\r\n    this.setState({\r\n      latestLoading: false,\r\n      latestInfo: result.data,\r\n    });\r\n  };\r\n\r\n  handleRefresh = () => {\r\n    fetch(requests.getTopics.url, {\r\n      method: 'GET',\r\n    })\r\n      .then((response) => response.json())\r\n      .then((result) => {\r\n        new Promise((resolve) => {\r\n          this.setState({ tags: result.tags });\r\n          resolve();\r\n        })\r\n          .then(() => {\r\n            try {\r\n              window.TagCanvas.Start('canvas', 'tags', {\r\n                textColour: '#1890ff',\r\n                outlineColour: '#1890ff',\r\n                reverse: true,\r\n                depth: 0.8,\r\n                dragControl: true,\r\n                decel: 0.95,\r\n                maxSpeed: 0.05,\r\n                initial: [-0.2, 0],\r\n              });\r\n            } catch (e) { console.error('Load word cloud error, result =', result); }\r\n          });\r\n      });\r\n  };\r\n\r\n  handleTitleClick = (item) => {\r\n    // e.preventDefault();\r\n    // console.log(e.target.innerHTML);\r\n    this.setState({\r\n      visible: true,\r\n      curRecord: item,\r\n    });\r\n  };\r\n\r\n  handleModalCancel = () => {\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  };\r\n\r\n  renderSource = (text) => {\r\n    const options = Lodash.find(criteria, { name: 'source' })?.options || [];\r\n    return Lodash.find(options, { value: text })?.label || '';\r\n  };\r\n\r\n  render() {\r\n    const { tags, curRecord, visible, sensitiveInfo, latestInfo, sensitiveLoading, latestLoading } = this.state;\r\n    return (\r\n      <div\r\n        className=\"home-wrap\"\r\n      >\r\n        <Card\r\n          title=\"敏感信息列表\"\r\n          className=\"home-card\"\r\n          loading={sensitiveLoading}\r\n        >\r\n          {sensitiveInfo ?\r\n            sensitiveInfo.map((item) => (\r\n              /* <div\r\n                className=\"item\"\r\n                onClick={e => this.handleTitleClick(item)}\r\n              >\r\n                <div className=\"subtitle\">{item.title}</div>\r\n                <span className=\"addr\">\r\n                  [{this.renderSource(item.source)} {moment(item.publishedDay).month()}/{moment(item.publishedDay).date()}]\r\n                </span>\r\n                <div className=\"content\">\r\n                  {item.content}\r\n                </div>\r\n              </div> */\r\n              <div\r\n                className=\"item\"\r\n                onClick={e => this.handleTitleClick(item)}\r\n              >\r\n                <span className=\"subtitle2\">{item.title}</span>\r\n                <span className=\"addr2\">\r\n                  [{this.renderSource(item.source)} {moment(item.publishedDay).month()}/{moment(item.publishedDay).date()}]\r\n                </span>\r\n                <span className=\"content2\">\r\n                  {item.content}\r\n                </span>\r\n              </div>\r\n            )) :\r\n            <Loading />\r\n          }\r\n        </Card>\r\n        <Card\r\n          title=\"最新舆情\"\r\n          className=\"home-card\"\r\n          loading={latestLoading}\r\n        >\r\n          {latestInfo ?\r\n            latestInfo.map((item) => (\r\n              /* <div\r\n                className=\"item\"\r\n                onClick={e => this.handleTitleClick(item)}\r\n              >\r\n                <div className=\"subtitle\">{item.title}</div>\r\n                <span className=\"addr\">\r\n                  [{this.renderSource(item.source)} {moment(item.publishedDay).month()}/{moment(item.publishedDay).date()}]\r\n                </span>\r\n                <div className=\"content\">\r\n                  {item.content}\r\n                </div>\r\n              </div> */\r\n              <div\r\n                className=\"item\"\r\n                onClick={e => this.handleTitleClick(item)}\r\n              >\r\n                <span className=\"subtitle2\">{item.title}</span>\r\n                <span className=\"addr2\">\r\n                  [{this.renderSource(item.source)} {moment(item.publishedDay).month()}/{moment(item.publishedDay).date()}]\r\n                </span>\r\n                <span className=\"content2\">\r\n                  {item.content}\r\n                </span>\r\n              </div>\r\n            )) :\r\n            <Loading />\r\n          }\r\n        </Card>\r\n        <DataContent\r\n          record={curRecord}\r\n          visible={visible}\r\n          handleModalCancel={this.handleModalCancel}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { Radio, Input, Form, Divider, DatePicker } from 'antd';\r\nimport criteria from './criteria';\r\nimport './MultiFilter.scss';\r\n\r\nclass MultiFilter extends React.Component {\r\n  handleSelect = (event, type) => {\r\n    console.log(type, event.target.value)\r\n    if (this.props.onSelect) {\r\n      this.props.onSelect(type, event.target.value);\r\n    }\r\n  };\r\n\r\n  handleSearch = (keyword) => {\r\n    if (this.props.onSearch) {\r\n      this.props.onSearch(keyword);\r\n    }\r\n  };\r\n\r\n  handleDateChange = (moments) => {\r\n    console.log(moments);\r\n    if (this.props.onDateChange) {\r\n      this.props.onDateChange(moments);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { current, initialKeyword } = this.props;\r\n    return (\r\n      <div className=\"mts-multi-filter-container\">\r\n        <Input.Search\r\n          className=\"mts-multi-filter-input\"\r\n          enterButton=\"模糊匹配\"\r\n          size=\"large\"\r\n          onSearch={this.handleSearch}\r\n          defaultValue={initialKeyword}\r\n        />\r\n        <Form\r\n          labelCol={{ span: 3 }}\r\n          wrapperCol={{ span: 999 }}\r\n        >\r\n          <div className=\"criteria\" style={{ width: '50%'}}>\r\n            <span className=\"criteria-attr\">{criteria[0].label}: </span>\r\n            <Radio.Group\r\n              className=\"mts-multi-filter-radios\"\r\n              value={current[criteria[0].name]}\r\n              onChange={(event) => this.handleSelect(event, criteria[0].name)}\r\n            >\r\n              {criteria[0].options.map((option) => (\r\n                <Radio\r\n                  value={option.value}\r\n                  key={option.value}\r\n                >\r\n                  {option.label}\r\n                </Radio>\r\n              ))}\r\n            </Radio.Group>\r\n            {criteria[0].name === 'dateRange' && current[criteria[0].name] === -1 && (\r\n              <DatePicker.RangePicker\r\n                className=\"mts-multi-filter-date-picker\"\r\n                onChange={this.handleDateChange}\r\n              />\r\n            )}\r\n          </div>\r\n          <div className=\"criteria\" style={{ width: '50%'}}>\r\n            <span className=\"criteria-attr\">{criteria[1].label}: </span>\r\n            <Radio.Group\r\n              className=\"mts-multi-filter-radios\"\r\n              value={current[criteria[1].name]}\r\n              onChange={(event) => this.handleSelect(event, criteria[1].name)}\r\n            >\r\n              {criteria[1].options.map((option) => (\r\n                <Radio\r\n                  value={option.value}\r\n                  key={option.value}\r\n                >\r\n                  {option.label}\r\n                </Radio>\r\n              ))}\r\n            </Radio.Group>\r\n            {criteria[1].name === 'dateRange' && current[criteria[1].name] === -1 && (\r\n              <DatePicker.RangePicker\r\n                className=\"mts-multi-filter-date-picker\"\r\n                onChange={this.handleDateChange}\r\n              />\r\n            )}\r\n          </div>\r\n          <Divider className=\"divider\" />\r\n          <div className=\"criteria\">\r\n            <span className=\"criteria-attr\">{criteria[2].label}: </span>\r\n            <Radio.Group\r\n              className=\"mts-multi-filter-radios\"\r\n              value={current[criteria[2].name]}\r\n              onChange={(event) => this.handleSelect(event, criteria[2].name)}\r\n            >\r\n              {criteria[2].options.map((option) => (\r\n                <Radio\r\n                  value={option.value}\r\n                  key={option.value}\r\n                >\r\n                  {option.label}\r\n                </Radio>\r\n              ))}\r\n            </Radio.Group>\r\n            {criteria[2].name === 'dateRange' && current[criteria[2].name] === -1 && (\r\n              <DatePicker.RangePicker\r\n                className=\"mts-multi-filter-date-picker\"\r\n                onChange={this.handleDateChange}\r\n              />\r\n            )}\r\n          </div>\r\n          <Divider className=\"divider\" />\r\n          <div className=\"criteria\">\r\n            <span className=\"criteria-attr\">{criteria[3].label}: </span>\r\n            <Radio.Group\r\n              className=\"mts-multi-filter-radios\"\r\n              value={current[criteria[3].name]}\r\n              onChange={(event) => this.handleSelect(event, criteria[3].name)}\r\n            >\r\n              {criteria[3].options.map((option) => (\r\n                <Radio\r\n                  value={option.value}\r\n                  key={option.value}\r\n                >\r\n                  {option.label}\r\n                </Radio>\r\n              ))}\r\n            </Radio.Group>\r\n            {criteria[3].name === 'dateRange' && current[criteria[3].name] === -1 && (\r\n              <DatePicker.RangePicker\r\n                className=\"mts-multi-filter-date-picker\"\r\n                onChange={this.handleDateChange}\r\n              />\r\n            )}\r\n          </div>\r\n          <Divider className=\"divider\" />\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MultiFilter;\r\n","import React from 'react';\r\nimport { Button, Table, Modal } from 'antd';\r\nimport { HeartOutlined, TagsOutlined, LoadingOutlined } from '@ant-design/icons';\r\nimport { connect } from 'react-redux';\r\nimport Lodash from 'lodash';\r\nimport criteria from '../MultiFilter/criteria';\r\nimport './DataList.scss';\r\nimport moment from \"moment\";\r\nimport DataContent from '../DataContent/DataContent';\r\n\r\nclass DataList extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      curRecord: undefined,\r\n      visible: false,\r\n    };\r\n    this.rowSelection = {\r\n      onChange: (selectedRowKeys, selectedRows) => {\r\n        console.log(selectedRowKeys, selectedRows);\r\n      },\r\n      getCheckboxProps: (record) => ({}),\r\n    };\r\n    this.columnsRender = [\r\n      {\r\n        title: '内容',\r\n        dataIndex: 'title',\r\n        key: 'title',\r\n        render: this.renderTitle,\r\n      },\r\n      /* {\r\n        title: '站点',\r\n        dataIndex: 'addr',\r\n        key: 'addr',\r\n        width: 100,\r\n      }, */\r\n      {\r\n        title: '站点',\r\n        dataIndex: 'source',\r\n        key: 'source',\r\n        render: this.renderSource,\r\n        width: 100\r\n      },\r\n      {\r\n        title: '敏感度',\r\n        dataIndex: 'sensi',\r\n        key: 'sensi',\r\n        render: this.renderSensi,\r\n        width: 100\r\n      },\r\n      {\r\n        title: '发布时间',\r\n        dataIndex: 'publishedDay',\r\n        key: 'publishedDay',\r\n        render: this.renderMoment,\r\n        width: 100\r\n      },\r\n      {\r\n        title: '分类',\r\n        dataIndex: 'tag',\r\n        key: 'tag',\r\n        render: (text) => text || <LoadingOutlined />,\r\n        width: 100\r\n\r\n      },\r\n      {\r\n        title: '操作',\r\n        dataIndex: 'url',\r\n        key: 'url',\r\n        render: this.renderAddr,\r\n        width: 100\r\n      },\r\n    ];\r\n  }\r\n\r\n\r\n  // eslint-disable-next-line react/no-deprecated\r\n  componentWillMount() {\r\n    const { disableTag, disableSource } = this.props;\r\n    if (disableTag) this.columnsRender = this.columnsRender.filter(item => item.key !== 'tag');\r\n    if (disableSource) this.columnsRender = this.columnsRender.filter(item => item.key !== 'source');\r\n  }\r\n\r\n  renderMoment = (text) => (moment(text).format('YYYY-MM-DD hh:mm'))\r\n\r\n  renderSource = (text) => {\r\n    const options = Lodash.find(criteria, { name: 'source' })?.options || [];\r\n    return Lodash.find(options, { value: text })?.label || '';\r\n  };\r\n\r\n  renderSensi = (text) => {\r\n    if (text === '1') return <span style={{ color: 'red' }}>敏感</span>;\r\n    return <span>非敏感</span>;\r\n  };\r\n\r\n  renderTitle = (text, record) => {\r\n    const { content, source } = record;\r\n    let renderTxt = '';\r\n    renderTxt = `${content.slice(0, 100)}`\r\n    return (\r\n      <div\r\n        onClick={() => this.handleTitleClicked(record)}\r\n        className=\"title-content\"\r\n      >\r\n        <a>\r\n          {text}\r\n        </a>\r\n        <div style={{ color: 'gray' }}>{renderTxt}</div>\r\n      </div>\r\n\r\n    );\r\n  };\r\n\r\n  renderAddr = (text) => (\r\n    <a\r\n      className=\"mts-data-list-addr\"\r\n      href={text}\r\n    >\r\n      点击访问 >\r\n    </a>\r\n  );\r\n\r\n  renderFooter = () => (\r\n    <div className=\"mts-data-list-footer\">\r\n      <span>批量操作：</span>\r\n      <div className=\"mts-data-list-icon-button\">\r\n        <Button primary=\"true\" icon={<TagsOutlined />} onClick={(e) => this.handleMaterial(e)} />\r\n      </div>\r\n      <div className=\"mts-data-list-icon-button\">\r\n        <Button primary=\"true\" icon={<HeartOutlined />} onClick={(e) => this.handleCollect(e)} />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  handlePageTurned = (pagination) => {\r\n    if (this.props.onPageChange) {\r\n      this.props.onPageChange(pagination.current - 1);\r\n    }\r\n  };\r\n\r\n  handleTitleClicked = (record) => {\r\n    this.setState({\r\n      visible: true,\r\n      curRecord: record,\r\n    });\r\n  };\r\n\r\n  handleModalCancel = () => {\r\n    this.setState({ visible: false });\r\n  };\r\n\r\n  render() {\r\n    const data = this.props.data || [];\r\n    const { visible, curRecord } = this.state;\r\n    const { dataSize, pageSize, loading } = this.props;\r\n    return (\r\n      <div className=\"mts-data-list\">\r\n        <div id=\"table\">\r\n          <Table\r\n            rowKey={(record) => record.id}\r\n            rowSelection={this.rowSelection}\r\n            columns={this.columnsRender}\r\n            dataSource={data}\r\n            pagination={{\r\n              position: ['none', 'bottomRight'],\r\n              total: dataSize,\r\n              onShowSizeChange: this.props.onPageSizeChange,\r\n            }}\r\n            onChange={this.handlePageTurned}\r\n            loading={loading}\r\n            style={{ fontSize: '16px' }}\r\n          />\r\n          <DataContent\r\n            record={curRecord}\r\n            visible={visible}\r\n            handleModalCancel={this.handleModalCancel}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({});\r\nconst mapDispatchToProps = {};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(DataList);\r\n","import requests from '../../requests';\r\n\r\nconst getContentTag = async (contents, pageId) => {\r\n  // const url = encodeURI(`${requests.getKeywordsCloud.url}?${qs.stringify(params)}`);\r\n  const url = encodeURI(requests.getContentTag.url);\r\n  const data = { textList: contents };\r\n  const response = await fetch(url, {\r\n    method: requests.getContentTag.method,\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  return {\r\n    result: rawResult,\r\n    pageId,\r\n  };\r\n};\r\n\r\nexport default getContentTag;\r\n","export const actionTypes = {\r\n  TEST: Symbol('test'),\r\n  ON_AUTH_CHANGE: Symbol('on_auth_change'),\r\n  ON_PROGRAMME_CHANGE: Symbol('on_programme_change'),\r\n  ON_OVERALL_PATH_CHANGE: Symbol('on_overall_path_change')\r\n};\r\n\r\nexport const actions = {\r\n  test: (data) => ({ type: actionTypes.TEST, data }),\r\n  onAuthChange: (data) => ({ type: actionTypes.ON_AUTH_CHANGE, data }),\r\n  onProgrammeChange: (data) => ({ type: actionTypes.ON_PROGRAMME_CHANGE, data }),\r\n  onOverallPathChange: (data) => ({ type: actionTypes.ON_OVERALL_PATH_CHANGE, data }),\r\n};\r\n","import React, { Component } from 'react';\r\nimport Lodash from 'lodash';\r\nimport moment from 'moment';\r\nimport { Form, Input, Layout, Button } from 'antd';\r\nimport { SearchOutlined, LeftOutlined } from '@ant-design/icons';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport MultiFilter from '../common/MultiFilter/MultiFilter';\r\nimport DataList from '../common/DataList/DataList';\r\nimport getOverallData from '../../services/request/data/getOverallData';\r\nimport getContentTag from '../../services/request/data/getContentTag';\r\nimport AutofitWrap from '../common/AutofitWrap/AutofitWrap';\r\nimport './Overall.scss';\r\n\r\nimport { actions } from '../../redux/actions';\r\n\r\nconst PAGE_SIZE = 10;\r\nconst DATE_FORMAT = 'YYYY-MM-DD HH:mm:ss';\r\n\r\nclass Overall extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      pageId: 0,\r\n      pageSize: PAGE_SIZE,\r\n      keyword: '',\r\n      source: null,\r\n      startPublishedDay: null,\r\n      endPublishedDay: null,\r\n      sensi: null,\r\n      dateRange: null,\r\n      timeOrder: 0,\r\n      dataSize: 0,\r\n      data: [],\r\n      loading: false,\r\n    };\r\n    this.data = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    // this.handleSearch();\r\n  }\r\n\r\n  handleSearch = async () => {\r\n    this.setState({ loading: true })\r\n    const params = [\r\n      this.state.keyword,\r\n      this.state.source,\r\n      this.state.startPublishedDay,\r\n      this.state.endPublishedDay,\r\n      this.state.sensi,\r\n      this.state.timeOrder,\r\n      this.state.pageSize,\r\n      this.state.pageId,\r\n    ];\r\n    this.props.onOverallPathChange({ path: '/result' });\r\n    const result = await getOverallData(...params);\r\n    const { pageId } = this.state;\r\n    this.setState((prevState) => {\r\n      if (prevState.pageId !== pageId) {\r\n        console.log('请求超时：用户翻页');\r\n        return { loading: false };\r\n      }\r\n      return {\r\n        loading: false,\r\n        data: result.data,\r\n        dataSize: result.dataSize,\r\n      };\r\n    });\r\n    this.getContentTag();\r\n  };\r\n\r\n  getContentTag = async () => {\r\n    const contents = this.state.data.map((item) => item.content);\r\n    const { pageId } = this.state;\r\n    const tagResult = await getContentTag(contents, pageId);\r\n    this.setState(prevState => {\r\n      if (prevState.pageId !== pageId) {\r\n        console.log('请求超时：用户翻页');\r\n        return {};\r\n      }\r\n      const newData = [...prevState.data];\r\n      const tags = tagResult.result;\r\n      newData.forEach((item, index) => {\r\n        const tag = tags[index.toString()];\r\n        item.tag = tag || '';\r\n      });\r\n      return {\r\n        data: newData,\r\n      };\r\n    });\r\n  };\r\n\r\n  handleDateChange = (moments) => {\r\n    if (!moments) {\r\n      this.setState({\r\n        startPublishedDay: '',\r\n        endPublishedDay: '',\r\n      });\r\n      return\r\n    }\r\n    const [startMoment, endMoment] = moments;\r\n    this.setState({\r\n      startPublishedDay: startMoment.format(DATE_FORMAT),\r\n      endPublishedDay: endMoment.format(DATE_FORMAT),\r\n    });\r\n  };\r\n\r\n  handleSelect = (name, value) => {\r\n    const newState = {};\r\n    newState[name] = value;\r\n    this.setState(newState);\r\n    const current = moment();\r\n    if (name === 'dateRange') {\r\n      switch (value) {\r\n        case 0:\r\n          this.handleDateChange([\r\n            moment(current),\r\n            moment(current).startOf('day'),\r\n          ]);\r\n          break;\r\n        case -1:\r\n        case null:\r\n          this.handleDateChange();\r\n          break;\r\n        default:\r\n          this.handleDateChange([\r\n            moment(current),\r\n            moment(current).subtract(value, 'days'),\r\n          ]);\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  handlePageChange = (pageId) => {\r\n    this.setState({ pageId }, () => {\r\n      this.handleSearch();\r\n    });\r\n  };\r\n\r\n  handlePageSizeChange = (current, pageSize) => {\r\n    this.setState({ pageSize, pageId: 0 }, () => {\r\n      this.handleSearch();\r\n    });\r\n  };\r\n\r\n  handleKeywordChange = (keyword) => {\r\n    this.setState({ keyword }, () => {\r\n      this.handleSearch();\r\n    });\r\n  };\r\n\r\n  /* handleBack = () => {\r\n    this.setState({\r\n      curPath: '',\r\n      keyword: '',\r\n    });\r\n  }; */\r\n\r\n  render() {\r\n    const params = ['sensi', 'source', 'timeOrder', 'dateRange', 'startPublishedDay', 'endPublishedDay'];\r\n    const current = Lodash.pick(this.state, params);\r\n    const { data, dataSize, pageSize, keyword, loading } = this.state;\r\n    const curPath = this.props.overallPath;\r\n\r\n    switch (curPath) {\r\n      case '/result':\r\n        return (\r\n          <div className=\"overall-wrap\">\r\n            <div className=\"mts-overall-container\">\r\n              <MultiFilter\r\n                initialKeyword={keyword}\r\n                current={current}\r\n                onSelect={this.handleSelect}\r\n                onSearch={this.handleKeywordChange}\r\n                onDateChange={this.handleDateChange}\r\n              />\r\n              <DataList\r\n                data={data}\r\n                dataSize={dataSize}\r\n                pageSize={pageSize}\r\n                loading={loading}\r\n                onPageChange={this.handlePageChange}\r\n                onPageSizeChange={this.handlePageSizeChange}\r\n              />\r\n            </div>\r\n          </div>\r\n        );\r\n      case '':\r\n        return (\r\n          <AutofitWrap\r\n            minHeight={600}\r\n            padding={150}\r\n            className=\"main-wrap\"\r\n          >\r\n            <div className=\"search-entry-wrap\">\r\n              <div className=\"title\">全网搜索 <SearchOutlined /></div>\r\n              <Input.Search\r\n                className=\"search-entry-input\"\r\n                enterButton=\"搜素\"\r\n                onChange={e => this.setState({ keyword: e.target.value })}\r\n                value={keyword}\r\n                size=\"large\"\r\n                onSearch={this.handleSearch}\r\n              />\r\n              {/* <div className=\"btn-group\">\r\n                <Button type=\"primary\" onClick={this.handleSearch}>百度搜素</Button>\r\n                <Button type=\"primary\">搜狗搜素</Button>\r\n              </div> */}\r\n            </div>\r\n          </AutofitWrap>\r\n        );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  overallPath: state.overallPath,\r\n});\r\nconst mapDispatchToProps = {\r\n  onOverallPathChange: actions.onOverallPathChange,\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Overall));\r\n","import qs from 'qs';\r\nimport requests from '../../requests';\r\n\r\nconst getProgrammes = async (username) => {\r\n  const url = encodeURI(`${requests.getProgrammes.url}?${qs.stringify({ username })}`);\r\n  const response = await fetch(url, { method: requests.getOverallData.method });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  const result = rawResult.data.map((item) => ({\r\n    fid: item.fid,\r\n    name: item.programmeName,\r\n    keywordMatch: item.matchType,\r\n    regionKeywords: item.regionKeyword,\r\n    eventKeywords: item.eventKeyword,\r\n    roleKeywords: item.roleKeyword,\r\n    regionMatch: item.regionKeywordMatch ? 'and' : 'or',\r\n    eventMatch: item.eventKeywordMatch ? 'and' : 'or',\r\n    roleMatch: item.roleKeywordMatch ? 'and' : 'or',\r\n    enableAlert: item.enableAlert,\r\n  }));\r\n  return result;\r\n};\r\n\r\nexport default getProgrammes;\r\n","import requests from '../../requests';\r\n\r\nconst addProgramme = async (rawData) => {\r\n  const data = {\r\n    enableAlert: false, // rawData.enableAlert,\r\n    matchType: 0, // rawData.keywordMatch,\r\n    regionKeyword: '', // rawData.regionKeywords,\r\n    eventKeyword: '', // rawData.eventKeywords,\r\n    roleKeyword: '', // rawData.eventKeywords,\r\n    roleKeywordMatch: 0, // rawData.roleMatch,\r\n    eventKeywordMatch: 0, // rawData.eventMatch,\r\n    regionKeywordMatch: 0, // rawData.regionMatch,\r\n    username: rawData.userName,\r\n    programmeName: rawData.name,\r\n  };\r\n  const url = encodeURI(`${requests.addProgramme.url}`);\r\n  const response = await fetch(url, {\r\n    method: requests.login.method,\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  const result = {\r\n    addProgramme: rawResult.saveFangAn,\r\n  }\r\n  return result;\r\n};\r\n\r\nexport default addProgramme;\r\n","import React from 'react';\r\nimport { Button, Input, Menu, Modal, Layout } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport getProgrammes from '../../../services/request/programme/getProgrammes';\r\nimport './Sider.scss';\r\nimport { connect } from 'react-redux';\r\nimport addProgramme from '../../../services/request/programme/addProgramme';\r\nimport { actions } from '../../../redux/actions';\r\n\r\nclass Sider extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      newProgrammeVisible: false,\r\n      newProgrammeName: '',\r\n      programmes: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getProgrammes();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    const { curProgramme } = this.props;\r\n    // console.log(curProgramme?.fid, prevProps.curProgramme?.fid);\r\n    if (!prevProps.curProgramme || !curProgramme) return;\r\n    if (prevProps.curProgramme.fid !== curProgramme.fid || prevProps.curProgramme.name !== curProgramme.name) {\r\n      this.getProgrammes();\r\n    }\r\n  }\r\n\r\n  getProgrammes = async () => {\r\n    const programmes = await getProgrammes(this.props.userName);\r\n    this.setState({ programmes });\r\n    if (!this.props.curProgramme)\r\n      if (programmes[0]) this.props.onProgrammeChange({ curProgramme: programmes[0] });\r\n  };\r\n\r\n  handleProgrammeNew = (type, data) => {\r\n    switch (type) {\r\n      case 'open':\r\n        this.setState({ newProgrammeVisible: true });\r\n        break;\r\n      case 'ok':\r\n        this.addProgramme();\r\n        this.setState({\r\n          newProgrammeVisible: false,\r\n          newProgrammeName: '',\r\n        });\r\n        break;\r\n      case 'cancel':\r\n        this.setState({\r\n          newProgrammeVisible: false,\r\n          newProgrammeName: '',\r\n        });\r\n        break;\r\n      case 'name':\r\n        this.setState({ newProgrammeName: data.name });\r\n        break;\r\n      default: break;\r\n    }\r\n  };\r\n\r\n  addProgramme = async () => {\r\n    const { userName } = this.props;\r\n    const name = this.state.newProgrammeName;\r\n    const result = await addProgramme({ userName, name });\r\n    if (result.addProgramme !== 1) { alert('添加失败'); } else {\r\n      alert('添加成功');\r\n      this.getProgrammes();\r\n    }\r\n  };\r\n\r\n  handleProgrammeSelect = (e) => {\r\n    const curProgramme = this.state.programmes.find((item) => item.fid === parseInt(e.key, 10));\r\n    this.props.onProgrammeChange({ curProgramme });\r\n  };\r\n\r\n  render() {\r\n    const { curProgramme } = this.props;\r\n    const { newProgrammeVisible, newProgrammeName, programmes } = this.state;\r\n    return (\r\n      <Layout.Sider\r\n        className=\"programme-sider-wrap\"\r\n      >\r\n        <Button\r\n          block=\"block\"\r\n          type=\"primary\"\r\n          className=\"programme-new-btn\"\r\n          size=\"large\"\r\n          onClick={() => this.handleProgrammeNew('open')}\r\n        >\r\n          <PlusOutlined />\r\n          添加方案\r\n        </Button>\r\n        <Modal\r\n          title=\"添加方案\"\r\n          visible={newProgrammeVisible}\r\n          onCancel={() => this.handleProgrammeNew('cancel')}\r\n          onOk={() => this.handleProgrammeNew('ok')}\r\n        >\r\n          <div style={{ fontSize: '16px', marginBottom: '5px' }}>方案名称</div>\r\n          <Input\r\n            value={newProgrammeName}\r\n            onChange={e => this.handleProgrammeNew('name', { name: e.target.value })}\r\n          />\r\n        </Modal>\r\n        <Menu\r\n          onClick={this.handleProgrammeSelect}\r\n          selectedKeys={[curProgramme?.fid.toString()]}\r\n          mode=\"inline\"\r\n        >\r\n          { programmes.map((item) => (\r\n            <Menu.Item key={item.fid.toString()}>{item.name}</Menu.Item>\r\n          ))}\r\n        </Menu>\r\n      </Layout.Sider>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userName: state.userName,\r\n  curProgramme: state.curProgramme\r\n});\r\nconst mapDispatchToProps = {\r\n  onProgrammeChange: actions.onProgrammeChange,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Sider);\r\n","import moment from 'moment';\r\nimport requests from '../../requests';\r\nimport qs from 'qs';\r\n\r\nconst DATE_FORMAT = 'YYYY-MM-DD HH:mm:ss';\r\n\r\nconst getProgrammeData = async (fid, keyword, source, startPublishedDay, endPublishedDay, sensi, timeOrder, pageSize, pageId) => {\r\n  const params = {\r\n    fid,\r\n    keyword,\r\n    timeOrder,\r\n    pageSize,\r\n    fromType: source,\r\n    cflag: sensi,\r\n    page: pageId,\r\n  };\r\n  const url = encodeURI(`${requests.getProgrammeData.url}?${qs.stringify(params)}&startPublishedDay=${startPublishedDay}&endPublishedDay=${endPublishedDay}`);\r\n  const response = await fetch(url, { method: requests.getProgrammeData.method });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  const result = {\r\n    dataSize: rawResult.hitNumber,\r\n    data: rawResult.dataContent ? rawResult.dataContent.map((item) => ({\r\n      source: item.fromType,\r\n      addr: item.resource,\r\n      url: item.webpageUrl,\r\n      sensi: item.cflag,\r\n      publishedDay: moment(item.publishedDay).add(8, 'hours').format(DATE_FORMAT),\r\n      ...item,\r\n    })) : [],\r\n  };\r\n  return result;\r\n};\r\n\r\nexport default getProgrammeData;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport Lodash from 'lodash';\r\nimport { Layout } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport getOverallData from '../../../services/request/data/getOverallData';\r\nimport getProgrammeData from '../../../services/request/data/getProgrammeData';\r\nimport MultiFilter from '../../common/MultiFilter/MultiFilter';\r\nimport DataList from '../../common/DataList/DataList';\r\nimport './Specific.scss';\r\nimport { actions } from '../../../redux/actions';\r\nimport getContentTag from '../../../services/request/data/getContentTag';\r\n\r\nconst PAGE_SIZE = 10;\r\nconst DATE_FORMAT = 'YYYY-MM-DD HH:mm:ss';\r\n\r\nclass Specific extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pageId: 0,\r\n      pageSize: PAGE_SIZE,\r\n      keyword: '',\r\n      source: null,\r\n      startPublishedDay: '',\r\n      endPublishedDay: '',\r\n      sensi: null,\r\n      dateRange: null,\r\n      loading: false,\r\n      timeOrder: 0,\r\n      dataSize: 0,\r\n      data: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleSearch();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (prevProps.curProgramme?.fid !== this.props.curProgramme?.fid) {\r\n      this.handleSearch();\r\n    }\r\n  }\r\n\r\n\r\n  handleSearch = async () => {\r\n    this.setState({ loading: true });\r\n    const { curProgramme } = this.props;\r\n    const params = [\r\n      this.props.curProgramme.fid,\r\n      this.state.keyword,\r\n      this.state.source,\r\n      this.state.startPublishedDay,\r\n      this.state.endPublishedDay,\r\n      this.state.sensi,\r\n      this.state.timeOrder,\r\n      this.state.pageSize,\r\n      this.state.pageId,\r\n    ];\r\n    const result = await getProgrammeData(...params);\r\n    const { pageId } = this.state;\r\n    this.setState(prevState => {\r\n      if (this.props.curProgramme !== curProgramme || prevState.pageId !== pageId) {\r\n        console.log('请求超时, 用户切换项目');\r\n        return { loading: false };\r\n      }\r\n      return {\r\n        loading: false,\r\n        data: result.data,\r\n        dataSize: result.dataSize,\r\n      };\r\n    });\r\n    this.getContentTag();\r\n  };\r\n\r\n  getContentTag = async () => {\r\n    const contents = this.state.data.map((item) => item.content);\r\n    const { pageId } = this.state;\r\n    const tagResult = await getContentTag(contents, pageId);\r\n    this.setState(prevState => {\r\n      if (prevState.pageId !== pageId) {\r\n        console.log('请求超时：用户翻页');\r\n        return {};\r\n      }\r\n      const newData = [...prevState.data];\r\n      const tags = tagResult.result;\r\n      newData.forEach((item, index) => {\r\n        const tag = tags[index.toString()];\r\n        item.tag = tag || '无';\r\n      });\r\n      return {\r\n        data: newData,\r\n      };\r\n    });\r\n  };\r\n\r\n  handleDateChange = (moments) => {\r\n    if (!moments) {\r\n      this.setState({\r\n        startPublishedDay: '',\r\n        endPublishedDay: '',\r\n      });\r\n      return;\r\n    }\r\n    const [startMoment, endMoment] = moments;\r\n    this.setState({\r\n      startPublishedDay: startMoment.format(DATE_FORMAT),\r\n      endPublishedDay: endMoment.format(DATE_FORMAT),\r\n    });\r\n  };\r\n\r\n  handleSelect = (name, value) => {\r\n    const newState = {};\r\n    newState[name] = value;\r\n    this.setState(newState);\r\n    const current = '2020-07-18 12:00:00';\r\n    if (name === 'dateRange') {\r\n      switch (value) {\r\n        case 0:\r\n          this.handleDateChange([\r\n            moment(current),\r\n            moment(current).startOf('day'),\r\n          ]);\r\n          break;\r\n        case -1:\r\n        case null:\r\n          this.handleDateChange();\r\n          break;\r\n        default:\r\n          this.handleDateChange([\r\n            moment(current),\r\n            moment(current).subtract(value, 'days'),\r\n          ]);\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  handlePageChange = (pageId) => {\r\n    this.setState({ pageId }, () => {\r\n      this.handleSearch();\r\n    });\r\n  };\r\n\r\n  handlePageSizeChange = (current, pageSize) => {\r\n    this.setState({ pageSize, pageId: 0 }, () => {\r\n      this.handleSearch();\r\n    });\r\n  };\r\n\r\n  handleKeywordChange = (keyword) => {\r\n    this.setState({ keyword }, () => {\r\n      this.handleSearch();\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const params = ['sensi', 'source', 'timeOrder', 'dateRange', 'startPublishedDay', 'endPublishedDay'];\r\n    const current = Lodash.pick(this.state, params);\r\n    const { curProgramme } = this.props;\r\n    const { data, dataSize, pageSize, loading } = this.state;\r\n    return (\r\n      <Layout className=\"programme-specific-wrap\">\r\n        <MultiFilter\r\n          current={current}\r\n          onSelect={this.handleSelect}\r\n          onSearch={this.handleKeywordChange}\r\n          onDateChange={this.handleDateChange}\r\n        />\r\n        <DataList\r\n          data={data}\r\n          dataSize={dataSize}\r\n          pageSize={pageSize}\r\n          loading={loading}\r\n          onPageChange={this.handlePageChange}\r\n          onPageSizeChange={this.handlePageSizeChange}\r\n        />\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userName: state.userName,\r\n  curProgramme: state.curProgramme,\r\n});\r\nconst mapDispatchToProps = {\r\n  onProgrammeChange: actions.onProgrammeChange,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Specific);\r\n","import requests from '../../requests';\r\n\r\nconst getProgrammeOrigins = async () => {\r\n  const url = encodeURI(`${requests.getProgrammeOrigins.url}`);\r\n  const response = await fetch(url, {\r\n    method: requests.getProgrammeOrigins.method,\r\n  });\r\n  const rawResult = response.status === 200 ? await response.json() : [];\r\n  return rawResult;\r\n};\r\n\r\nexport default getProgrammeOrigins;","import requests from '../../requests';\r\n\r\nconst delProgrammeOrigins = async (oid) => {\r\n  const url = encodeURI(`${requests.delProgrammeOrigin.url}?id=${oid}`);\r\n  const response = await fetch(url, {\r\n    method: requests.delProgrammeOrigin.method,\r\n  });\r\n  const rawResult = response.status === 200 ? await response.json() : [];\r\n  return rawResult;\r\n};\r\n\r\nexport default delProgrammeOrigins;","import requests from '../../requests';\r\nimport moment from 'moment'\r\n\r\nconst addProgrammeOrigin = async (name, addr, user) => {\r\n  const url = encodeURI(`${requests.addProgrammeOrigin.url}`);\r\n  const data = {\r\n    name,\r\n    url: addr,\r\n    'create_by': user,\r\n    'create_date': moment().format('YYYY'),\r\n    \"update_by\": user,\r\n    \"update_date\": moment().format('YYYY'),\r\n    remarks: '',\r\n    'del_flag': 0,\r\n  };\r\n  const response = await fetch(url, {\r\n    method: requests.addProgrammeOrigin.method,\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n  const rawResult = response.status === 200 ? await response.json() : [];\r\n  return rawResult;\r\n};\r\n\r\nexport default addProgrammeOrigin;","import React from \"react\";\r\nimport {Table, Button, Input} from \"antd\";\r\nimport {actions} from \"../../../redux/actions\";\r\nimport {connect} from \"react-redux\";\r\nimport './Origin.scss';\r\nimport AutofitWrap from \"../../common/AutofitWrap/AutofitWrap\";\r\nimport getProgrammeOrigins from \"../../../services/request/programme/getProgrammeOrigins\";\r\nimport delProgrammeOrigins from \"../../../services/request/programme/delProgrammeOrigin\";\r\nimport addProgrammeOrigin from \"../../../services/request/programme/addProgrammeOrigin\";\r\n\r\nclass Origin extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.columns = [\r\n      {\r\n        title: '站点',\r\n        key: 'url',\r\n        dataIndex: 'url',\r\n        render: (text) => (<a href={text}>{text}</a>),\r\n      },\r\n      {\r\n        title: '名称',\r\n        key: 'name',\r\n        dataIndex: 'name',\r\n        width: 150,\r\n      },\r\n      {\r\n        title: '选项',\r\n        render: (text, record, index) => (\r\n          <Button\r\n            type=\"primary\"\r\n            danger\r\n            onClick={e => this.delOrigin(record.id)}\r\n          >\r\n            删除\r\n          </Button>\r\n        ),\r\n        width: 100,\r\n      },\r\n    ];\r\n    this.state = {\r\n      loading: false,\r\n      data: [],\r\n      newAddr: '',\r\n      newName: ''\r\n    };\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getOrigins();\r\n  }\r\n\r\n  getOrigins = async () => {\r\n    this.setState({ loading: true })\r\n    const data = await getProgrammeOrigins();\r\n    this.setState({ data, loading: false });\r\n  };\r\n\r\n  delOrigin = async (id) => {\r\n    const result = await delProgrammeOrigins(id);\r\n    if (result.delUrl) alert('删除成功！');\r\n    else alert('删除失败！');\r\n    this.getOrigins();\r\n  };\r\n\r\n  handleNewAddrChange = (e) => {\r\n    this.setState({ newAddr: e.target.value })\r\n  };\r\n\r\n  handleNewNameChange = (e) => {\r\n    this.setState({ newName: e.target.value })\r\n  };\r\n\r\n  shouldComponentUpdate(prevProps, prevState, snapshot) {\r\n    if (prevProps.curProgramme?.fid !== this.props.curProgramme?.fid) {\r\n      this.getOrigins();\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  handleNewOrigin = async () => {\r\n    const { newAddr, newName } = this.state;\r\n    const { userName } = this.props;\r\n    const result = await addProgrammeOrigin(newName, newAddr, userName);\r\n    if (result.saveUrl === 1) alert('添加成功！');\r\n    else alert('添加失败！');\r\n    this.getOrigins();\r\n  };\r\n\r\n  render() {\r\n    const { data, loading, newAddr, newName } = this.state;\r\n    const { columns } = this;\r\n    const { curProgramme } = this.props;\r\n    return (\r\n      <AutofitWrap\r\n        minHeight={550}\r\n        padding={200}\r\n        className=\"origin-wrap\"\r\n      >\r\n        <div className=\"origin-form\">\r\n          <div className=\"origin-new\">\r\n            <Input\r\n              placeholder=\"请输入站点地址\"\r\n              className=\"origin-addr\"\r\n              onChange={this.handleNewAddrChange}\r\n              value={newAddr}\r\n            />\r\n            <Input\r\n              placeholder=\"请输入站点名称\"\r\n              className=\"origin-name\"\r\n              value={newName}\r\n              onChange={this.handleNewNameChange}\r\n            />\r\n            <Button\r\n              type=\"primary\"\r\n              onClick={this.handleNewOrigin}\r\n            >\r\n              添加站点\r\n            </Button>\r\n          </div>\r\n          <Table\r\n            loading={loading}\r\n            className=\"origin-table\"\r\n            columns={this.columns}\r\n            dataSource={data}\r\n            pagination={false}\r\n            size=\"small\"\r\n          />\r\n        </div>\r\n      </AutofitWrap>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  curProgramme: state.curProgramme,\r\n  userName: state.userName,\r\n});\r\nconst mapDispatchToProps = {\r\n  onProgrammeChange: actions.onProgrammeChange,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Origin);","import requests from '../../requests';\r\n\r\nconst modifyProgramme = async (rawData) => {\r\n  const data = {\r\n    fid: rawData.fid,\r\n    enableAlert: rawData.enableAlert,\r\n    matchType: rawData.keywordMatch === 'or' ? 0 : 1,\r\n    regionKeyword: rawData.regionKeywords,\r\n    eventKeyword: rawData.eventKeywords,\r\n    roleKeyword: rawData.eventKeywords,\r\n    roleKeywordMatch: rawData.roleMatch === 'or' ? 0 : 1,\r\n    eventKeywordMatch: rawData.eventMatch === 'or' ? 0 : 1,\r\n    regionKeywordMatch: rawData.regionMatch === 'or' ? 0 : 1,\r\n    username: rawData.userName,\r\n    programmeName: rawData.name,\r\n  };\r\n  const url = encodeURI(`${requests.modifyProgramme.url}`);\r\n  const response = await fetch(url, {\r\n    method: requests.modifyProgramme.method,\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  const result = {\r\n    modifyProgramme: rawResult.changeFangAn,\r\n  };\r\n  return result;\r\n};\r\n\r\nexport default modifyProgramme;\r\n","import qs from 'qs';\r\nimport requests from '../../requests';\r\n\r\nconst delProgramme = async (fid, username) => {\r\n  const params = { fid, username };\r\n  const url = encodeURI(`${requests.delProgramme.url}?${qs.stringify(params)}`);\r\n  const response = await fetch(url, { method: requests.delProgramme.method });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  const result = {\r\n    delProgramme: rawResult.delFangAn,\r\n  };\r\n  return result;\r\n};\r\n\r\nexport default delProgramme;\r\n","import React from 'react';\r\nimport { Form, Input, Button, Radio, Layout, Switch } from 'antd';\r\nimport { QuestionCircleFilled } from '@ant-design/icons';\r\nimport './Config.scss';\r\nimport modifyProgramme from \"../../../services/request/programme/modifyProgamme\";\r\nimport delProgramme from \"../../../services/request/programme/delProgramme\";\r\nimport { connect } from \"react-redux\";\r\nimport { actions } from \"../../../redux/actions\";\r\n\r\nclass Config extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.layout = {\r\n      labelCol: { span: 3 },\r\n      wrapperCol: { span: 999 }\r\n    };\r\n    this.subLayout = { wrapperCol: { offset: 6, span: 999 }};\r\n    this.radioLayout = {};\r\n  }\r\n\r\n  handleProgrammeConfig = (type, data) => {\r\n    switch (type) {\r\n      case 'submit':\r\n        this.modifyProgramme(data);\r\n        break;\r\n      case 'reject': break;\r\n      case 'del':\r\n        this.delProgramme();\r\n        break;\r\n    }\r\n  }\r\n\r\n  /*\r\n  enableAlert: undefined\r\n  eventKeywords: \"1\"\r\n  eventMatchMethod: \"and\"\r\n  keywordMatchMethod: \"titleOnly\"\r\n  programmeName: \"1\"\r\n  regionKeywords: \"1\"\r\n  regionMatchMethod: \"or\"\r\n  roleKeywords: \"1\"\r\n  roleMatchMethod: \"or\"\r\n   */\r\n  modifyProgramme = async (rawData) => {\r\n    const { userName, curProgramme } = this.props;\r\n    const data = {\r\n      fid: this.props.curProgramme.fid,\r\n      userName,\r\n      ...rawData,\r\n    };\r\n    console.log(rawData.name);\r\n    const result = await modifyProgramme(data);\r\n    if (result.modifyProgramme !== 1) { alert('提交失败！'); }\r\n    else {\r\n      this.props.onProgrammeChange({ curProgramme: {\r\n        ...curProgramme,\r\n        name: rawData.name,\r\n      }});\r\n      alert('提交成功！');\r\n    }\r\n  }\r\n\r\n  delProgramme = async () => {\r\n    const { userName } = this.props;\r\n    const { fid } = this.props.curProgramme;\r\n    const result = await delProgramme(fid, userName);\r\n    if (result.delProgramme !== 1) { alert('删除失败！'); }\r\n    else {\r\n      alert('删除成功！');\r\n      this.props.onProgrammeChange({ curProgramme: undefined });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    // console.log(this.form.input.props.value);\r\n    this.resetProgrammeForm();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    this.resetProgrammeForm();\r\n  }\r\n\r\n  resetProgrammeForm = () => {\r\n    this.form.setFieldsValue({\r\n      ...this.props.curProgramme\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { layout, subLayout } = this;\r\n    // console.log(this.props.curProgramme);\r\n    return (\r\n      <Layout className=\"programme-config-wrap\">\r\n        <Form\r\n          {...layout}\r\n          ref = {(r) => {this.form = r}}\r\n          className=\"config-form\"\r\n          onFinish={info => this.handleProgrammeConfig('submit', info)}\r\n          onFinishFailed={err => this.handleProgrammeConfig('reject', err)}\r\n        >\r\n          <Form.Item\r\n            label=\"方案名称\"\r\n            name=\"name\"\r\n            rules={[{ required: true, message: '请输入方案名称' }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"keywordMatch\"\r\n            label=\"匹配方式\"\r\n            rules={[{ required: true, message: '请选择匹配方式' }]}\r\n          >\r\n            <Radio.Group>\r\n              <Radio.Button value=\"titleOnly\">只匹配标题</Radio.Button>\r\n              <Radio.Button value=\"contentOnly\">只匹配正文</Radio.Button>\r\n              <Radio.Button value=\"both\">匹配标题或正文</Radio.Button>\r\n            </Radio.Group>\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"地域关键词\"\r\n            name=\"regionKeywords\"\r\n          >\r\n            <Input.TextArea\r\n              rows={5}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"regionMatch\"\r\n            label=\"地域关系\"\r\n            rules={[{ required: true, message: '请选择匹配方式' }]}\r\n          >\r\n            <Radio.Group size=\"small\">\r\n              <Radio value=\"or\">或</Radio>\r\n              <Radio value=\"and\">与</Radio>\r\n            </Radio.Group>\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"人物关键词\"\r\n            name=\"roleKeywords\"\r\n          >\r\n            <Input.TextArea\r\n              rows={5}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"roleMatch\"\r\n            label=\"人物关系\"\r\n            rules={[{ required: true, message: '请选择匹配方式' }]}\r\n          >\r\n            <Radio.Group size=\"small\">\r\n              <Radio value=\"or\">或</Radio>\r\n              <Radio value=\"and\">与</Radio>\r\n            </Radio.Group>\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"事件关键词\"\r\n            name=\"eventKeywords\"\r\n          >\r\n            <Input.TextArea\r\n              rows={5}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"eventMatch\"\r\n            label=\"事件关系\"\r\n            rules={[{ required: true, message: '请选择匹配方式' }]}\r\n          >\r\n            <Radio.Group>\r\n              <Radio value=\"and\">或</Radio>\r\n              <Radio value=\"or\">与</Radio>\r\n            </Radio.Group>\r\n          </Form.Item>\r\n          {/*<Form.Item\r\n            label=\"启用预警\"\r\n            name=\"enableAlert\"\r\n          >\r\n            <Switch />\r\n          </Form.Item>*/}\r\n          <Form.Item>\r\n            <div className=\"submit-btn-wrap\">\r\n              <Button\r\n                className=\"submit-btn\"\r\n                type=\"primary\"\r\n                htmlType=\"submit\"\r\n              >\r\n                提交方案\r\n              </Button>\r\n              <Button\r\n                type=\"danger\"\r\n                onClick={() => this.handleProgrammeConfig('del')}\r\n              >\r\n                删除方案\r\n              </Button>\r\n            </div>\r\n          </Form.Item>\r\n        </Form>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userName: state.userName,\r\n  curProgramme: state.curProgramme,\r\n});\r\nconst mapDispatchToProps = {\r\n  onProgrammeChange: actions.onProgrammeChange,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Config);\r\n","const defaultPie = (data, title, size) => ({\r\n  title: {\r\n    text: title,\r\n    left: 'center',\r\n    top: '5%',\r\n  },\r\n  tooltip: { trigger: 'item' },\r\n  /* legend: {\r\n    orient: 'vertical',\r\n    left: 'left',\r\n    data: data.map((item) => item.label),\r\n  }, */\r\n  series: [{\r\n    type: 'pie',\r\n    radius: '50%',\r\n    data,\r\n    label: {\r\n      'normal': {\r\n        'show': true,\r\n        'textStyle': {\r\n          'fontSize': 16 },\r\n      },\r\n      'emphasis': {\r\n        'show': true,\r\n      },\r\n    },\r\n  }],\r\n});\r\n\r\nexport default defaultPie;\r\n","const areaLine = (data, title, size) => ({\r\n  title: {\r\n    text: title,\r\n    left: 'center',\r\n    top: '5%',\r\n  },\r\n  xAxis: {\r\n    type: 'category',\r\n    boundaryGap: false,\r\n    data: data.xAxis,\r\n  },\r\n  yAxis: { type: 'value' },\r\n  series: [{\r\n    data: data.yAxis,\r\n    type: 'line',\r\n    areaStyle: {},\r\n    label: {\r\n      'normal': {\r\n        'show': true,\r\n        'textStyle': {\r\n          'fontSize': 18 },\r\n      },\r\n      'emphasis': {\r\n        'show': true,\r\n      },\r\n    },\r\n    smooth: 0.6,\r\n  }],\r\n});\r\n\r\nexport default areaLine;\r\n","const doughnutPie = (data, title, size) => ({\r\n  title: {\r\n    text: title,\r\n    left: 'center',\r\n    top: '5%',\r\n  },\r\n  tooltip: { trigger: 'item' },\r\n  legend: {\r\n    orient: 'vertical',\r\n    left: 'left',\r\n    data: data.map((item) => item.label),\r\n  },\r\n  series: [{\r\n    type: 'pie',\r\n    radius: ['40%', '50%'],\r\n    avoidLabelOverlap: false,\r\n    labelLine: { show: false },\r\n    data,\r\n    label: {\r\n      'normal': {\r\n        'show': true,\r\n        'textStyle': {\r\n          'fontSize': 16 },\r\n      },\r\n      'emphasis': {\r\n        'show': true,\r\n      },\r\n    },\r\n  }],\r\n});\r\n\r\nexport default doughnutPie;\r\n","const horizontalBar = (data, title, size) => ({\r\n  title: {\r\n    text: title,\r\n    left: 'center',\r\n    top: '5%',\r\n  },\r\n  tooltip: {\r\n    trigger: 'axis',\r\n    axisPointer: { type: 'shadow' },\r\n  },\r\n  /* legend: {\r\n    data: data.xAxis.map((item) => item.label),\r\n    top: '10%',\r\n  }, */\r\n  grid: {\r\n    top: '15%',\r\n    left: '5%',\r\n    right: '5%',\r\n    bottom: '5%',\r\n    containLabel: true,\r\n  },\r\n  xAxis: { type: 'value' },\r\n  yAxis: {\r\n    type: 'category',\r\n    data: data.yAxis,\r\n  },\r\n  series: data.xAxis.map((item) => ({\r\n    type: 'bar',\r\n    stack: 'total',\r\n    data: item.value,\r\n    name: item.name,\r\n    // label: { show: true },\r\n    barWidth: 20,\r\n    /* label: {\r\n      'normal': {\r\n        'show': true,\r\n        'textStyle': {\r\n          'fontSize': 18 },\r\n      },\r\n      'emphasis': {\r\n        'show': true,\r\n      },\r\n    }, */\r\n  })),\r\n});\r\n\r\nexport default horizontalBar;\r\n","const chinaMap = (data, title, size) => ({\r\n  title: {\r\n    text: title,\r\n    left: 'center',\r\n    top: '2%',\r\n  },\r\n  // tooltip: { trigger: 'item' },\r\n  /* legend: {\r\n    orient: 'horizontal',\r\n    x: 'left',\r\n    data: ['舆情数量'],\r\n  }, */\r\n  visualMap: {\r\n    left: '10%',\r\n    min: data.min,\r\n    max: data.max,\r\n    inRange: {\r\n      color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']\r\n    },\r\n    text: ['High', 'Low'],\r\n    calculable: true,\r\n  },\r\n  series: [{\r\n    /* label: {\r\n      'normal': {\r\n        'show': true,\r\n        'textStyle': {\r\n          'fontSize': 18 },\r\n      },\r\n      'emphasis': {\r\n        'show': true,\r\n      },\r\n    }, */\r\n    name: '舆情数量',\r\n    type: 'map',\r\n    mapType: 'china',\r\n    roam: true,\r\n    top: '3%',\r\n    data: data.regions,\r\n  }],\r\n});\r\n\r\nexport default chinaMap;\r\n","const defaultTree = (data, title, size) => ({\r\n  title: {\r\n    text: title,\r\n    left: 'center',\r\n    top: '5%',\r\n  },\r\n  tooltip: {\r\n    trigger: 'item',\r\n    formatter: (params) => {\r\n      const { data } = params.data;\r\n      return `<div style=\"max-width: 200px; display: inline-block; white-space: pre-wrap\">${data?.author || 'root'}\\n${data?.content}</div>`;\r\n    },\r\n    triggerOn: 'mousemove',\r\n  },\r\n  series: [\r\n    {\r\n      type: 'tree',\r\n      data: [data],\r\n      roam: true,\r\n      left: '10%',\r\n      right: '10%',\r\n      symbolSize: 7,\r\n      label: {\r\n        position: 'left',\r\n        verticalAlign: 'middle',\r\n        align: 'right',\r\n        fontSize: 14,\r\n      },\r\n      leaves: {\r\n        label: {\r\n          position: 'right',\r\n          verticalAlign: 'middle',\r\n          align: 'left',\r\n        },\r\n      },\r\n      emphasis: {\r\n        focus: 'descendant',\r\n      },\r\n      initialTreeDepth: [-1],\r\n      expandAndCollapse: true,\r\n      animationDuration: 550,\r\n      animationDurationUpdate: 750,\r\n    },\r\n  ],\r\n});\r\n\r\nexport default defaultTree;\r\n","const circleTree = (data, title, size) => ({\r\n  title: {\r\n    text: title,\r\n    left: 'center',\r\n    top: '5%',\r\n  },\r\n  tooltip: {\r\n    trigger: 'item',\r\n    triggerOn: 'mousemove',\r\n  },\r\n  series: [\r\n    {\r\n      label: {\r\n        'normal': {\r\n          'show': true,\r\n          'textStyle': {\r\n            'fontSize': 14 },\r\n        },\r\n        'emphasis': {\r\n          'show': true,\r\n        },\r\n      },\r\n      type: 'tree',\r\n      data: [data],\r\n      top: '18%',\r\n      bottom: '14%',\r\n      layout: 'radial',\r\n      symbol: 'emptyCircle',\r\n      roam: true,\r\n      symbolSize: 7,\r\n      initialTreeDepth: 3,\r\n      animationDurationUpdate: 750,\r\n      emphasis: {\r\n        focus: 'descendant',\r\n      },\r\n    },\r\n  ],\r\n});\r\n\r\nexport default circleTree;\r\n","/* const connGraph = (data, title, ) => ({\r\n  title: {\r\n    text: title,\r\n    left: 'center',\r\n    top: '5%',\r\n  },\r\n  tooltip: {\r\n    formatter: (params) => {\r\n      return `<div><div>节点${params.data.id}：${params.data.time}</div><div>摘要信息:${params.data.summary}</div></div>`\r\n    },\r\n  },\r\n  toolbox: {\r\n    show: true,\r\n    feature: {\r\n      restore: { show: true },\r\n      magicType: { show: true, type: ['force', 'chord'] },\r\n      saveAsImage: { show: true },\r\n    },\r\n  },\r\n  animationDuration: 1500,\r\n  animationEasingUpdate: 'quinticInOut',\r\n  series: [\r\n    {\r\n      name: title,\r\n      ribbonType: false,\r\n      type: 'graph',\r\n      layout: 'none',\r\n      data: data.nodes,\r\n      links: data.links,\r\n      categories: data.categories,\r\n      roam: true,\r\n      label: {\r\n        position: 'right',\r\n        formatter: '{b}',\r\n      },\r\n      lineStyle: {\r\n        color: 'source',\r\n        curveness: 0.3,\r\n      },\r\n      emphasis: {\r\n        focus: 'adjacency',\r\n        lineStyle: {\r\n          width: 10,\r\n        },\r\n      },\r\n\r\n      itemStyle: {\r\n        normal: {\r\n          label: {\r\n            show: true,\r\n            textStyle: {\r\n              color: 'rgba(0, 0, 0, 1)',\r\n              fontWeight: 'bolder',\r\n            },\r\n          },\r\n          nodeStyle: {\r\n            brushType: 'both',\r\n            borderColor: 'rgba(0, 0, 255, 1)',\r\n            borderWidth: 1,\r\n          },\r\n          linkStyle: {\r\n            type: 'curve',\r\n          },\r\n        },\r\n        emphasis: {\r\n          label: {\r\n            show: false,\r\n            // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE\r\n          },\r\n          nodeStyle: {\r\n            r: 50,\r\n          },\r\n          linkStyle: {},\r\n        },\r\n      },\r\n      useWorker: false,\r\n      minRadius: 50,\r\n      maxRadius: 50,\r\n      gravity: 1.1,\r\n      scaling: 1.1,\r\n    },\r\n  ],\r\n});\r\n\r\nexport default connGraph;\r\n*/\r\n\r\nconst connGraph = (data, title, size) => ({\r\n  title: {\r\n    text: title,\r\n    left: 'center',\r\n    top: '5%',\r\n  },\r\n  tooltip: {\r\n    trigger: 'item',\r\n    formatter: (params) => {\r\n      const { data } = params.data;\r\n      return '<div style=\"max-width: 200px; display: inline-block; white-space: pre-wrap\">' +\r\n        `<div>事件${data?.clusterNum}:</div>` +\r\n        `<div>时间${data?.time}</div>` +\r\n        `<div style=\"max-height: 150px; overflow: hidden; text-overflow: ellipsis\">${data?.summary}</div>` +\r\n      '</div>';\r\n    },\r\n    triggerOn: 'mousemove',\r\n  },\r\n  series: [\r\n    {\r\n      type: 'tree',\r\n      data: [data],\r\n      roam: true,\r\n      left: '10%',\r\n      right: '10%',\r\n      symbol: 'circle',\r\n      symbolSize: 30,\r\n      label: {\r\n        position: 'right',\r\n        left: '50%',\r\n        verticalAlign: 'middle',\r\n        align: 'left',\r\n        fontSize: 18,\r\n        fontWeight: 'bolder',\r\n      },\r\n\r\n      leaves: {\r\n        label: {\r\n          position: 'right',\r\n          verticalAlign: 'middle',\r\n          align: 'left',\r\n        },\r\n      },\r\n      emphasis: {\r\n        focus: 'descendant',\r\n      },\r\n      initialTreeDepth: [-1],\r\n      expandAndCollapse: true,\r\n      animationDuration: 550,\r\n      animationDurationUpdate: 750,\r\n\r\n    },\r\n  ],\r\n});\r\n\r\nexport default connGraph;\r\n","const stackLine = (data, title, size) => ({\r\n  title: {\r\n    text: title,\r\n    left: 'center',\r\n    top: '5%',\r\n  },\r\n  tooltip: {\r\n    trigger: 'axis',\r\n  },\r\n  legend: {\r\n    data: data.yAxis.map((item) => item.name),\r\n    left: 'right'\r\n  },\r\n  xAxis: {\r\n    type: 'category',\r\n    boundaryGap: false,\r\n    data: data.xAxis,\r\n  },\r\n  yAxis: {\r\n    type: 'value',\r\n    axisLabel: {\r\n      formatter: '{value} °C',\r\n    },\r\n  },\r\n  series: data.yAxis.map(item => ({\r\n    ...item,\r\n    type: 'line',\r\n    markPoint: {\r\n      data: [\r\n        { type: 'max', name: '最大值' },\r\n        { type: 'min', name: '最小值' },\r\n      ],\r\n    },\r\n  })),\r\n});\r\n\r\nexport default stackLine;\r\n","const basicLine = (data, title, size) => {\r\n  return {\r\n    title: {\r\n      text: title,\r\n      left: 'center',\r\n      top: '5%',\r\n    },\r\n    xAxis: {\r\n      type: 'category',\r\n      data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\r\n    },\r\n    yAxis: {\r\n      type: 'value',\r\n    },\r\n    series: [{\r\n      data: [150, 230, 224, 218, 135, 147, 260],\r\n      type: 'line',\r\n    }],\r\n  };\r\n};\r\n\r\nexport default basicLine;","import React from 'react';\r\nimport Mock from 'mockjs';\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport * as echarts from 'echarts';\r\nimport china from '../../../utils/map/json/china';\r\nimport defaultPie from './getRules/defaultPie';\r\nimport areaLine from './getRules/areaLine';\r\nimport doughnutPie from './getRules/doughnutPie';\r\nimport horizontalBar from './getRules/horizontalBar';\r\nimport chinaMap from './getRules/chinaMap';\r\nimport './Echart.scss';\r\nimport defaultTree from './getRules/defaultTree';\r\nimport circleTree from './getRules/circleTree';\r\nimport connGraph from \"./getRules/connGraph\";\r\nimport Loading from \"../Loading/Loading\";\r\nimport stackLine from \"./getRules/stackLine\";\r\nimport basicLine from \"./getRules/basicLine\";\r\n\r\nclass Echart extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      guid: Mock.Random.guid(),\r\n    };\r\n    this.defaultWidth = '400px';\r\n    this.defaultHeight = '250px';\r\n    echarts.registerMap('china', china);\r\n  }\r\n\r\n  render() {\r\n    const { title, data, type, size } = this.props;\r\n    let getRules;\r\n    switch (type) {\r\n      case 'defaultPie': getRules = defaultPie; break;\r\n      case 'areaLine': getRules = areaLine; break;\r\n      case 'doughnutPie': getRules = doughnutPie; break;\r\n      case 'horizontalBar': getRules = horizontalBar; break;\r\n      case 'chinaMap': getRules = chinaMap; break;\r\n      case 'defaultTree': getRules = defaultTree; break;\r\n      case 'circleTree': getRules = circleTree; break;\r\n      case 'connGraph': getRules = connGraph; break;\r\n      case 'stackLine': getRules = stackLine; break;\r\n      case 'basicLine': getRules = basicLine; break;\r\n      default: break;\r\n    }\r\n    const option = data ? getRules(data, title, size) : {};\r\n    const { guid } = this.state;\r\n    const width = this.props.width || this.defaultWidth;\r\n    const height = this.props.height || this.defaultHeight;\r\n    return (\r\n      <div\r\n        className=\"common-chart-wrap\"\r\n        id={`echart-${guid}`}\r\n      >\r\n        {\r\n          data ?\r\n            <ReactEcharts\r\n              style={{\r\n                width: '100%',\r\n                height: '100%'\r\n              }}\r\n              option={option}\r\n              theme=\"light\"\r\n            /> :\r\n            <Loading />\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Echart;\r\n","import requests from '../../requests';\r\nimport qs from 'qs';\r\nimport moment from \"moment\";\r\n\r\nconst getAmountTrend = async (keyword, startPublishedDay, endPublishedDay) => {\r\n  /* const params = {\r\n    keyword,\r\n    startPublishedDay,\r\n    endPublishedDay,\r\n  }; */\r\n  const url = encodeURI(`${requests.getAmountTrend.url}?keyword=${keyword}&startPublishedDay=${startPublishedDay}&endPublishedDay=${endPublishedDay}`);\r\n  const response = await fetch(url, { method: requests.getAmountTrend.method });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n\r\n  const options = [\r\n    { label: '不限', value: null },\r\n    { label: '网站', value: '1' },\r\n    { label: '论坛', value: '2' },\r\n    { label: '微博', value: '3' },\r\n    { label: '微信', value: '4' },\r\n    { label: '博客', value: '5' },\r\n    { label: '外媒', value: '6' },\r\n    { label: '新闻', value: '7' },\r\n  ];\r\n  const sourceAmountTrend = {\r\n    yAxis: rawResult.timeRange ? rawResult.timeRange.map((str) => {\r\n      const moments = str.split(' to ');\r\n      const fromMoment = moment(moments[0]);\r\n      const toMoment = moment(moments[1]);\r\n      const avgTime = moment((fromMoment + toMoment) / 2).format('MM/DD');\r\n      return avgTime\r\n    }) : [],\r\n    xAxis: Object.keys(rawResult)\r\n      .map((key) => ({\r\n        key,\r\n        id: parseInt(key.slice(-1), 10),\r\n      }))\r\n      .filter((item) => !isNaN(item.id))\r\n      .map((item) => ({\r\n        name: options[item.id].label,\r\n        label: options[item.id].label,\r\n        value: rawResult[item.key],\r\n      })),\r\n  };\r\n  const totalAmountTrend = {\r\n    xAxis: rawResult.timeRange ? rawResult.timeRange.map((str) => {\r\n      const moments = str.split(' to ');\r\n      const fromMoment = moment(moments[0]);\r\n      const toMoment = moment(moments[1]);\r\n      const avgTime = moment((fromMoment + toMoment) / 2).format('MM/DD');\r\n      return avgTime;\r\n    }) : [],\r\n    yAxis: rawResult.totalAmountTrend,\r\n  };\r\n  return [totalAmountTrend, sourceAmountTrend];\r\n};\r\n\r\nexport default getAmountTrend;","import requests from '../../requests';\r\nimport qs from 'qs';\r\n\r\nconst getSensiLayout = async (keyword, startPublishedDay, endPublishedDay) => {\r\n  const params = {\r\n    keyword,\r\n    startPublishedDay,\r\n    endPublishedDay,\r\n  };\r\n  const url = encodeURI(`${requests.getSensiLayout.url}?keyword=${keyword}&startPublishedDay=${startPublishedDay}&endPublishedDay=${endPublishedDay}`);\r\n  const response = await fetch(url, { method: requests.getSensiLayout.method });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  /* const options = [\r\n    { label: '不限', value: null },\r\n    { label: '敏感', value: '1' },\r\n    { label: '非敏感', value: '2' },\r\n  ];\r\n  const sensiLayout =\r\n    Object.keys(rawResult)\r\n      .map((id) => ({\r\n        name: options[id].label,\r\n        label: options[id].label,\r\n        value: rawResult[id],\r\n      })); */\r\n  const sensiLayout = [\r\n    { name: '敏感', label: '敏感', value: rawResult.cflag1 },\r\n    { name: '非敏感', label: '非敏感', value: rawResult.cflag0 },\r\n  ];\r\n  return sensiLayout;\r\n};\r\n\r\nexport default getSensiLayout;\r\n","import requests from '../../requests';\r\nimport qs from 'qs';\r\n\r\nconst getSourceLayout = async (keyword, startPublishedDay, endPublishedDay) => {\r\n  const params = {\r\n    keyword,\r\n    startPublishedDay,\r\n    endPublishedDay,\r\n  };\r\n  const url = encodeURI(`${requests.getSourceLayout.url}?keyword=${keyword}&startPublishedDay=${startPublishedDay}&endPublishedDay=${endPublishedDay}`);\r\n  const response = await fetch(url, { method: requests.getSourceLayout.method });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  const options = [\r\n    { label: '不限', value: null },\r\n    { label: '网站', value: '1' },\r\n    { label: '论坛', value: '2' },\r\n    { label: '微博', value: '3' },\r\n    { label: '微信', value: '4' },\r\n    { label: '博客', value: '5' },\r\n    { label: '外媒', value: '6' },\r\n    { label: '新闻', value: '7' },\r\n  ];\r\n  const sourceLayout =\r\n    Object.keys(rawResult)\r\n      .map((id) => parseInt(id.slice(-1)))\r\n      .map((id) => ({\r\n        name: options[id].label,\r\n        label: options[id].label,\r\n        value: rawResult[`fromType${id}`],\r\n      }));\r\n\r\n  return sourceLayout;\r\n};\r\n\r\nexport default getSourceLayout;\r\n","import requests from \"../../requests\";\r\nimport qs from 'qs';\r\n\r\nconst getRegionLayout = async (keyword, startPublishedDay, endPublishedDay) => {\r\n  const params = {\r\n    keyword,\r\n    startPublishedDay,\r\n    endPublishedDay,\r\n  };\r\n  const url = encodeURI(`${requests.getRegionLayout.url}?${qs.stringify(params)}`);\r\n  const response = await fetch(url, { method: requests.getRegionLayout.method });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n\r\n  const regionMap = new Map();\r\n  // eslint-disable-next-line no-lone-blocks\r\n  {\r\n    regionMap.set(11, '北京');\r\n    regionMap.set(12, '天津');\r\n    regionMap.set(13, '河北');\r\n    regionMap.set(14, '山西');\r\n    regionMap.set(15, '内蒙古');\r\n    regionMap.set(21, '辽宁');\r\n    regionMap.set(22, '吉林');\r\n    regionMap.set(23, '黑龙江');\r\n    regionMap.set(31, '上海');\r\n    regionMap.set(32, '江苏');\r\n    regionMap.set(33, '浙江');\r\n    regionMap.set(34, '安徽');\r\n    regionMap.set(35, '福建');\r\n    regionMap.set(36, '江西');\r\n    regionMap.set(37, '山东');\r\n    regionMap.set(41, '河南');\r\n    regionMap.set(42, '湖北');\r\n    regionMap.set(43, '湖南');\r\n    regionMap.set(44, '广东');\r\n    regionMap.set(45, '广西');\r\n    regionMap.set(46, '海南');\r\n    regionMap.set(50, '重庆');\r\n    regionMap.set(51, '四川');\r\n    regionMap.set(52, '贵州');\r\n    regionMap.set(53, '云南');\r\n    regionMap.set(54, '西藏');\r\n    regionMap.set(61, '陕西');\r\n    regionMap.set(62, '甘肃');\r\n    regionMap.set(63, '青海');\r\n    regionMap.set(64, '宁夏');\r\n    regionMap.set(65, '新疆');\r\n    regionMap.set(71, '台湾');\r\n    regionMap.set(81, '香港');\r\n    regionMap.set(91, '澳门');\r\n  }\r\n\r\n  const regionLayout = Object.keys(rawResult)\r\n    .map(key => parseInt(key.slice(-2), 10))\r\n    .map(key => ({\r\n      name: regionMap.get(key),\r\n      value: rawResult[`from${key}`],\r\n    }));\r\n  let totals = 0;\r\n  let cnt = 0;\r\n  let min = regionLayout[0]?.value || 0;\r\n  let max = 0;\r\n  regionLayout.forEach((item) => {\r\n    totals += item.value;\r\n    cnt += 1;\r\n    if (item.value < min) min = item.value;\r\n    if (item.value > max) max = item.value;\r\n  });\r\n  return {\r\n    regions: regionLayout,\r\n    min,\r\n    max,\r\n  };\r\n};\r\n\r\nexport default getRegionLayout;\r\n","import qs from 'qs';\r\nimport requests from '../../requests';\r\n\r\nconst getTraceTree = async (fid, startPublishedDay, endPublishedDay) => {\r\n  const params = {\r\n    fid,\r\n    startPublishedDay,\r\n    endPublishedDay,\r\n  };\r\n  const url = encodeURI(`${requests.getTraceTree.url}?fid=${fid}&startPublishedDay=${startPublishedDay}&endPublishedDay=${endPublishedDay}`);\r\n  const response = await fetch(url, { method: requests.getTraceTree.method });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  return rawResult;\r\n};\r\n\r\nexport default getTraceTree;\r\n","import ReactEcharts from 'echarts-for-react';\r\nimport * as echarts from 'echarts';\r\nimport 'echarts-wordcloud';\r\nimport React from 'react';\r\nimport './WordCloud.scss';\r\nimport Loading from \"../Loading/Loading\";\r\n\r\nexport default class WordCloud extends React.Component {\r\n  wordOption = () => {\r\n    const wordData = this.props.option || [];\r\n    const option = {\r\n      // backgroundColor: '#100c2A',\r\n      backgroundColor: 'whitesmoke',\r\n      tooltip: {\r\n        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>',\r\n      },\r\n      series: [\r\n        {\r\n          type: 'wordCloud',\r\n          gridSize: 1,\r\n          sizeRange: [20, 100],\r\n          rotationRange: [-0, 0, 0, 90],\r\n          textStyle: {\r\n            color: '#2f54eb',\r\n          },\r\n          left: 'center',\r\n          top: 'center',\r\n          right: null,\r\n          bottom: null,\r\n          width: '90%',\r\n          height: '110%',\r\n          data: wordData,\r\n        },\r\n      ],\r\n    };\r\n    return option;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"word-chart\">\r\n        {\r\n          this.props.option ?\r\n            <ReactEcharts\r\n              style={{\r\n                width: '100%',\r\n                height: '100%'\r\n              }}\r\n              option={this.wordOption()}\r\n            /> :\r\n            <Loading />\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import moment from 'moment';\r\nimport requests from '../../requests';\r\nimport qs from 'qs';\r\n\r\nconst getKeywordsCloud = async (fid, startPublishedDay, endPublishedDay, keywordNumber) => {\r\n  // const url = encodeURI(`${requests.getKeywordsCloud.url}?${qs.stringify(params)}`);\r\n  const url = encodeURI(`${requests.getKeywordsCloud.url}?fid=${fid}&startPublishedDay=&endPublishedDay=&keywordNumber=${encodeURI(keywordNumber)}&extractMethod=textrank`);\r\n  const response = await fetch(url, { method: requests.getKeywordsCloud.method });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  return rawResult instanceof Array ? rawResult : [];\r\n};\r\n\r\nexport default getKeywordsCloud;\r\n","import requests from '../../requests';\r\nimport qs from 'qs';\r\n\r\nconst getProgrammeSensiLayout = async (fid, startPublishedDay, endPublishedDay) => {\r\n  const params = {\r\n    fid,\r\n    startPublishedDay,\r\n    endPublishedDay,\r\n  };\r\n  const url = encodeURI(`${requests.getProgrammeSensiLayout.url}?fid=${fid}&startPublishedDay=${startPublishedDay}&endPublishedDay=${endPublishedDay}`);\r\n  const response = await fetch(url, { method: requests.getProgrammeSensiLayout.method });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  /* const options = [\r\n    { label: '不限', value: null },\r\n    { label: '敏感', value: '1' },\r\n    { label: '非敏感', value: '2' },\r\n  ];\r\n  const sensiLayout =\r\n    Object.keys(rawResult)\r\n      .map((id) => ({\r\n        name: options[id].label,\r\n        label: options[id].label,\r\n        value: rawResult[id],\r\n      })); */\r\n  const sensiLayout = [\r\n    { name: '敏感', label: '敏感', value: rawResult.cflag1 },\r\n    { name: '非敏感', label: '非敏感', value: rawResult.cflag0 },\r\n  ];\r\n  return sensiLayout;\r\n};\r\n\r\nexport default getProgrammeSensiLayout;\r\n","import requests from '../../requests';\r\nimport qs from 'qs';\r\n\r\nconst getProgrammeSourceLayout = async (fid, startPublishedDay, endPublishedDay) => {\r\n  const params = {\r\n    fid,\r\n    startPublishedDay,\r\n    endPublishedDay,\r\n  };\r\n  const url = encodeURI(`${requests.getProgrammeSourceLayout.url}?fid=${fid}&startPublishedDay=${startPublishedDay}&endPublishedDay=${endPublishedDay}`);\r\n  const response = await fetch(url, { method: requests.getProgrammeSourceLayout.method });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  const options = [\r\n    { label: '不限', value: null },\r\n    { label: '网站', value: '1' },\r\n    { label: '论坛', value: '2' },\r\n    { label: '微博', value: '3' },\r\n    { label: '微信', value: '4' },\r\n    { label: '博客', value: '5' },\r\n    { label: '外媒', value: '6' },\r\n    { label: '新闻', value: '7' },\r\n  ];\r\n  const sourceLayout =\r\n    Object.keys(rawResult)\r\n      .map((id) => parseInt(id.slice(-1)))\r\n      .map((id) => ({\r\n        name: options[id].label,\r\n        label: options[id].label,\r\n        value: rawResult[`fromType${id}`],\r\n      }));\r\n  return sourceLayout;\r\n};\r\n\r\nexport default getProgrammeSourceLayout;\r\n","import requests from '../../requests';\r\nimport qs from 'qs';\r\nimport moment from \"moment\";\r\n\r\nconst getProgrammeAmountTrend = async (fid, startPublishedDay, endPublishedDay) => {\r\n  /* const params = {\r\n    keyword,\r\n    startPublishedDay,\r\n    endPublishedDay,\r\n  }; */\r\n  const url = encodeURI(`${requests.getProgrammeAmountTrend.url}?fid=${fid}&startPublishedDay=${startPublishedDay}&endPublishedDay=${endPublishedDay}`);\r\n  const response = await fetch(url, { method: requests.getProgrammeAmountTrend.method });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  const options = [\r\n    { label: '不限', value: null },\r\n    { label: '网站', value: '1' },\r\n    { label: '论坛', value: '2' },\r\n    { label: '微博', value: '3' },\r\n    { label: '微信', value: '4' },\r\n    { label: '博客', value: '5' },\r\n    { label: '外媒', value: '6' },\r\n    { label: '新闻', value: '7' },\r\n  ];\r\n  const sourceAmountTrend = {\r\n    yAxis: rawResult.timeRange ? rawResult.timeRange.map((str) => {\r\n      const moments = str.split(' to ');\r\n      const fromMoment = moment(moments[0]);\r\n      const toMoment = moment(moments[1]);\r\n      const avgTime = moment((fromMoment + toMoment) / 2).format('MM/DD');\r\n      return avgTime\r\n    }) : [],\r\n    xAxis: Object.keys(rawResult)\r\n      .map((key) => ({\r\n        key,\r\n        id: parseInt(key.slice(-1), 10),\r\n      }))\r\n      .filter((item) => !isNaN(item.id))\r\n      .map((item) => ({\r\n        name: options[item.id].label,\r\n        label: options[item.id].label,\r\n        value: rawResult[item.key],\r\n      })),\r\n  };\r\n  const totalAmountTrend = {\r\n    xAxis: rawResult.timeRange ? rawResult.timeRange.map((str) => {\r\n      const moments = str.split(' to ');\r\n      const fromMoment = moment(moments[0]);\r\n      const toMoment = moment(moments[1]);\r\n      const avgTime = moment((fromMoment + toMoment) / 2).format('MM/DD');\r\n      return avgTime;\r\n    }) : [],\r\n    yAxis: rawResult.totalAmountTrend,\r\n  };\r\n  return [totalAmountTrend, sourceAmountTrend];\r\n};\r\n\r\nexport default getProgrammeAmountTrend;","import requests from \"../../requests\";\r\nimport qs from 'qs';\r\n\r\nconst getProgrammeRegionLayout = async (fid, startPublishedDay, endPublishedDay) => {\r\n  const params = {\r\n    fid,\r\n    startPublishedDay,\r\n    endPublishedDay,\r\n  };\r\n  const url = encodeURI(`${requests.getProgrammeRegionLayout.url}?${qs.stringify(params)}`);\r\n  const response = await fetch(url, { method: requests.getProgrammeRegionLayout.method });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n\r\n  const regionMap = new Map();\r\n  // eslint-disable-next-line no-lone-blocks\r\n  {\r\n    regionMap.set(11, '北京');\r\n    regionMap.set(12, '天津');\r\n    regionMap.set(13, '河北');\r\n    regionMap.set(14, '山西');\r\n    regionMap.set(15, '内蒙古');\r\n    regionMap.set(21, '辽宁');\r\n    regionMap.set(22, '吉林');\r\n    regionMap.set(23, '黑龙江');\r\n    regionMap.set(31, '上海');\r\n    regionMap.set(32, '江苏');\r\n    regionMap.set(33, '浙江');\r\n    regionMap.set(34, '安徽');\r\n    regionMap.set(35, '福建');\r\n    regionMap.set(36, '江西');\r\n    regionMap.set(37, '山东');\r\n    regionMap.set(41, '河南');\r\n    regionMap.set(42, '湖北');\r\n    regionMap.set(43, '湖南');\r\n    regionMap.set(44, '广东');\r\n    regionMap.set(45, '广西');\r\n    regionMap.set(46, '海南');\r\n    regionMap.set(50, '重庆');\r\n    regionMap.set(51, '四川');\r\n    regionMap.set(52, '贵州');\r\n    regionMap.set(53, '云南');\r\n    regionMap.set(54, '西藏');\r\n    regionMap.set(61, '陕西');\r\n    regionMap.set(62, '甘肃');\r\n    regionMap.set(63, '青海');\r\n    regionMap.set(64, '宁夏');\r\n    regionMap.set(65, '新疆');\r\n    regionMap.set(71, '台湾');\r\n    regionMap.set(81, '香港');\r\n    regionMap.set(91, '澳门');\r\n  }\r\n\r\n  const regionLayout = Object.keys(rawResult)\r\n    .map(key => parseInt(key.slice(-2), 10))\r\n    .map(key => ({\r\n      name: regionMap.get(key),\r\n      value: rawResult[`from${key}`],\r\n    }));\r\n  let totals = 0;\r\n  let cnt = 0;\r\n  let min = regionLayout[0]?.value || 0;\r\n  let max = 0;\r\n  regionLayout.forEach((item) => {\r\n    totals += item.value;\r\n    cnt += 1;\r\n    if (item.value < min) min = item.value;\r\n    if (item.value > max) max = item.value;\r\n  });\r\n  return {\r\n    regions: regionLayout,\r\n    min,\r\n    max,\r\n  };\r\n};\r\n\r\nexport default getProgrammeRegionLayout;\r\n","import moment from 'moment';\r\nimport requests from '../../requests';\r\nimport qs from 'qs';\r\n\r\nconst getEventTree = async (fid, startPublishedDay, endPublishedDay) => {\r\n  // const url = encodeURI(`${requests.getKeywordsCloud.url}?${qs.stringify(params)}`);\r\n  const url = encodeURI(`${requests.getEventTree.url}?fid=${fid}&startPublishedDay=&endPublishedDay=`);\r\n  const response = await fetch(url, { method: requests.getEventTree.method });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  return rawResult;\r\n};\r\n\r\nexport default getEventTree;\r\n","import qs from 'qs';\r\nimport requests from '../../requests';\r\n\r\nconst getProgrammeSentimentLayout = async (fid, startPublishedDay, endPublishedDay) => {\r\n  const url = encodeURI(`${requests.getProgrammeSentimentLayout.url}?fid=${fid}&startPublishedDay=${startPublishedDay}&endPublishedDay=${endPublishedDay}`);\r\n  const response = await fetch(url,\r\n    {\r\n      method: requests.getProgrammeSentimentLayout.method,\r\n    });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  /* const options = [\r\n    { label: '不限', value: null },\r\n    { label: '敏感', value: '1' },\r\n    { label: '非敏感', value: '2' },\r\n  ];\r\n  const sensiLayout =\r\n    Object.keys(rawResult)\r\n      .map((id) => ({\r\n        name: options[id].label,\r\n        label: options[id].label,\r\n        value: rawResult[id],\r\n      })); */\r\n  const sentimentLayout = [\r\n    { name: '积极', label: '积极', value: rawResult.happy },\r\n    { name: '愤怒', label: '愤怒', value: rawResult.angry },\r\n    { name: '悲伤', label: '悲伤', value: rawResult.sad },\r\n    { name: '恐惧', label: '恐惧', value: rawResult.fear },\r\n    { name: '惊奇', label: '惊奇', value: rawResult.surprise },\r\n    { name: '无情绪', label: '无情绪', value: rawResult.neutral },\r\n  ];\r\n  return sentimentLayout;\r\n};\r\n\r\nexport default getProgrammeSentimentLayout;\r\n","import requests from '../../requests';\r\nimport moment from \"moment\";\r\n\r\nconst getProgrammeSentimentTrend = async (fid, startPublishedDay, endPublishedDay) => {\r\n  const url = encodeURI(`${requests.getProgrammeSentimentTrend.url}?fid=${fid}&startPublishedDay=${startPublishedDay}&endPublishedDay=${endPublishedDay}`);\r\n  const response = await fetch(url, {\r\n    method: requests.getProgrammeSentimentTrend.method,\r\n  });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  const emotionTrendLayout = {\r\n    'yAxis': rawResult.timeRange,\r\n    'xAxis': [\r\n      { 'name': '积极', 'label': '积极', 'value': rawResult.happyTrend },\r\n      { 'name': '愤怒', 'label': '愤怒', 'value': rawResult.angryTrend },\r\n      { 'name': '悲伤', 'label': '悲伤', 'value': rawResult.sadTrend },\r\n      { 'name': '恐惧', 'label': '恐惧', 'value': rawResult.fearTrend },\r\n      { 'name': '惊奇', 'label': '惊奇', 'value': rawResult.surpriseTrend },\r\n      { 'name': '无情绪', 'label': '无情绪', 'value': rawResult.neutralTrend }],\r\n  };\r\n  return emotionTrendLayout;\r\n};\r\n\r\nexport default getProgrammeSentimentTrend;","import React from 'react';\r\nimport moment from 'moment';\r\nimport './View.scss';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Carousel } from 'antd';\r\nimport Echart from '../../common/Echart/Echart';\r\nimport getAmountTrend from '../../../services/request/data/getAmountTrend';\r\nimport getSensiLayout from '../../../services/request/data/getSensiLayout';\r\nimport getSourceLayout from '../../../services/request/data/getSourceLayout';\r\nimport getRegionLayout from '../../../services/request/data/getRegionLayout';\r\nimport getTraceTree from '../../../services/request/data/getTraceTree';\r\nimport WordCloud from '../../common/WordCloud/WordCloud';\r\nimport getKeywordsCloud from '../../../services/request/data/getKeywordsCloud';\r\nimport getProgrammeData from '../../../services/request/data/getProgrammeData';\r\nimport AutofitWrap from '../../common/AutofitWrap/AutofitWrap';\r\nimport getProgrammeSensiLayout from '../../../services/request/programme/getProgrammeSensiLayout';\r\nimport getProgrammeSourceLayout from '../../../services/request/programme/getProgrammeSourceLayout';\r\nimport getProgrammeAmountTrend from '../../../services/request/programme/getProgrammeAmountTrend';\r\nimport getProgrammeRegionLayout from '../../../services/request/programme/getProgrammeRegionLayout';\r\nimport getEventTree from '../../../services/request/data/getEventTree';\r\nimport getProgrammeSentimentLayout from '../../../services/request/programme/getProgrammeSentimentLayout';\r\nimport getProgrammeSentimentTrend from \"../../../services/request/programme/getProgrammeSentimentTrend\";\r\n\r\nconst DATE_FORMAT = 'YYYY-MM-DD HH:mm:ss';\r\n\r\n// 临时数据\r\n\r\n\r\nclass View extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      dateRange: 0,\r\n      endPublishedDay: moment().format(DATE_FORMAT),\r\n      startPublishedDay: moment().startOf('year').format(DATE_FORMAT),\r\n      sensiLayout: undefined,\r\n      sourceLayout: undefined,\r\n      totalAmountTrend: undefined,\r\n      sourceAmountTrend: undefined,\r\n      regionLayout: undefined,\r\n      traceTree: undefined,\r\n      keywordsCloud: undefined,\r\n      traceTreeFormat: 'defaultTree',\r\n      emotionLayout: undefined,\r\n      emotionTrend: undefined,\r\n      data: undefined,\r\n    };\r\n  }\r\n\r\n  formatEventTree = (rawData) => {\r\n    const list = [rawData];\r\n    console.log(rawData);\r\n    while (list.length) {\r\n      const head = list.shift();\r\n      console.log(head);\r\n      head.name = `事件${head.clusterNum}: \\n${head.time}`;\r\n      head.children = head.childList;\r\n      head.data = {\r\n        clusterNum: head.clusterNum,\r\n        time: head.time,\r\n        summary: head.summary,\r\n      };\r\n      head.children && head.children.forEach((item) => {\r\n        list.push(item);\r\n      });\r\n    }\r\n    return rawData;\r\n  };\r\n\r\n  changeTraceTreeFormat = () => {\r\n    const traceTreeFormat = this.state.traceTreeFormat === 'defaultTree' ? 'circleTree' : 'defaultTree';\r\n    this.setState({ traceTreeFormat });\r\n  };\r\n\r\n  shouldComponentUpdate(prevProps, prevState, snapshot) {\r\n    if (this.props.curProgramme.fid !== prevProps.curProgramme.fid) {\r\n      this.setState({\r\n        sensiLayout: undefined,\r\n        sourceLayout: undefined,\r\n        totalAmountTrend: undefined,\r\n        sourceAmountTrend: undefined,\r\n        regionLayout: undefined,\r\n        traceTree: undefined,\r\n        keywordsCloud: undefined,\r\n        eventTree: undefined,\r\n        emotionLayout: undefined,\r\n        emotionTrend: undefined,\r\n        data: undefined,\r\n      }, () => {\r\n        this.carousel.goTo(0);\r\n        this.handleCarouselChange(0);\r\n      });\r\n      return false;\r\n      // this.handleSearch();\r\n    }\r\n    return true;\r\n  }\r\n\r\n  componentDidMount() {\r\n    // this.handleSearch();\r\n    // this.clk = setInterval(() => {\r\n    //   this.handleSearch();\r\n    // }, 5000);\r\n    this.handleCarouselChange(0);\r\n    this.mouseWheel = (e) => {\r\n      if (e.deltaY > 0) this.carousel.next();\r\n      else this.carousel.prev();\r\n    };\r\n    window.addEventListener('mousewheel', this.mouseWheel);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // clearInterval(this.clk);\r\n    window.removeEventListener('mousewheel', this.mouseWheel);\r\n  }\r\n\r\n  handleCarouselChange = (current) => {\r\n    switch (current) {\r\n      case 0: if (!this.state.keywordsCloud) this.getKeywordsCloud(); break;\r\n      case 2: if (!this.state.sensiLayout) this.getSensiLayout(); break;\r\n      case 3: if (!this.state.sourceLayout) this.getSourceLayout(); break;\r\n      case 4: if (!this.state.totalAmountTrend) this.getAmountTrend(); break;\r\n      case 5: if (!this.state.sourceAmountTrend) this.getAmountTrend(); break;\r\n      case 6: if (!this.state.regionLayout) this.getRegionLayout(); break;\r\n      case 1: if (!this.state.data) this.getLatestInfo(); break;\r\n      case 7: if (!this.state.emotionLayout) this.getEmotionLayout(); break; // 情感分布\r\n      case 8: if (!this.state.emotionTrend) this.getEmotionTrend(); break; // 情感趋势\r\n      case 9: if (!this.state.eventTree) this.getEventTree(); break; // 事件溯源\r\n      case 10: if (!this.state.traceTree) this.getTraceTree(); break; // 话题溯源1\r\n      case 11: if (!this.state.traceTree) this.getTraceTree(); break; // 话题溯源2\r\n      default: break;\r\n    }\r\n  };\r\n\r\n  handleSearch = () => {\r\n    this.getAmountTrend();\r\n    this.getSensiLayout();\r\n    this.getSourceLayout();\r\n    this.getRegionLayout();\r\n    this.getTraceTree();\r\n    this.getKeywordsCloud();\r\n    this.getLatestInfo();\r\n  };\r\n\r\n  getLatestInfo = async () => {\r\n    const PAGE_SIZE = 10;\r\n    const params = [\r\n      this.props.curProgramme.fid,\r\n      '', // keyword\r\n      null, // source\r\n      '', // startPublishDay\r\n      '', // endPublishDay\r\n      null, // sensitiveFlag\r\n      1, // timeOrder\r\n      PAGE_SIZE, // pageSize\r\n      0, // pageId\r\n    ];\r\n    const result = await getProgrammeData(...params);\r\n    this.setState({\r\n      data: result.data,\r\n    });\r\n  };\r\n\r\n  getEmotionTrend = async () => {\r\n    const { startPublishedDay, endPublishedDay } = this.state;\r\n    const { fid } = this.props.curProgramme;\r\n    const emotionTrend = await getProgrammeSentimentTrend(fid, startPublishedDay, endPublishedDay);\r\n    this.setState({ emotionTrend });\r\n  };\r\n\r\n  getEmotionLayout = async () => {\r\n    const { startPublishedDay, endPublishedDay } = this.state;\r\n    const { fid } = this.props.curProgramme;\r\n    const emotionLayout = await getProgrammeSentimentLayout(fid, startPublishedDay, endPublishedDay);\r\n    this.setState({ emotionLayout });\r\n  };\r\n\r\n  getKeywordsCloud = async () => {\r\n    const { startPublishedDay, endPublishedDay } = this.state;\r\n    const { fid } = this.props.curProgramme;\r\n    const wordNumber = 50;\r\n    const keywordsCloud = await getKeywordsCloud(fid, startPublishedDay, endPublishedDay, wordNumber);\r\n    this.setState({ keywordsCloud });\r\n  };\r\n\r\n  getTraceTree = async () => {\r\n    const { fid } = this.props.curProgramme;\r\n    const { startPublishedDay, endPublishedDay } = this.state;\r\n    const traceTree = await getTraceTree(fid, startPublishedDay, endPublishedDay);\r\n    if (traceTree.children && !traceTree.children.length) traceTree.children = [{ name: '无信息' }];\r\n    // if (traceTree.children && traceTree.children.length > 50) traceTree.children = traceTree.children.slice(0, 50);\r\n    if (traceTree.children && traceTree.children.length > 20) {\r\n      const withChildren = traceTree.children.filter(item => item.children.length);\r\n      const noChildren = traceTree.children.filter(item => !item.children.length);\r\n      console.log(withChildren);\r\n      if (withChildren.length > 20) traceTree.children = withChildren.slice(0, 20);\r\n      else traceTree.children = withChildren.concat(noChildren.slice(0, 20 - withChildren.length));\r\n    }\r\n    this.setState({ traceTree });\r\n  };\r\n\r\n  getRegionLayout = async () => {\r\n    const { fid } = this.props.curProgramme;\r\n    const { startPublishedDay, endPublishedDay } = this.state;\r\n    const regionLayout = await getProgrammeRegionLayout(fid, startPublishedDay, endPublishedDay);\r\n    this.setState({ regionLayout });\r\n  };\r\n\r\n  getSourceLayout = async () => {\r\n    const { fid } = this.props.curProgramme;\r\n    const { startPublishedDay, endPublishedDay } = this.state;\r\n    const sourceLayout = await getProgrammeSourceLayout(fid, startPublishedDay, endPublishedDay);\r\n    this.setState({ sourceLayout });\r\n  };\r\n\r\n  getSensiLayout = async () => {\r\n    const { fid } = this.props.curProgramme;\r\n    const { startPublishedDay, endPublishedDay } = this.state;\r\n    const sensiLayout = await getProgrammeSensiLayout(fid, startPublishedDay, endPublishedDay);\r\n    this.setState({ sensiLayout });\r\n  };\r\n\r\n  getAmountTrend = async () => {\r\n    const { fid } = this.props.curProgramme;\r\n    const { startPublishedDay, endPublishedDay } = this.state;\r\n    const [totalAmountTrend, sourceAmountTrend] =\r\n      await getProgrammeAmountTrend(fid, startPublishedDay, endPublishedDay);\r\n    this.setState({\r\n      totalAmountTrend, sourceAmountTrend,\r\n    });\r\n  };\r\n\r\n  getEventTree = async () => {\r\n    const { fid } = this.props.curProgramme;\r\n    const { startPublishedDay, endPublishedDay } = this.state;\r\n    const eventTree = await getEventTree(fid, startPublishedDay, endPublishedDay);\r\n    const formatedEventTree = this.formatEventTree(eventTree);\r\n    console.log(formatedEventTree)\r\n    this.setState({ eventTree: formatedEventTree });\r\n  };\r\n\r\n  handleDateChange = (moments) => {\r\n    if (!moments) {\r\n      this.setState({\r\n        startPublishedDay: null,\r\n        endPublishedDay: null,\r\n      });\r\n    }\r\n    const [startMoment, endMoment] = moments;\r\n    this.setState({\r\n      startPublishedDay: startMoment.format(DATE_FORMAT),\r\n      endPublishedDay: endMoment.format(DATE_FORMAT),\r\n    });\r\n  };\r\n\r\n  handleSelect = (name, value) => {\r\n    const newState = {};\r\n    newState[name] = value;\r\n    this.setState(newState);\r\n    const current = '2020-07-18 12:00:00';\r\n    if (name === 'dateRange') {\r\n      switch (value) {\r\n        case 0:\r\n          this.handleDateChange([\r\n            moment(current),\r\n            moment(current).startOf('day'),\r\n          ]);\r\n          break;\r\n        case -1:\r\n        case null:\r\n          this.handleDateChange();\r\n          break;\r\n        default:\r\n          this.handleDateChange([\r\n            moment(current),\r\n            moment(current).subtract(value, 'days'),\r\n          ]);\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { data, emotionTrend, emotionLayout, eventTree, sensiLayout, regionLayout, sourceLayout, totalAmountTrend, sourceAmountTrend, traceTree, keywordsCloud, traceTreeFormat } = this.state;\r\n    return (\r\n      <Carousel\r\n        ref={r => this.carousel = r}\r\n        dotPosition=\"left\"\r\n        dots={{ className: 'dots' }}\r\n        afterChange={this.handleCarouselChange}\r\n        className=\"view-wrap\"\r\n      >\r\n        <div className=\"carousel-item\">\r\n          <AutofitWrap\r\n            minHeight={550}\r\n            padding={200}\r\n          >\r\n            <WordCloud\r\n              option={keywordsCloud}\r\n            />\r\n          </AutofitWrap>\r\n        </div>\r\n        <div className=\"carousel-item\">\r\n          <AutofitWrap\r\n            minHeight={550}\r\n            padding={200}\r\n          >\r\n            <div className=\"latest-info\">\r\n              <div className=\"theme\">最新舆情</div>\r\n              {data && data.slice(0, 8).map((item) => (\r\n                <div className=\"latest-info-item\">\r\n                  <span className=\"title\">{item.title}</span>\r\n                  <span className=\"content\">{item.content}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </AutofitWrap>\r\n        </div>\r\n        <div className=\"carousel-item\">\r\n          <AutofitWrap\r\n            minHeight={550}\r\n            padding={200}\r\n          >\r\n            <Echart\r\n              title=\"敏感度分布\"\r\n              type=\"doughnutPie\"\r\n              data={sensiLayout}\r\n            />\r\n          </AutofitWrap>\r\n        </div>\r\n        <div className=\"carousel-item\">\r\n          <AutofitWrap\r\n            minHeight={550}\r\n            padding={200}\r\n          >\r\n            <Echart\r\n              title=\"来源分部\"\r\n              type=\"defaultPie\"\r\n              data={sourceLayout}\r\n            />\r\n          </AutofitWrap>\r\n        </div>\r\n        <div className=\"carousel-item\">\r\n          <AutofitWrap\r\n            minHeight={550}\r\n            padding={200}\r\n          >\r\n            <Echart\r\n              title=\"总量趋势\"\r\n              type=\"areaLine\"\r\n              data={totalAmountTrend}\r\n            />\r\n          </AutofitWrap>\r\n        </div>\r\n        <div className=\"carousel-item\">\r\n          <AutofitWrap\r\n            minHeight={550}\r\n            padding={200}\r\n          >\r\n            <Echart\r\n              title=\"来源趋势\"\r\n              type=\"horizontalBar\"\r\n              data={sourceAmountTrend}\r\n            />\r\n          </AutofitWrap>\r\n        </div>\r\n        <div className=\"carousel-item\">\r\n          <AutofitWrap\r\n            minHeight={550}\r\n            padding={200}\r\n          >\r\n            <Echart\r\n              title=\"地域分布\"\r\n              type=\"chinaMap\"\r\n              data={regionLayout}\r\n            />\r\n          </AutofitWrap>\r\n        </div>\r\n\r\n        <div className=\"carousel-item\">\r\n          <AutofitWrap\r\n            minHeight={550}\r\n            padding={200}\r\n          >\r\n            <Echart\r\n              title=\"情感分析\"\r\n              type=\"defaultPie\"\r\n              data={emotionLayout}\r\n            />\r\n          </AutofitWrap>\r\n        </div>\r\n        <div className=\"carousel-item\">\r\n          <AutofitWrap\r\n            minHeight={550}\r\n            padding={200}\r\n          >\r\n            <Echart\r\n              title=\"情感趋势图\"\r\n              type=\"horizontalBar\"\r\n              data={emotionTrend}\r\n            />\r\n          </AutofitWrap>\r\n        </div>\r\n        <div className=\"carousel-item\">\r\n          <AutofitWrap\r\n            minHeight={550}\r\n            padding={200}\r\n          >\r\n            <Echart\r\n              title=\"事件溯源\"\r\n              type=\"connGraph\"\r\n              data={eventTree}\r\n            />\r\n          </AutofitWrap>\r\n        </div>\r\n        <div className=\"carousel-item\">\r\n          <AutofitWrap\r\n            minHeight={550}\r\n            padding={200}\r\n          >\r\n            <Echart\r\n              title=\"话题溯源\"\r\n              type=\"defaultTree\"\r\n              data={traceTree}\r\n            />\r\n          </AutofitWrap>\r\n        </div>\r\n        <div className=\"carousel-item\">\r\n          <AutofitWrap\r\n            minHeight={550}\r\n            padding={200}\r\n          >\r\n            <Echart\r\n              title=\"话题溯源\"\r\n              type=\"circleTree\"\r\n              data={traceTree}\r\n            />\r\n          </AutofitWrap>\r\n        </div>\r\n      </Carousel>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  curProgramme: state.curProgramme,\r\n});\r\nconst mapDispatchToProps = {};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(View);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Input, Switch } from 'antd';\r\nimport AutofitWrap from '../../common/AutofitWrap/AutofitWrap';\r\nimport { actions } from '../../../redux/actions';\r\nimport DataList from '../../common/DataList/DataList';\r\nimport './Alert.scss'\r\nimport Echart from \"../../common/Echart/Echart\";\r\n\r\nconst sensiLayout = [\r\n  { name: '正常', label: '正常', value: 376 },\r\n  { name: '政治敏感', label: '政治敏感', value: 91 },\r\n  { name: '色情低俗', label: '色情低俗', value: 61 },\r\n  { name: '非法营销', label: '非法营销', value: 66 },\r\n  { name: '人身攻击', label: '人身攻击', value: 57 },\r\n  { name: '消息传闻', label: '消息传闻', value: 41 },\r\n];\r\nconst emotionTrendLayout = {\r\n  'yAxis': ['1993-', '1980-', '2003-', '1981-', '1984-', '2007-'],\r\n  'xAxis': [\r\n    { 'name': '积极', 'label': '积极', 'value': [14, 10, 6, 12, 13, 9] },\r\n    { 'name': '愤怒', 'label': '愤怒', 'value': [16, 7, 14, 11, 6, 19] },\r\n    { 'name': '悲伤', 'label': '悲伤', 'value': [15, 4, 12, 14, 15, 9] },\r\n    { 'name': '恐惧', 'label': '恐惧', 'value': [6, 14, 8, 11, 3, 3] },\r\n    { 'name': '惊奇', 'label': '惊奇', 'value': [7, 15, 12, 19, 3, 2] },\r\n    { 'name': '无情绪', 'label': '无情绪', 'value': [9, 5, 17, 6, 16, 14] }],\r\n};\r\n\r\nclass Alert extends React.Component {\r\n  formatEmotionTrendLayout = (raw) => {\r\n    const yAxis = [];\r\n    yAxis.push({\r\n      name: '积极',\r\n      data: raw.xAxis[0].value,\r\n    });\r\n    const negData = raw.xAxis[1].value.map((item, index) => (\r\n      item + raw.xAxis[2].value[index] + raw.xAxis[3].value[index]\r\n    ));\r\n    yAxis.push({\r\n      name: '消极',\r\n      data: negData,\r\n    });\r\n    yAxis.push({\r\n      name: '中立',\r\n      data: raw.xAxis[5].value,\r\n    });\r\n    console.log(yAxis);\r\n    return {\r\n      xAxis: raw.yAxis,\r\n      yAxis,\r\n    };\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        padding={200}\r\n        minHeight={550}\r\n        className=\"alert-wrap\"\r\n      >\r\n        <div className=\"alert-container\">\r\n          <div className=\"graphs\">\r\n            <div className=\"left-graph\">\r\n              <Echart\r\n                title=\"话题走势图\"\r\n                type=\"basicLine\"\r\n                data={[]}\r\n              />\r\n            </div>\r\n            <div className=\"right-graph\">\r\n              <div className=\"top-graph\">\r\n                <Echart\r\n                  title=\"情感趋势图\"\r\n                  type=\"stackLine\"\r\n                  data={this.formatEmotionTrendLayout(emotionTrendLayout)}\r\n                />\r\n              </div>\r\n              <div className=\"bottom-graph\">\r\n                <Echart\r\n                  title=\"敏感信息分布\"\r\n                  type=\"defaultPie\"\r\n                  data={sensiLayout}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            敏感信息列表\r\n            <DataList\r\n              data={[]}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userName: state.userName,\r\n  curProgramme: state.curProgramme,\r\n});\r\nconst mapDispatchToProps = {\r\n  onProgrammeChange: actions.onProgrammeChange,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Alert);\r\n","import moment from 'moment';\r\nimport requests from '../../requests';\r\nimport qs from 'qs';\r\n\r\nconst DATE_FORMAT = 'YYYY-MM-DD HH:mm:ss';\r\n\r\nconst getWeiboUserData = async (fid, username, pageSize, pageId) => {\r\n  const params = {\r\n    fid,\r\n    username,\r\n    pageSize,\r\n    pageId,\r\n  };\r\n  const url = encodeURI(`${requests.getWeiboUserData.url}?${qs.stringify(params)}`);\r\n  const response = await fetch(url, { method: requests.getWeiboUserData.method });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  const result = {\r\n    dataSize: rawResult.hitNumber,\r\n    data: rawResult.dataContent ? rawResult.dataContent.map((item) => ({\r\n      source: item.fromType,\r\n      addr: item.resource,\r\n      url: item.webpageUrl,\r\n      sensi: item.cflag,\r\n      publishedDay: moment(item.publishedDay).add(8, 'hours').format(DATE_FORMAT),\r\n      ...item,\r\n    })) : [],\r\n  };\r\n  return result;\r\n};\r\n\r\nexport default getWeiboUserData;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Input, Card } from 'antd';\r\nimport AutofitWrap from '../../common/AutofitWrap/AutofitWrap';\r\nimport { actions } from '../../../redux/actions';\r\nimport DataList from '../../common/DataList/DataList';\r\nimport './Trace.scss';\r\nimport getWeiboUserData from '../../../services/request/data/getWeiboUserData';\r\n\r\nconst PAGE_SIZE = 10;\r\n\r\nclass Trace extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      username: '',\r\n      data: [],\r\n      dataSize: 0,\r\n      pageSize: PAGE_SIZE,\r\n      loading: false,\r\n      pageId: 0,\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (prevProps.curProgramme?.fid !== this.props.curProgramme?.fid) {\r\n      this.handleSearch();\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleSearch();\r\n  }\r\n\r\n  handleInputChange = (e) => {\r\n    this.setState({\r\n      username: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSearch = async () => {\r\n    this.setState({ loading: true });\r\n    const { username, pageId, pageSize } = this.state;\r\n    const { fid } = this.props.curProgramme;\r\n    const result = await getWeiboUserData(fid, username, pageSize, pageId);\r\n    this.setState((prevState) => {\r\n      if (prevState.pageId !== pageId && fid !== this.props.curProgramme?.fid) {\r\n        console.log('请求超时：用户翻页', fid);\r\n        return { loading: false };\r\n      }\r\n      return {\r\n        loading: false,\r\n        data: result.data,\r\n        dataSize: result.dataSize,\r\n      };\r\n    });\r\n  };\r\n\r\n  handlePageChange = (pageId) => {\r\n    this.setState({ pageId }, () => {\r\n      this.handleSearch();\r\n    });\r\n  };\r\n\r\n  handlePageSizeChange = (current, pageSize) => {\r\n    this.setState({ pageSize, pageId: 0 }, () => {\r\n      this.handleSearch();\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { username, data, loading, dataSize } = this.state;\r\n\r\n    return (\r\n      <AutofitWrap\r\n        padding={200}\r\n        minHeight={550}\r\n        className=\"trace-wrap\"\r\n      >\r\n        <div className=\"trace-container\">\r\n          <div className=\"result\">\r\n            <div className=\"input-wrap\">\r\n              <Input.Search\r\n                className=\"mts-multi-filter-input\"\r\n                enterButton=\"搜素用户\"\r\n                size=\"large\"\r\n                onSearch={this.handleSearch}\r\n                onChange={this.handleInputChange}\r\n                value={username}\r\n              />\r\n            </div>\r\n            <DataList\r\n              data={data}\r\n              dataSize={dataSize}\r\n              loading={loading}\r\n              onPageChange={this.handlePageChange}\r\n              onPageSizeChange={this.handlePageSizeChange}\r\n              disableTag\r\n              disableSource\r\n            />\r\n          </div>\r\n          <Card\r\n            title=\"活跃用户列表\"\r\n            className=\"activate-users-list\"\r\n          />\r\n        </div>\r\n      </AutofitWrap>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userName: state.userName,\r\n  curProgramme: state.curProgramme,\r\n});\r\nconst mapDispatchToProps = {\r\n  onProgrammeChange: actions.onProgrammeChange,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Trace);\r\n","import React from 'react';\r\nimport { Layout, Menu } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport Specific from '../Specific/Specific';\r\nimport Origin from '../Origin/Origin';\r\nimport Config from '../Config/Config';\r\nimport View from '../View/View';\r\nimport { actions } from '../../../redux/actions';\r\nimport './Content.scss'\r\nimport AutofitWrap from \"../../common/AutofitWrap/AutofitWrap\";\r\nimport Alert from \"../Alert/Alert\";\r\nimport Trace from \"../Trace/Trace\";\r\n\r\nclass Content extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      curTabPage: 'info',\r\n    };\r\n  }\r\n\r\n  handleTabPageSelect = (e) => {\r\n    this.setState({\r\n      curTabPage: e.key,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { curTabPage } = this.state;\r\n    const { curProgramme } = this.props;\r\n    return (\r\n      <Layout.Content>\r\n        <Menu\r\n          theme=\"light\"\r\n          defaultSelectedKeys={curTabPage}\r\n          mode=\"horizontal\"\r\n          onClick={this.handleTabPageSelect}\r\n          className=\"mts-programme-content-menu\"\r\n        >\r\n          <Menu.Item key=\"info\">信息列表</Menu.Item>\r\n          <Menu.Item key=\"alert\">研判预警</Menu.Item>\r\n          <Menu.Item key=\"trace\">用户跟踪</Menu.Item>\r\n          <Menu.Item key=\"config\">方案配置</Menu.Item>\r\n          <Menu.Item key=\"origin\">定向监测</Menu.Item>\r\n          <Menu.Item key=\"view\">事件分析</Menu.Item>\r\n        </Menu>\r\n        <Layout.Content className=\"site-layout-background\">\r\n          {curTabPage === 'info' && curProgramme && <Specific />}\r\n          {curTabPage === 'view' && curProgramme && <View />}\r\n          {curTabPage === 'config' && curProgramme && <Config />}\r\n          {curTabPage === 'alert' && curProgramme && <Alert />}\r\n          {curTabPage === 'trace' && curProgramme && <Trace />}\r\n          {curTabPage === 'origin' && curProgramme && <Origin />}\r\n        </Layout.Content>\r\n      </Layout.Content>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  curProgramme: state.curProgramme,\r\n});\r\nconst mapDispatchToProps = {\r\n  onProgrammeChange: actions.onProgrammeChange,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Content);\r\n","import React from 'react';\r\nimport './Programme.scss';\r\nimport { Layout, Menu } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport Sider from './Sider/Sider';\r\nimport Content from './Content/Content';\r\n\r\nclass Programme extends React.Component {\r\n  render() {\r\n    // const height = document.body.offsetHeight;\r\n    const { curProgramme } = this.props;\r\n    return (\r\n      <Layout>\r\n        <Sider />\r\n        <Content />\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  curProgramme: state.curProgramme,\r\n});\r\nconst mapDispatchToProps = {};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Programme);\r\n","import React from 'react';\r\nimport { Table } from \"antd\";\r\n\r\nclass OrgList extends React.Component {\r\n  render() {\r\n    return (\r\n      <Table\r\n        pagination={false}\r\n      />\r\n    );\r\n  }\r\n};\r\n\r\nexport default OrgList;","import React from 'react';\r\nimport { Table } from \"antd\";\r\nimport {Switch} from \"antd/es\";\r\n\r\nclass UserList extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.columns = [\r\n      {\r\n        title: '用户名',\r\n        dataIndex: 'userName',\r\n        key: 'userName',\r\n      },\r\n      {\r\n        title: '权限',\r\n        dataIndex: 'userType',\r\n        key: 'userType',\r\n        render: (field) => (field === 'admin' ? '管理员' : '普通用户'),\r\n      },\r\n      {\r\n        title: '电话',\r\n        dataIndex: 'phone',\r\n        key: 'phone',\r\n      },\r\n      {\r\n        title: '邮箱',\r\n        dataIndex: 'email',\r\n        key: 'email',\r\n      },\r\n      {\r\n        title: '操作',\r\n        key: 'action',\r\n        render: () => <Switch/>\r\n      },\r\n    ];\r\n  }\r\n\r\n  render() {\r\n    const { users } = this.props;\r\n    return (\r\n      <Table\r\n        dataSource={users}\r\n        columns={this.columns}\r\n        pagination={false}\r\n      />\r\n    );\r\n  }\r\n};\r\n\r\nexport default UserList;","import requests from '../../requests';\r\n\r\nconst getUsers = async () => {\r\n  const url = encodeURI(`${requests.getUsers.url}`);\r\n  const response = await fetch(url, {\r\n    method: requests.getUsers.method,\r\n    credentials: 'same-origin',\r\n    headers: {\r\n      'Access-Control-Allow-Credentials': true,\r\n    },\r\n  });\r\n  const rawResult = response.status === 200 ? await response.json() : {};\r\n  const result = rawResult.map((item) => ({\r\n    ...item,\r\n    userName: item.username,\r\n    userType: item.role === '0' ? 'admin' : 'default',\r\n  }));\r\n  return result;\r\n};\r\n\r\nexport default getUsers;\r\n","import React, { Component } from 'react';\nimport { Layout, Menu, Breadcrumb } from 'antd';\nimport { FolderOutlined, UnorderedListOutlined } from '@ant-design/icons';\nimport OrgList from './OrgList/OrgList';\nimport UserList from './UserList/UserList';\nimport './Admin.scss';\nimport getUsers from \"../../services/request/data/getUsers\";\nimport AutofitWrap from \"../common/AutofitWrap/AutofitWrap\";\n\nconst { Content, Sider } = Layout;\nconst { SubMenu } = Menu;\n\nclass Admin extends Component {\n  constructor() {\n    super();\n    this.state = {\n      curRole: 'user',\n      users: [],\n      orgs: [],\n    };\n  }\n\n  componentDidMount() {\n    this.getUsers();\n    this.getOrgs();\n  }\n\n  getUsers = async () => {\n    const users = await getUsers();\n    console.log(users);\n    this.setState({ users });\n  };\n\n  getOrgs = () => {};\n\n  handleRoleSelect = (e) => {\n    this.setState({ curRole: e.key });\n  };\n\n  render() {\n    const { curRole, users, orgs } = this.state;\n    return (\n      <Layout>\n        <Sider\n          className=\"admin-sider-wrap\"\n          theme=\"light\"\n        >\n          <div className=\"logo\" />\n          <Menu\n            theme=\"light\"\n            mode=\"inline\"\n            selectedKeys={[curRole]}\n            onClick={this.handleRoleSelect}\n          >\n            <Menu.Item key=\"user\" icon={<UnorderedListOutlined />}>用户列表</Menu.Item>\n            <Menu.Item key=\"org\" icon={<UnorderedListOutlined />}>机构列表</Menu.Item>\n          </Menu>\n        </Sider>\n        <Content className=\"site-layout-background\">\n          <AutofitWrap\n            minHeight={600}\n            padding={200}\n          >\n\n            { curRole === 'user' ? <UserList users={users} /> : null }\n            { curRole === 'org' ? <OrgList orgs={orgs} /> : null }\n          </AutofitWrap>\n        </Content>\n      </Layout>\n    );\n  }\n}\n\nexport default Admin;\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport './View.scss';\r\nimport Echart from '../common/Echart/Echart';\r\nimport getAmountTrend from '../../services/request/data/getAmountTrend';\r\nimport getSensiLayout from '../../services/request/data/getSensiLayout';\r\nimport getSourceLayout from '../../services/request/data/getSourceLayout';\r\nimport getRegionLayout from '../../services/request/data/getRegionLayout';\r\nimport AutofitWrap from \"../common/AutofitWrap/AutofitWrap\";\r\n\r\nconst DATE_FORMAT = 'YYYY-MM-DD HH:mm:ss';\r\n\r\nclass View extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      // dateRange: 0,\r\n      endPublishedDay: moment().format(DATE_FORMAT),\r\n      startPublishedDay: moment().startOf('year').format(DATE_FORMAT),\r\n      sensiLayout: undefined,\r\n      sourceLayout: undefined,\r\n      totalAmountTrend: undefined,\r\n      sourceAmountTrend: undefined,\r\n      regionLayout: undefined,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('view mount');\r\n    this.handleSearch();\r\n    // this.clk = setInterval(() => {\r\n    //   this.handleSearch();\r\n    // }, 5000);\r\n  }\r\n\r\n  handleSearch = () => {\r\n    this.getAmountTrend();\r\n    this.getSensiLayout();\r\n    this.getSourceLayout();\r\n    this.getRegionLayout();\r\n  };\r\n\r\n  getRegionLayout = async () => {\r\n    const keyword = '';\r\n    const { startPublishedDay, endPublishedDay } = this.state;\r\n    const regionLayout = await getRegionLayout(keyword, startPublishedDay, endPublishedDay);\r\n\r\n    this.setState({ regionLayout })\r\n  };\r\n\r\n  getSourceLayout = async () => {\r\n    const keyword = '';\r\n    const { startPublishedDay, endPublishedDay } = this.state;\r\n    const sourceLayout = await getSourceLayout(keyword, startPublishedDay, endPublishedDay);\r\n    this.setState({ sourceLayout });\r\n  };\r\n\r\n  getSensiLayout = async () => {\r\n    const keyword = '';\r\n    const { startPublishedDay, endPublishedDay } = this.state;\r\n    const sensiLayout = await getSensiLayout(keyword, startPublishedDay, endPublishedDay);\r\n    this.setState({ sensiLayout });\r\n  };\r\n\r\n  getAmountTrend = async () => {\r\n    const keyword = '';\r\n    const { startPublishedDay, endPublishedDay } = this.state;\r\n    const [totalAmountTrend, sourceAmountTrend] =\r\n      await getAmountTrend(keyword, startPublishedDay, endPublishedDay);\r\n    this.setState({\r\n      totalAmountTrend, sourceAmountTrend,\r\n    });\r\n  };\r\n\r\n  handleDateChange = (moments) => {\r\n    if (!moments) {\r\n      this.setState({\r\n        startPublishedDay: null,\r\n        endPublishedDay: null,\r\n      });\r\n    }\r\n    const [startMoment, endMoment] = moments;\r\n    this.setState({\r\n      startPublishedDay: startMoment.format(DATE_FORMAT),\r\n      endPublishedDay: endMoment.format(DATE_FORMAT),\r\n    });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    console.log('view unmout');\r\n    // clearInterval(this.clk);\r\n  }\r\n\r\n  handleSelect = (name, value) => {\r\n    const newState = {};\r\n    newState[name] = value;\r\n    this.setState(newState);\r\n    const current = '2020-07-18 12:00:00';\r\n    if (name === 'dateRange') {\r\n      switch (value) {\r\n        case 0:\r\n          this.handleDateChange([\r\n            moment(current),\r\n            moment(current).startOf('day'),\r\n          ]);\r\n          break;\r\n        case -1:\r\n        case null:\r\n          this.handleDateChange();\r\n          break;\r\n        default:\r\n          this.handleDateChange([\r\n            moment(current),\r\n            moment(current).subtract(value, 'days'),\r\n          ]);\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { sensiLayout, regionLayout, sourceLayout, totalAmountTrend, sourceAmountTrend } = this.state;\r\n    // console.log( sensiLayout, regionLayout, sourceLayout, totalAmountTrend, sourceAmountTrend)\r\n    // const height = `${document.body.offsetHeight - 128 - 20}px`;\r\n    return (\r\n      <AutofitWrap\r\n        minHeight={600}\r\n        padding={150}\r\n        className=\"view-wrap\"\r\n      >\r\n        <div\r\n          className=\"left-chart\"\r\n        >\r\n          <div className=\"sub-item\">\r\n            <Echart\r\n              title=\"敏感度分布\"\r\n              type=\"doughnutPie\"\r\n              data={sensiLayout}\r\n              size=\"small\"\r\n            />\r\n          </div>\r\n          <div className=\"sub-item\">\r\n            <Echart\r\n              title=\"来源分部\"\r\n              type=\"defaultPie\"\r\n              data={sourceLayout}\r\n              size=\"small\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"main-chart\"\r\n        >\r\n          <Echart\r\n            title=\"地域分布\"\r\n            type=\"chinaMap\"\r\n            data={regionLayout}\r\n            size=\"large\"\r\n          />\r\n        </div>\r\n        <div\r\n          className=\"right-chart\"\r\n        >\r\n          <div className=\"sub-item\">\r\n            <Echart\r\n              title=\"总量趋势\"\r\n              type=\"areaLine\"\r\n              data={totalAmountTrend}\r\n              size=\"small\"\r\n            />\r\n            <Echart\r\n              title=\"来源趋势\"\r\n              type=\"horizontalBar\"\r\n              data={sourceAmountTrend}\r\n              size=\"small\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </AutofitWrap>\r\n    );\r\n  }\r\n}\r\n\r\nexport default View;\r\n","import React from 'react';\r\nimport Home from '../Home/Home';\r\nimport Overall from '../Overall/Overall';\r\nimport Programme from '../Programme/Programme';\r\nimport Admin from '../Admin/Admin';\r\nimport View from '../View/View';\r\n\r\nconst getRoutes = (userType) => {\r\n  const routes = [\r\n    { key: 'home', link: '/home', label: '首页', component: Home },\r\n    { key: 'search', link: '/search', label: '全网搜索', component: Overall },\r\n    { key: 'monitor', link: '/monitor', label: '舆情监测', component: Programme },\r\n    { key: 'view', link: '/view', label: '数据大屏', component: View },\r\n  ];\r\n  if (userType === 'admin') routes.push({ key: 'admin', link: '/admin', label: '用户管理', component: Admin });\r\n  return routes;\r\n};\r\n\r\nexport default getRoutes;\r\n","import requests from '../../requests';\r\n\r\nconst login = async (userName, password, role) => {\r\n  const url = encodeURI(`${requests.login.url}`);\r\n  const response = await fetch(url, {\r\n    method: requests.login.method,\r\n    body: JSON.stringify({\r\n      username: userName,\r\n      password,\r\n      role,\r\n    }),\r\n    withCredentials: true,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Credentials': true,\r\n      'Access-Control-Allow-Origin': 'http://202.120.40.69:28082',\r\n      'Access-Control-Allow-Headers': true,\r\n    },\r\n  });\r\n  const result = response.status === 200 ? await response.json() : {};\r\n  console.log(result);\r\n  return result;\r\n};\r\n\r\nexport default login;\r\n","import React from 'react';\r\nimport { Menu, Dropdown } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { createBrowserHistory } from 'history';\r\nimport getRoutes from '../getRoutes';\r\nimport './Header.scss';\r\nimport { connect } from 'react-redux';\r\nimport logout from '../../../services/request/auth/logout';\r\nimport login from '../../../services/request/auth/login';\r\nimport { actions } from \"../../../redux/actions\";\r\nimport { LogoutOutlined, RadarChartOutlined } from \"@ant-design/icons\";\r\n\r\nconst history = createBrowserHistory();\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { current: 'home' };\r\n    /* this.userMenu = (\r\n      <Menu\r\n        theme=\"dark\"\r\n      >\r\n        <Menu.Item onClick={this.handleLogout}>\r\n          登出\r\n        </Menu.Item>\r\n      </Menu>\r\n    ); */\r\n  }\r\n\r\n  handleLogout = async () => {\r\n    // const result = await logout();\r\n    // if (result.logout !== 1) alert('登出失败');\r\n    // else {\r\n    //   alert('登出成功');\r\n    //   localStorage.removeItem('userName');\r\n    //   localStorage.removeItem('userType');\r\n    //   this.props.onAuthChange();\r\n    //   this.props.history.push('/login');\r\n    // }\r\n    localStorage.removeItem('userName');\r\n    localStorage.removeItem('userType');\r\n    this.props.onAuthChange();\r\n    this.props.history.push('/login');\r\n  };\r\n\r\n  handleClick = (e) => {\r\n    if (e.key === 'search') this.props.onOverallPathChange({ path: ''});\r\n    this.setState({ current: e.key });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    const { userType } = this.props;\r\n    const { pathname } = this.props.location;\r\n    const routeLinks = getRoutes(userType).map((item) => item.link);\r\n    let text = pathname.substring(pathname.lastIndexOf('/') + 1, pathname.length);\r\n    if (!routeLinks.includes(text)) text = 'home';\r\n    this.setState({ current: text });\r\n    history.listen((event) => {\r\n      const test = event.pathname;\r\n      const current = test.substring(test.lastIndexOf('/') + 1, test.length);\r\n      this.setState({ current });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { userType, userName } = this.props;\r\n    const { current } = this.state;\r\n    return (\r\n      <div className=\"mts-header-container\">\r\n        <div className=\"top-bar\">\r\n          <span className=\"title\">\r\n            <RadarChartOutlined />\r\n            &nbsp;\r\n            舆情监测系统\r\n          </span>\r\n          <span className=\"logout\" onClick={this.handleLogout}>\r\n            <LogoutOutlined />\r\n          </span>\r\n          <span className=\"username\">{userName}</span>\r\n        </div>\r\n        <Menu\r\n          onClick={this.handleClick}\r\n          selectedKeys={[current]}\r\n          mode=\"horizontal\"\r\n          className=\"mts-header\"\r\n        >\r\n          {getRoutes(userType).map((route) => (\r\n            <Menu.Item key={route.key}>\r\n              <Link\r\n                to={route.link}\r\n                className=\"link\"\r\n              >\r\n                {route.label}\r\n              </Link>\r\n            </Menu.Item>\r\n          ))}\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userType: state.userType,\r\n  userName: state.userName,\r\n});\r\nconst mapDispatchToProps = {\r\n  onAuthChange: actions.onAuthChange,\r\n  onOverallPathChange: actions.onOverallPathChange,\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Header));\r\n","import { Redirect, Route, Switch } from 'react-router-dom';\r\nimport React from 'react';\r\nimport { Layout } from 'antd';\r\nimport Header from './Header/Header';\r\nimport getRoutes from './getRoutes';\r\nimport './Entry.scss';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nclass Entry extends React.Component {\r\n  render() {\r\n    const { userType } = this.props;\r\n    return (\r\n      <Layout className=\"mts-app-wrap\">\r\n        <Header />\r\n        <Layout.Content\r\n          className=\"mts-app-body\"\r\n          ref={r => this.body = r}\r\n        >\r\n          <Switch>\r\n            {getRoutes(userType).map((item) => (\r\n              <Route path={item.link} component={item.component} />\r\n            ))}\r\n            <Redirect from=\"/*\" to=\"/home\" />\r\n          </Switch>\r\n        </Layout.Content>\r\n        <Layout.Footer className=\"mts-footer\">Shanghai Jiaotong University</Layout.Footer>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userType: state.userType,\r\n});\r\nconst mapDispatchToProps = {};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Entry);\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Form, Input, Button, Checkbox } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport '../Authority.scss';\r\nimport { actions } from '../../../redux/actions';\r\nimport login from '../../../services/request/auth/login';\r\n\r\nclass Login extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.layout = {\r\n      labelCol: { span: 6 },\r\n      wrapperCol: { span: 16 },\r\n    };\r\n    this.tailLayout = {\r\n      wrapperCol: { offset: 6, span: 16 },\r\n    };\r\n  }\r\n\r\n  handleSubmit = async (data) => {\r\n    const result = await login(data.userName, data.password, data.role ? 0 : 1);\r\n    if (result.login !== 1) alert('登录失败');\r\n    else {\r\n      console.log(result);\r\n      localStorage.setItem('userName', result.username);\r\n      localStorage.setItem('userType', result.role === '0' ? 'admin' : 'default');\r\n      this.props.onAuthChange();\r\n      this.props.history.push('/home');\r\n    }\r\n  };\r\n\r\n  handleReject = () => {};\r\n\r\n  render() {\r\n    return (\r\n      <Form\r\n        className=\"login-form\"\r\n        {...this.layout}\r\n        onFinish={this.handleSubmit}\r\n        onFinishFailed={this.handleReject}\r\n      >\r\n        <Form.Item\r\n          label=\"用户名\"\r\n          name=\"userName\"\r\n          rules={[{ required: true, message: '请输入用户名!' }, {\r\n            validator: (rule, value, callback) => {\r\n              const regExp = /^[a-zA-Z0-9_]*$/g;\r\n              if (!regExp.test(value)) callback('用户名格式错误');\r\n              else callback();\r\n            },\r\n          }]}\r\n        >\r\n          <Input maxLength={20} />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"密码\"\r\n          name=\"password\"\r\n          rules={[{ required: true, message: '请输入密码!' }]}\r\n        >\r\n          <Input.Password maxLength={20} />\r\n        </Form.Item>\r\n        <Form.Item\r\n          {...this.tailLayout}\r\n          valuePropName=\"checked\"\r\n          name=\"role\"\r\n        >\r\n          <Checkbox>以管理员身份登录</Checkbox>\r\n        </Form.Item>\r\n        <Form.Item {...this.tailLayout}>\r\n          <Button\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n          >\r\n            登录\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({});\r\nconst mapDispatchToProps = {\r\n  onAuthChange: actions.onAuthChange,\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Login));\r\n","import requests from '../../requests';\r\n\r\nconst register = async (userName, password, email, phone) => {\r\n  const url = encodeURI(`${requests.register.url}`);\r\n  const response = await fetch(url, {\r\n    method: requests.register.method,\r\n    body: JSON.stringify({\r\n      username: userName,\r\n      password,\r\n      email,\r\n      phone,\r\n    }),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n  const result = response.status === 200 ? await response.json() : {};\r\n  return result;\r\n};\r\n\r\nexport default register;\r\n","import React from 'react';\r\nimport { Form, Input, Button } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { actions } from '../../../redux/actions';\r\nimport '../Authority.scss';\r\nimport register from '../../../services/request/auth/register';\r\n\r\nclass Register extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.layout = {\r\n      labelCol: { span: 6 },\r\n      wrapperCol: { span: 16 },\r\n    };\r\n    this.tailLayout = {\r\n      wrapperCol: { offset: 6, span: 16 },\r\n    };\r\n  }\r\n\r\n  handleSubmit = async (data) => {\r\n    const result = await register(data.userName, data.password, data.email, data.phone);\r\n    if (result.register !== 1) alert('注册失败！');\r\n    else alert('注册成功!');\r\n  };\r\n\r\n  handleReject = () => {};\r\n\r\n  render() {\r\n    return (\r\n      <Form\r\n        className=\"login-form\"\r\n        {...this.layout}\r\n        onFinish={this.handleSubmit}\r\n        onFinishFailed={this.handleReject}\r\n      >\r\n        <Form.Item\r\n          label=\"用户名\"\r\n          name=\"userName\"\r\n          rules={[{ required: true, message: '请输入用户名!' }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"密码\"\r\n          name=\"password\"\r\n          rules={[{ required: true, message: '请输入密码!' }]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"确认密码\"\r\n          name=\"confirm\"\r\n          rules={[\r\n            { required: true, message: '请输入密码！' },\r\n            ({ getFieldValue }) => ({\r\n              validator(_, value) {\r\n                if (!value || getFieldValue('password') === value) { return Promise.resolve(); }\r\n                return Promise.reject(new Error('两次输入的密码必须一致！'));\r\n              },\r\n            }),\r\n          ]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"电话\"\r\n          name=\"phone\"\r\n          rules={[{ required: true, message: '请输入电话号码!' }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"电子邮箱\"\r\n          name=\"email\"\r\n          rules={[{ required: true, message: '请输入电子邮箱!' }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          {...this.tailLayout}\r\n        >\r\n          <Button\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n          >\r\n            注册\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({});\r\nconst mapDispatchToProps = {\r\n  onAuthChange: actions.onAuthChange,\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Register));\r\n","import React from 'react';\r\nimport { Layout, Tabs } from 'antd';\r\nimport LoginForm from './Login/Login';\r\nimport RegisterForm from './Register/Register';\r\nimport './Authority.scss';\r\n\r\nclass Authority extends React.Component {\r\n  render() {\r\n    return (\r\n      <Layout className=\"login-wrap\">\r\n        <Tabs className=\"login-tabs\" type=\"card\">\r\n          <Tabs.TabPane tab=\"login\" key=\"login\">\r\n            <LoginForm />\r\n          </Tabs.TabPane>\r\n          <Tabs.TabPane tab=\"register\" key=\"register\">\r\n            <RegisterForm />\r\n          </Tabs.TabPane>\r\n        </Tabs>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Authority;\r\n","import React from 'react';\r\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Entry from '../Entry';\r\nimport Authority from '../../Authority/Authority';\r\nimport { actions } from '../../../redux/actions';\r\n\r\nclass Guard extends React.Component {\r\n  componentDidMount() {\r\n    this.props.onAuthChange();\r\n  }\r\n\r\n  render() {\r\n    const { userName, userType } = this.props;\r\n    const redirectPath = userName ? '/home' : '/login';\r\n    console.log(userName, userType, redirectPath);\r\n    return (\r\n      <Switch>\r\n        {userName && <Route path=\"/\" component={Entry} />}\r\n        {!userName && <Route path=\"/login\" component={Authority} />}\r\n        <Redirect from=\"/*\" to={redirectPath} />\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userName: state.userName,\r\n  userType: state.userType,\r\n});\r\nconst mapDispatchToProps = {\r\n  onAuthChange: actions.onAuthChange,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Guard);\r\n","import mock from 'mockjs';\r\n\r\nconst { integer } = mock.Random;\r\nconst getOverallData = (url) => ({\r\n  'hitNumber': 55,\r\n  'dataContent|10': [{\r\n    'id': '@guid',\r\n    'webpageUrl': '@url',\r\n    'content': '@cparagraph(30)',\r\n    'title': '@cword(10)',\r\n    'publishedDay': '@date(yyyy-MM-dd hh-mm-ss)',\r\n    'captureTime': '@date(yyyy-MM-dd hh-mm-ss)',\r\n    'resource': '@cword(3)',\r\n    'fromType': `${integer(1, 7)}`,\r\n    'cflag': `${integer(1, 2)}`,\r\n  }],\r\n});\r\n\r\nexport default getOverallData;\r\n","import mock from 'mockjs';\r\n\r\nconst { integer } = mock.Random;\r\nconst getProgrammeData = (url) => ({\r\n  'hitNumber': 55,\r\n  'dataContent|10': [{\r\n    'id': '@guid',\r\n    'webpageUrl': '@url',\r\n    'content': '@cparagraph(5)',\r\n    'title': '@cword(10)',\r\n    'publishedDay': '@date(yyyy-MM-dd hh-mm-ss)',\r\n    'captureTime': '@date(yyyy-MM-dd hh-mm-ss)',\r\n    'resource': '@cword(3)',\r\n    'fromType|1-7': '1',\r\n    'cflag|1-7': '1',\r\n  }],\r\n});\r\n\r\nexport default getProgrammeData;\r\n","import Mock from 'mockjs';\r\nimport mockFetch from 'mockjs-fetch';\r\nimport requests from '../requests';\r\nimport getOverallData from './data/getOverallData';\r\nimport getSensiLayout from './data/getSensiLayout';\r\nimport getSourceLayout from './data/getSourceLayout';\r\nimport getAmountTrend from './data/getAmountTrend';\r\nimport getTopics from './data/getTopics';\r\nimport getRegionLayout from './data/getRegionLayout';\r\nimport getProgrammeData from './data/getProgrammeData';\r\nimport getProgramme from './programme/getProgramme';\r\nimport getTraceTree from './data/getTraceTree';\r\nimport login from './auth/login';\r\nimport logout from './auth/logout';\r\nimport register from './auth/register';\r\nimport getUsers from './data/getUsers';\r\nimport delProgramme from './programme/delProgramme';\r\nimport addProgramme from './programme/addProgramme';\r\nimport modifyProgramme from './programme/modifyProgramme';\r\nimport getKeywordsCloud from './data/getKeywordsCloud';\r\nimport getSensitiveWord from \"./data/getSensitiveWord\";\r\nimport getContentTag from \"./data/getContentTag\";\r\n\r\nmockFetch(Mock);\r\n// Mock.mock(requests.getSensiLayout.url, requests.getSensiLayout.method, getSensiLayout());\r\n// Mock.mock(requests.getSourceLayout.url, requests.getSourceLayout.method, getSourceLayout());\r\n// Mock.mock(requests.getAmountTrend.url, requests.getAmountTrend.method, getAmountTrend());\r\n// Mock.mock(requests.getOverallData.url, requests.getOverallData.method, getOverallData());\r\n// Mock.mock(requests.getTopics.url, requests.getTopics.method, getTopics());\r\n// Mock.mock(requests.getRegionLayout.url, requests.getRegionLayout.method, getRegionLayout());\r\n// Mock.mock(requests.getProgrammeData.url, requests.getProgrammeData.method, getProgrammeData());\r\n// Mock.mock(requests.getProgrammes.url, requests.getProgrammes.method, getProgramme());\r\n// Mock.mock(requests.getTraceTree.url, requests.getTraceTree.method, getTraceTree());\r\n// Mock.mock(requests.logout.url, requests.logout.method, logout);\r\n// Mock.mock(requests.login.url, requests.login.method, login());\r\n// Mock.mock(requests.register.url, requests.register.method, register());\r\n// Mock.mock(requests.getUsers.url, requests.getUsers.method, getUsers());\r\n// Mock.mock(requests.delProgramme.url, requests.delProgramme.method, delProgramme());\r\n// Mock.mock(requests.addProgramme.url, requests.addProgramme.method, addProgramme());\r\n// Mock.mock(requests.modifyProgramme.url, requests.modifyProgramme.method, modifyProgramme());\r\n// Mock.mock(requests.getKeywordsCloud.url, requests.getKeywordsCloud.method, getKeywordsCloud());\r\n// Mock.mock(requests.getSensitiveWord.url, requests.getSensitiveWord.method, getSensitiveWord());\r\n// Mock.mock(requests.getContentTag.url, requests.getContentTag.method, getContentTag())\r\n\r\n// Mock.mock(requests.getSensiLayout.url, requests.getSensiLayout.method, getSensiLayout());\r\n// Mock.mock(requests.getSourceLayout.url, requests.getSourceLayout.method, getSourceLayout());\r\n// Mock.mock(requests.getAmountTrend.url, requests.getAmountTrend.method, getAmountTrend());\r\n// Mock.mock(requests.getOverallData.url, requests.getOverallData.method, getOverallData());\r\n// Mock.mock(requests.getTopics.url, requests.getTopics.method, getTopics());\r\n// Mock.mock(requests.getRegionLayout.url, requests.getRegionLayout.method, getRegionLayout());\r\n// Mock.mock(requests.getProgrammeData.url, requests.getProgrammeData.method, getProgrammeData());\r\n// Mock.mock(requests.getProgrammes.url, requests.getProgrammes.method, getProgramme());\r\n// Mock.mock(requests.getTraceTree.url, requests.getTraceTree.method, getTraceTree());\r\n// Mock.mock(requests.logout.url, requests.logout.method, logout);\r\n// Mock.mock(requests.login.url, requests.login.method, login());\r\n// Mock.mock(requests.register.url, requests.register.method, register());\r\n// Mock.mock(requests.getUsers.url, requests.getUsers.method, getUsers());\r\n// Mock.mock(requests.delProgramme.url, requests.delProgramme.method, delProgramme());\r\n// Mock.mock(requests.addProgramme.url, requests.addProgramme.method, addProgramme());\r\n// Mock.mock(requests.modifyProgramme.url, requests.modifyProgramme.method, modifyProgramme());\r\n// Mock.mock(requests.getKeywordsCloud.url, requests.getKeywordsCloud.method, getKeywordsCloud());\r\n// Mock.mock(requests.getSensitiveWord.url, requests.getSensitiveWord.method, getSensitiveWord());\r\n// Mock.mock(requests.getContentTag.url, requests.getContentTag.method, getContentTag());\r\n","// eslint-disable-next-line import/prefer-default-export\r\nexport const handleAuthChange = (prevState) => {\r\n  return {\r\n    ...prevState,\r\n    userName: localStorage.getItem('userName'),\r\n    userType: localStorage.getItem('userType'),\r\n  };\r\n};\r\n","// eslint-disable-next-line import/prefer-default-export\r\nexport const handleProgrammeChange = (prevState, data) => {\r\n  return {\r\n    ...prevState,\r\n    curProgramme: data.curProgramme,\r\n  };\r\n};\r\n","// eslint-disable-next-line import/prefer-default-export\r\nexport const handleOverallPathChange = (prevState, data) => {\r\n  return {\r\n    ...prevState,\r\n    overallPath: data.path,\r\n  };\r\n};\r\n","import { actionTypes } from './actions';\r\nimport { handleAuthChange } from './reducer/user';\r\nimport { handleProgrammeChange } from './reducer/programme';\r\nimport { handleOverallPathChange } from \"./reducer/overall\";\r\n\r\nconst initialState = {\r\n  userName: undefined,\r\n  userType: undefined,\r\n  curProgramme: undefined,\r\n  overallPath: '',\r\n};\r\n\r\nexport default (prevState = initialState, actions) => {\r\n  let newState;\r\n  const { type, data } = actions;\r\n  switch (type) {\r\n    case actionTypes.ON_AUTH_CHANGE:\r\n      newState = handleAuthChange(prevState, data);\r\n      break;\r\n    case actionTypes.ON_PROGRAMME_CHANGE:\r\n      newState = handleProgrammeChange(prevState, data);\r\n      break;\r\n    case actionTypes.ON_OVERALL_PATH_CHANGE:\r\n      newState = handleOverallPathChange(prevState, data);\r\n      break;\r\n    default:\r\n      newState = { ...prevState };\r\n      break;\r\n  }\r\n  return newState;\r\n};\r\n","import { createStore } from 'redux';\r\nimport reducer from './reducer';\r\n\r\nconst Store = createStore(reducer);\r\nexport default Store;\r\n","import React from 'react';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport Guard from './Entry/Guard/Guard';\r\nimport { actions } from '../redux/actions';\r\n\r\nimport '../config/constant.scss';\r\nimport '../services/mocks/mocks';\r\nimport store from '../redux/store';\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n        <BrowserRouter>\r\n          <Guard />\r\n        </BrowserRouter>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}